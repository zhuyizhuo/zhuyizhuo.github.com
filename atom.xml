<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>ä¸€å“çš„ä¸ªäººåšå®¢</title>
  
  <subtitle>é•¿æœŸç»´æŠ¤ï¼Œéšç¼˜æ›´æ–°ã€‚</subtitle>
  <link href="https://blog.zhuyizhuo.online/atom.xml" rel="self"/>
  
  <link href="https://blog.zhuyizhuo.online/"/>
  <updated>2025-09-26T09:17:19.579Z</updated>
  <id>https://blog.zhuyizhuo.online/</id>
  
  <author>
    <name>ä¸€å“</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Javaåº”ç”¨å®‰å…¨é˜²æŠ¤ä½“ç³»æ„å»º</title>
    <link href="https://blog.zhuyizhuo.online/2025/08/25/security/2025-java-application-security/"/>
    <id>https://blog.zhuyizhuo.online/2025/08/25/security/2025-java-application-security/</id>
    <published>2025-08-24T16:00:00.000Z</published>
    <updated>2025-09-26T09:17:19.579Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="Javaåº”ç”¨å®‰å…¨é˜²æŠ¤ä½“ç³»æ„å»º-ğŸ›¡ï¸"><a href="#Javaåº”ç”¨å®‰å…¨é˜²æŠ¤ä½“ç³»æ„å»º-ğŸ›¡ï¸" class="headerlink" title="Javaåº”ç”¨å®‰å…¨é˜²æŠ¤ä½“ç³»æ„å»º ğŸ›¡ï¸"></a>Javaåº”ç”¨å®‰å…¨é˜²æŠ¤ä½“ç³»æ„å»º ğŸ›¡ï¸</h1><p>å¤§å®¶å¥½ï¼ğŸ‘‹ åœ¨å½“ä»Šæ•°å­—åŒ–æ—¶ä»£ï¼Œåº”ç”¨å®‰å…¨å·²ç»æˆä¸ºä¼ä¸šå‘å±•çš„é‡ä¸­ä¹‹é‡ã€‚éšç€ç½‘ç»œæ”»å‡»æ‰‹æ®µçš„ä¸æ–­æ¼”è¿›å’Œå¤æ‚åŒ–ï¼Œæ„å»ºä¸€ä¸ªå…¨é¢ã€å¯é çš„Javaåº”ç”¨å®‰å…¨é˜²æŠ¤ä½“ç³»å˜å¾—å°¤ä¸ºé‡è¦ã€‚ä»Šå¤©ï¼Œæˆ‘å°†å’Œå¤§å®¶åˆ†äº«Javaåº”ç”¨å®‰å…¨é˜²æŠ¤ä½“ç³»æ„å»ºçš„æœ€ä½³å®è·µï¼Œå¸®åŠ©ä½ æ‰“é€ å›ºè‹¥é‡‘æ±¤çš„Javaåº”ç”¨å®‰å…¨é˜²çº¿ã€‚</p><h2 id="ä¸€ã€Javaåº”ç”¨å®‰å…¨å¨èƒå…¨æ™¯åˆ†æ-ğŸ”"><a href="#ä¸€ã€Javaåº”ç”¨å®‰å…¨å¨èƒå…¨æ™¯åˆ†æ-ğŸ”" class="headerlink" title="ä¸€ã€Javaåº”ç”¨å®‰å…¨å¨èƒå…¨æ™¯åˆ†æ ğŸ”"></a>ä¸€ã€Javaåº”ç”¨å®‰å…¨å¨èƒå…¨æ™¯åˆ†æ ğŸ”</h2><h3 id="1-å½“å‰Javaåº”ç”¨é¢ä¸´çš„ä¸»è¦å®‰å…¨å¨èƒ"><a href="#1-å½“å‰Javaåº”ç”¨é¢ä¸´çš„ä¸»è¦å®‰å…¨å¨èƒ" class="headerlink" title="1. å½“å‰Javaåº”ç”¨é¢ä¸´çš„ä¸»è¦å®‰å…¨å¨èƒ"></a>1. å½“å‰Javaåº”ç”¨é¢ä¸´çš„ä¸»è¦å®‰å…¨å¨èƒ</h3><p>Javaä½œä¸ºä¼ä¸šçº§åº”ç”¨å¼€å‘çš„ä¸»æµè¯­è¨€ï¼Œé¢ä¸´ç€å„ç§å®‰å…¨å¨èƒï¼š</p><ul><li><strong>æ³¨å…¥æ”»å‡»</strong>ï¼šSQLæ³¨å…¥ã€å‘½ä»¤æ³¨å…¥ã€LDAPæ³¨å…¥ç­‰</li><li><strong>èº«ä»½éªŒè¯å’Œæˆæƒé—®é¢˜</strong>ï¼šå¼±å¯†ç ã€ä¼šè¯å›ºå®šã€æœªæˆæƒè®¿é—®ç­‰</li><li><strong>æ•æ„Ÿæ•°æ®æ³„éœ²</strong>ï¼šæ˜æ–‡å­˜å‚¨å¯†ç ã€ä¸å®‰å…¨çš„åŠ å¯†ç®—æ³•ç­‰</li><li><strong>è·¨ç«™è„šæœ¬ï¼ˆXSSï¼‰</strong>ï¼šå­˜å‚¨å‹XSSã€åå°„å‹XSSã€DOMå‹XSS</li><li><strong>è·¨ç«™è¯·æ±‚ä¼ªé€ ï¼ˆCSRFï¼‰</strong>ï¼šè¯±å¯¼ç”¨æˆ·æ‰§è¡Œéé¢„æœŸæ“ä½œ</li><li><strong>ä¸å®‰å…¨çš„ç›´æ¥å¯¹è±¡å¼•ç”¨</strong>ï¼šæœªéªŒè¯çš„ç”¨æˆ·è¾“å…¥ç›´æ¥ç”¨äºè®¿é—®å¯¹è±¡</li><li><strong>å®‰å…¨é…ç½®é”™è¯¯</strong>ï¼šé»˜è®¤é…ç½®ã€æœªç¦ç”¨ä¸å¿…è¦çš„åŠŸèƒ½ç­‰</li><li><strong>ç»„ä»¶æ¼æ´</strong>ï¼šç¬¬ä¸‰æ–¹åº“å’Œæ¡†æ¶çš„å·²çŸ¥æ¼æ´</li><li><strong>ååºåˆ—åŒ–æ¼æ´</strong>ï¼šJavaååºåˆ—åŒ–æ¼æ´å¦‚GhostCatã€Fastjsonç­‰</li><li><strong>DDoSæ”»å‡»</strong>ï¼šåˆ†å¸ƒå¼æ‹’ç»æœåŠ¡æ”»å‡»</li></ul><h3 id="2-Javaå®‰å…¨æ¼æ´è¶‹åŠ¿åˆ†æ"><a href="#2-Javaå®‰å…¨æ¼æ´è¶‹åŠ¿åˆ†æ" class="headerlink" title="2. Javaå®‰å…¨æ¼æ´è¶‹åŠ¿åˆ†æ"></a>2. Javaå®‰å…¨æ¼æ´è¶‹åŠ¿åˆ†æ</h3><p>æ ¹æ®OWASPå’ŒCVEçš„ç»Ÿè®¡æ•°æ®ï¼ŒJavaåº”ç”¨å®‰å…¨æ¼æ´å‘ˆç°ä»¥ä¸‹è¶‹åŠ¿ï¼š</p><ul><li><strong>ç¬¬ä¸‰æ–¹ç»„ä»¶æ¼æ´å æ¯”é«˜</strong>ï¼šè¶…è¿‡60%çš„Javaåº”ç”¨å®‰å…¨æ¼æ´æ¥è‡ªç¬¬ä¸‰æ–¹åº“å’Œæ¡†æ¶</li><li><strong>APIå®‰å…¨é—®é¢˜æ—¥ç›Šçªå‡º</strong>ï¼šéšç€å¾®æœåŠ¡å’ŒAPIç»æµçš„å‘å±•ï¼ŒAPIå®‰å…¨æ¼æ´æ•°é‡å¿«é€Ÿå¢é•¿</li><li><strong>ä¾›åº”é“¾æ”»å‡»æˆä¸ºæ–°å¨èƒ</strong>ï¼šæ”»å‡»è€…è¶Šæ¥è¶Šå¤šåœ°é€šè¿‡ä¾›åº”é“¾æ³¨å…¥æ¶æ„ä»£ç </li><li><strong>å†…å­˜å®‰å…¨é—®é¢˜ä¾ç„¶å­˜åœ¨</strong>ï¼šå°½ç®¡Javaæœ‰å†…å­˜ç®¡ç†æœºåˆ¶ï¼Œä½†å†…å­˜æ³„æ¼ã€å †æº¢å‡ºç­‰é—®é¢˜ä»æ—¶æœ‰å‘ç”Ÿ</li><li><strong>åŠ å¯†ç®—æ³•è¿‡æ—¶é£é™©</strong>ï¼šæ—§çš„åŠ å¯†ç®—æ³•å¦‚SHA-1ã€MD5ç­‰é€æ¸è¢«ç ´è§£ï¼Œéœ€è¦å‡çº§åˆ°æ›´å®‰å…¨çš„ç®—æ³•</li></ul><h3 id="3-å®‰å…¨åˆè§„è¦æ±‚å¯¹Javaåº”ç”¨çš„å½±å“"><a href="#3-å®‰å…¨åˆè§„è¦æ±‚å¯¹Javaåº”ç”¨çš„å½±å“" class="headerlink" title="3. å®‰å…¨åˆè§„è¦æ±‚å¯¹Javaåº”ç”¨çš„å½±å“"></a>3. å®‰å…¨åˆè§„è¦æ±‚å¯¹Javaåº”ç”¨çš„å½±å“</h3><p>å„ç§å®‰å…¨åˆè§„è¦æ±‚ä¹Ÿå¯¹Javaåº”ç”¨æå‡ºäº†æ›´é«˜çš„å®‰å…¨æ ‡å‡†ï¼š</p><ul><li><strong>GDPR</strong>ï¼šæ¬§ç›Ÿã€Šé€šç”¨æ•°æ®ä¿æŠ¤æ¡ä¾‹ã€‹ï¼Œè¦æ±‚ä¿æŠ¤ä¸ªäººæ•°æ®å’Œéšç§</li><li><strong>CCPA/CPRA</strong>ï¼šåŠ å·æ¶ˆè´¹è€…éšç§æ³•æ¡ˆï¼ŒåŠ å¼ºäº†å¯¹æ¶ˆè´¹è€…æ•°æ®çš„ä¿æŠ¤</li><li><strong>PCI DSS</strong>ï¼šæ”¯ä»˜å¡è¡Œä¸šæ•°æ®å®‰å…¨æ ‡å‡†ï¼Œé€‚ç”¨äºå¤„ç†ä¿¡ç”¨å¡ä¿¡æ¯çš„åº”ç”¨</li><li><strong>ISO 27001</strong>ï¼šä¿¡æ¯å®‰å…¨ç®¡ç†ä½“ç³»æ ‡å‡†ï¼Œæä¾›äº†å…¨é¢çš„ä¿¡æ¯å®‰å…¨æ¡†æ¶</li><li><strong>ç­‰ä¿2.0</strong>ï¼šä¸­å›½ç½‘ç»œå®‰å…¨ç­‰çº§ä¿æŠ¤åˆ¶åº¦ï¼Œè¦æ±‚ä¸åŒç­‰çº§çš„ä¿¡æ¯ç³»ç»Ÿé‡‡å–ç›¸åº”çš„å®‰å…¨æªæ–½</li><li><strong>HIPAA</strong>ï¼šå¥åº·ä¿é™©ä¾¿æºæ€§å’Œè´£ä»»æ³•æ¡ˆï¼Œé€‚ç”¨äºåŒ»ç–—å¥åº·è¡Œä¸š</li></ul><h2 id="äºŒã€Javaåº”ç”¨å®‰å…¨æ¶æ„è®¾è®¡åŸåˆ™-ğŸ—ï¸"><a href="#äºŒã€Javaåº”ç”¨å®‰å…¨æ¶æ„è®¾è®¡åŸåˆ™-ğŸ—ï¸" class="headerlink" title="äºŒã€Javaåº”ç”¨å®‰å…¨æ¶æ„è®¾è®¡åŸåˆ™ ğŸ—ï¸"></a>äºŒã€Javaåº”ç”¨å®‰å…¨æ¶æ„è®¾è®¡åŸåˆ™ ğŸ—ï¸</h2><h3 id="1-åˆ†å±‚å®‰å…¨æ¶æ„è®¾è®¡"><a href="#1-åˆ†å±‚å®‰å…¨æ¶æ„è®¾è®¡" class="headerlink" title="1. åˆ†å±‚å®‰å…¨æ¶æ„è®¾è®¡"></a>1. åˆ†å±‚å®‰å…¨æ¶æ„è®¾è®¡</h3><p>æ„å»ºJavaåº”ç”¨å®‰å…¨é˜²æŠ¤ä½“ç³»ï¼Œåº”é‡‡ç”¨åˆ†å±‚å®‰å…¨æ¶æ„è®¾è®¡åŸåˆ™ï¼š</p><ul><li><strong>ç½‘ç»œå±‚å®‰å…¨</strong>ï¼šé˜²ç«å¢™ã€WAFã€DDoSé˜²æŠ¤ã€TLSåŠ å¯†é€šä¿¡ç­‰</li><li><strong>åº”ç”¨å±‚å®‰å…¨</strong>ï¼šèº«ä»½éªŒè¯ã€æˆæƒã€ä¼šè¯ç®¡ç†ã€è¾“å…¥éªŒè¯ç­‰</li><li><strong>æ•°æ®å±‚å®‰å…¨</strong>ï¼šæ•°æ®åŠ å¯†ã€è®¿é—®æ§åˆ¶ã€æ•°æ®è„±æ•ã€å¤‡ä»½æ¢å¤ç­‰</li><li><strong>åŸºç¡€è®¾æ–½å®‰å…¨</strong>ï¼šæ“ä½œç³»ç»Ÿå®‰å…¨ã€å®¹å™¨å®‰å…¨ã€è™šæ‹ŸåŒ–å®‰å…¨ç­‰</li><li><strong>è¿ç»´å®‰å…¨</strong>ï¼šæ—¥å¿—å®¡è®¡ã€æ¼æ´æ‰«æã€å®‰å…¨ç›‘æ§ã€åº”æ€¥å“åº”ç­‰</li><li><strong>å¼€å‘å®‰å…¨</strong>ï¼šå®‰å…¨ç¼–ç ã€ä»£ç å®¡æŸ¥ã€å®‰å…¨æµ‹è¯•ã€DevSecOpsç­‰</li></ul><h3 id="2-çºµæ·±é˜²å¾¡ç­–ç•¥"><a href="#2-çºµæ·±é˜²å¾¡ç­–ç•¥" class="headerlink" title="2. çºµæ·±é˜²å¾¡ç­–ç•¥"></a>2. çºµæ·±é˜²å¾¡ç­–ç•¥</h3><p>çºµæ·±é˜²å¾¡æ˜¯ä¸€ç§å¤šå±‚æ¬¡çš„å®‰å…¨é˜²æŠ¤ç­–ç•¥ï¼Œé€šè¿‡åœ¨ä¸åŒå±‚æ¬¡è®¾ç½®å®‰å…¨é˜²çº¿ï¼Œæé«˜ç³»ç»Ÿçš„æ•´ä½“å®‰å…¨æ€§ï¼š</p><ol><li><strong>ç‰©ç†å±‚å®‰å…¨</strong>ï¼šæ•°æ®ä¸­å¿ƒã€æœåŠ¡å™¨ç­‰ç‰©ç†è®¾æ–½çš„å®‰å…¨</li><li><strong>ç½‘ç»œå±‚å®‰å…¨</strong>ï¼šç½‘ç»œéš”ç¦»ã€è®¿é—®æ§åˆ¶ã€æµé‡ç›‘æ§ç­‰</li><li><strong>ç³»ç»Ÿå±‚å®‰å…¨</strong>ï¼šæ“ä½œç³»ç»ŸåŠ å›ºã€è¡¥ä¸ç®¡ç†ã€é˜²ç—…æ¯’è½¯ä»¶ç­‰</li><li><strong>åº”ç”¨å±‚å®‰å…¨</strong>ï¼šèº«ä»½éªŒè¯ã€æˆæƒã€è¾“å…¥éªŒè¯ã€è¾“å‡ºç¼–ç ç­‰</li><li><strong>æ•°æ®å±‚å®‰å…¨</strong>ï¼šæ•°æ®åŠ å¯†ã€è®¿é—®æ§åˆ¶ã€æ•°æ®è„±æ•ç­‰</li><li><strong>ç®¡ç†å±‚å®‰å…¨</strong>ï¼šå®‰å…¨ç­–ç•¥ã€å®‰å…¨åŸ¹è®­ã€å®‰å…¨å®¡è®¡ç­‰</li></ol><h3 id="3-æœ€å°æƒé™åŸåˆ™"><a href="#3-æœ€å°æƒé™åŸåˆ™" class="headerlink" title="3. æœ€å°æƒé™åŸåˆ™"></a>3. æœ€å°æƒé™åŸåˆ™</h3><p>æœ€å°æƒé™åŸåˆ™æ˜¯æŒ‡ç³»ç»Ÿä¸­çš„æ¯ä¸ªç”¨æˆ·ã€è¿›ç¨‹å’ŒæœåŠ¡éƒ½åº”è¯¥æ‹¥æœ‰å®Œæˆå…¶ä»»åŠ¡æ‰€éœ€çš„æœ€å°æƒé™ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å®ç°æœ€å°æƒé™åŸåˆ™çš„ç¤ºä¾‹</span></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserServiceImpl</span> <span class="keyword">implements</span> <span class="title">UserService</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> UserRepository userRepository;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> PasswordEncoder passwordEncoder;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// æ™®é€šç”¨æˆ·åªèƒ½è¯»å–è‡ªå·±çš„ä¿¡æ¯</span></span><br><span class="line">    <span class="meta">@PreAuthorize(&quot;#id == authentication.principal.id&quot;)</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> User <span class="title">getUserById</span><span class="params">(Long id)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> userRepository.findById(id)</span><br><span class="line">                .orElseThrow(() -&gt; <span class="keyword">new</span> ResourceNotFoundException(<span class="string">&quot;User not found&quot;</span>));</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// ç®¡ç†å‘˜å¯ä»¥è¯»å–æ‰€æœ‰ç”¨æˆ·ä¿¡æ¯</span></span><br><span class="line">    <span class="meta">@PreAuthorize(&quot;hasRole(&#x27;ADMIN&#x27;)&quot;)</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;User&gt; <span class="title">getAllUsers</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> userRepository.findAll();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// åªæœ‰ç®¡ç†å‘˜å¯ä»¥åˆ›å»ºç”¨æˆ·</span></span><br><span class="line">    <span class="meta">@PreAuthorize(&quot;hasRole(&#x27;ADMIN&#x27;)&quot;)</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> User <span class="title">createUser</span><span class="params">(UserDTO userDTO)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// æ£€æŸ¥ç”¨æˆ·æ˜¯å¦å·²å­˜åœ¨</span></span><br><span class="line">        <span class="keyword">if</span> (userRepository.existsByUsername(userDTO.getUsername())) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> BadRequestException(<span class="string">&quot;Username already exists&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// åˆ›å»ºæ–°ç”¨æˆ·</span></span><br><span class="line">        User user = <span class="keyword">new</span> User();</span><br><span class="line">        user.setUsername(userDTO.getUsername());</span><br><span class="line">        user.setPassword(passwordEncoder.encode(userDTO.getPassword()));</span><br><span class="line">        user.setEmail(userDTO.getEmail());</span><br><span class="line">        user.setRoles(Collections.singletonList(Role.ROLE_USER));</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> userRepository.save(user);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ä¸‰ã€èº«ä»½è®¤è¯ä¸è®¿é—®æ§åˆ¶å®‰å…¨å®è·µ-ğŸ”‘"><a href="#ä¸‰ã€èº«ä»½è®¤è¯ä¸è®¿é—®æ§åˆ¶å®‰å…¨å®è·µ-ğŸ”‘" class="headerlink" title="ä¸‰ã€èº«ä»½è®¤è¯ä¸è®¿é—®æ§åˆ¶å®‰å…¨å®è·µ ğŸ”‘"></a>ä¸‰ã€èº«ä»½è®¤è¯ä¸è®¿é—®æ§åˆ¶å®‰å…¨å®è·µ ğŸ”‘</h2><h3 id="1-ç°ä»£èº«ä»½è®¤è¯æ–¹æ¡ˆ"><a href="#1-ç°ä»£èº«ä»½è®¤è¯æ–¹æ¡ˆ" class="headerlink" title="1. ç°ä»£èº«ä»½è®¤è¯æ–¹æ¡ˆ"></a>1. ç°ä»£èº«ä»½è®¤è¯æ–¹æ¡ˆ</h3><p>ä¼ ç»Ÿçš„ç”¨æˆ·åå¯†ç è®¤è¯æ–¹å¼å­˜åœ¨è¯¸å¤šå®‰å…¨éšæ‚£ï¼Œç°ä»£åº”ç”¨åº”é‡‡ç”¨æ›´å®‰å…¨çš„èº«ä»½è®¤è¯æ–¹æ¡ˆï¼š</p><h4 id="1-1-å¤šå› ç´ è®¤è¯ï¼ˆMFAï¼‰"><a href="#1-1-å¤šå› ç´ è®¤è¯ï¼ˆMFAï¼‰" class="headerlink" title="1.1 å¤šå› ç´ è®¤è¯ï¼ˆMFAï¼‰"></a>1.1 å¤šå› ç´ è®¤è¯ï¼ˆMFAï¼‰</h4><p>å¤šå› ç´ è®¤è¯è¦æ±‚ç”¨æˆ·æä¾›ä¸¤ç§æˆ–æ›´å¤šçš„éªŒè¯å› ç´ ï¼Œæ˜¾è‘—æé«˜äº†è´¦æˆ·å®‰å…¨æ€§ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MfaService</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> UserRepository userRepository;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> TotpService totpService;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// ç”ŸæˆMFAå¯†é’¥å’ŒäºŒç»´ç </span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> MfaSetupResponse <span class="title">setupMfa</span><span class="params">(String username)</span> </span>&#123;</span><br><span class="line">        User user = userRepository.findByUsername(username)</span><br><span class="line">                .orElseThrow(() -&gt; <span class="keyword">new</span> UserNotFoundException(<span class="string">&quot;User not found&quot;</span>));</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// ç”ŸæˆTOTPå¯†é’¥</span></span><br><span class="line">        String secretKey = totpService.generateSecretKey();</span><br><span class="line">        user.setMfaSecretKey(secretKey);</span><br><span class="line">        userRepository.save(user);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// ç”ŸæˆQRç URL</span></span><br><span class="line">        String qrCodeUrl = totpService.generateQrCodeUrl(username, secretKey);</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> MfaSetupResponse(secretKey, qrCodeUrl);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// éªŒè¯MFAä»£ç </span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">verifyMfa</span><span class="params">(String username, String code)</span> </span>&#123;</span><br><span class="line">        User user = userRepository.findByUsername(username)</span><br><span class="line">                .orElseThrow(() -&gt; <span class="keyword">new</span> UserNotFoundException(<span class="string">&quot;User not found&quot;</span>));</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> totpService.verifyCode(user.getMfaSecretKey(), code);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="1-2-OAuth2-0ä¸OpenID-Connect"><a href="#1-2-OAuth2-0ä¸OpenID-Connect" class="headerlink" title="1.2 OAuth2.0ä¸OpenID Connect"></a>1.2 OAuth2.0ä¸OpenID Connect</h4><p>OAuth2.0æ˜¯ä¸€ç§æˆæƒæ¡†æ¶ï¼ŒOpenID Connectæ˜¯åŸºäºOAuth2.0çš„èº«ä»½è®¤è¯åè®®ï¼Œå®ƒä»¬å¯ä»¥å®ç°ç¬¬ä¸‰æ–¹ç™»å½•å’Œæˆæƒï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@EnableWebSecurity</span></span><br><span class="line"><span class="meta">@EnableMethodSecurity</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SecurityConfig</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> SecurityFilterChain <span class="title">filterChain</span><span class="params">(HttpSecurity http)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        http</span><br><span class="line">            .authorizeHttpRequests(authorize -&gt; authorize</span><br><span class="line">                .requestMatchers(<span class="string">&quot;/public/**&quot;</span>).permitAll()</span><br><span class="line">                .anyRequest().authenticated()</span><br><span class="line">            )</span><br><span class="line">            .oauth2ResourceServer(oauth2 -&gt; oauth2</span><br><span class="line">                .jwt(jwt -&gt; jwt</span><br><span class="line">                    .decoder(jwtDecoder())</span><br><span class="line">                    .jwtAuthenticationConverter(jwtAuthenticationConverter())</span><br><span class="line">                )</span><br><span class="line">            )</span><br><span class="line">            .sessionManagement(session -&gt; session</span><br><span class="line">                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)</span><br><span class="line">            );</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> http.build();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> JwtDecoder <span class="title">jwtDecoder</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">// é…ç½®JWTè§£ç å™¨</span></span><br><span class="line">        <span class="keyword">return</span> NimbusJwtDecoder.withPublicKey(rsaPublicKey()).build();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> JwtAuthenticationConverter <span class="title">jwtAuthenticationConverter</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">// é…ç½®JWTè®¤è¯è½¬æ¢å™¨</span></span><br><span class="line">        JwtGrantedAuthoritiesConverter grantedAuthoritiesConverter = <span class="keyword">new</span> JwtGrantedAuthoritiesConverter();</span><br><span class="line">        grantedAuthoritiesConverter.setAuthoritiesClaimName(<span class="string">&quot;roles&quot;</span>);</span><br><span class="line">        grantedAuthoritiesConverter.setAuthorityPrefix(<span class="string">&quot;ROLE_&quot;</span>);</span><br><span class="line">        </span><br><span class="line">        JwtAuthenticationConverter jwtAuthenticationConverter = <span class="keyword">new</span> JwtAuthenticationConverter();</span><br><span class="line">        jwtAuthenticationConverter.setJwtGrantedAuthoritiesConverter(grantedAuthoritiesConverter);</span><br><span class="line">        <span class="keyword">return</span> jwtAuthenticationConverter;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="2-ç»†ç²’åº¦æˆæƒæ§åˆ¶"><a href="#2-ç»†ç²’åº¦æˆæƒæ§åˆ¶" class="headerlink" title="2. ç»†ç²’åº¦æˆæƒæ§åˆ¶"></a>2. ç»†ç²’åº¦æˆæƒæ§åˆ¶</h3><p>ç»†ç²’åº¦æˆæƒæ§åˆ¶å¯ä»¥å®ç°å¯¹èµ„æºçš„ç²¾ç¡®è®¿é—®æ§åˆ¶ï¼Œç¡®ä¿ç”¨æˆ·åªèƒ½è®¿é—®å…¶è¢«æˆæƒçš„èµ„æºï¼š</p><h4 id="2-1-åŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶ï¼ˆRBACï¼‰"><a href="#2-1-åŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶ï¼ˆRBACï¼‰" class="headerlink" title="2.1 åŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶ï¼ˆRBACï¼‰"></a>2.1 åŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶ï¼ˆRBACï¼‰</h4><p>RBACé€šè¿‡å°†æƒé™åˆ†é…ç»™è§’è‰²ï¼Œå†å°†è§’è‰²åˆ†é…ç»™ç”¨æˆ·ï¼Œå®ç°äº†æƒé™çš„é›†ä¸­ç®¡ç†ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@EnableMethodSecurity</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MethodSecurityConfig</span> </span>&#123;</span><br><span class="line">    <span class="comment">// å¯ç”¨æ–¹æ³•çº§å®‰å…¨</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DocumentService</span> </span>&#123;</span><br><span class="line">    <span class="comment">// åªæœ‰æ–‡æ¡£æ‰€æœ‰è€…æˆ–ç®¡ç†å‘˜å¯ä»¥æŸ¥çœ‹æ–‡æ¡£</span></span><br><span class="line">    <span class="meta">@PreAuthorize(&quot;@documentSecurityService.isOwner(#documentId, authentication.principal.id) or hasRole(&#x27;ADMIN&#x27;)&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Document <span class="title">getDocument</span><span class="params">(Long documentId)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// è·å–æ–‡æ¡£é€»è¾‘</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// åªæœ‰æ–‡æ¡£æ‰€æœ‰è€…æˆ–ç®¡ç†å‘˜å¯ä»¥ç¼–è¾‘æ–‡æ¡£</span></span><br><span class="line">    <span class="meta">@PreAuthorize(&quot;@documentSecurityService.isOwner(#documentId, authentication.principal.id) or hasRole(&#x27;ADMIN&#x27;)&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Document <span class="title">updateDocument</span><span class="params">(Long documentId, DocumentDTO documentDTO)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// æ›´æ–°æ–‡æ¡£é€»è¾‘</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// åªæœ‰ç®¡ç†å‘˜å¯ä»¥åˆ é™¤æ–‡æ¡£</span></span><br><span class="line">    <span class="meta">@PreAuthorize(&quot;hasRole(&#x27;ADMIN&#x27;)&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">deleteDocument</span><span class="params">(Long documentId)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// åˆ é™¤æ–‡æ¡£é€»è¾‘</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Component(&quot;documentSecurityService&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DocumentSecurityService</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> DocumentRepository documentRepository;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// æ£€æŸ¥ç”¨æˆ·æ˜¯å¦æ˜¯æ–‡æ¡£æ‰€æœ‰è€…</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isOwner</span><span class="params">(Long documentId, Long userId)</span> </span>&#123;</span><br><span class="line">        Document document = documentRepository.findById(documentId)</span><br><span class="line">                .orElseThrow(() -&gt; <span class="keyword">new</span> ResourceNotFoundException(<span class="string">&quot;Document not found&quot;</span>));</span><br><span class="line">        <span class="keyword">return</span> document.getOwnerId().equals(userId);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="2-2-åŸºäºå±æ€§çš„è®¿é—®æ§åˆ¶ï¼ˆABACï¼‰"><a href="#2-2-åŸºäºå±æ€§çš„è®¿é—®æ§åˆ¶ï¼ˆABACï¼‰" class="headerlink" title="2.2 åŸºäºå±æ€§çš„è®¿é—®æ§åˆ¶ï¼ˆABACï¼‰"></a>2.2 åŸºäºå±æ€§çš„è®¿é—®æ§åˆ¶ï¼ˆABACï¼‰</h4><p>ABACåŸºäºç”¨æˆ·ã€èµ„æºã€ç¯å¢ƒç­‰å±æ€§è¿›è¡Œè®¿é—®æ§åˆ¶ï¼Œæä¾›äº†æ›´çµæ´»çš„æˆæƒæœºåˆ¶ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DocumentService</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> AbacService abacService;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> Document <span class="title">getDocument</span><span class="params">(Long documentId, User user)</span> </span>&#123;</span><br><span class="line">        Document document = documentRepository.findById(documentId)</span><br><span class="line">                .orElseThrow(() -&gt; <span class="keyword">new</span> ResourceNotFoundException(<span class="string">&quot;Document not found&quot;</span>));</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// æ„å»ºè®¿é—®æ§åˆ¶ä¸Šä¸‹æ–‡</span></span><br><span class="line">        AccessContext context = AccessContext.builder()</span><br><span class="line">                .user(user)</span><br><span class="line">                .resource(document)</span><br><span class="line">                .action(<span class="string">&quot;read&quot;</span>)</span><br><span class="line">                .environment(<span class="string">&quot;production&quot;</span>)</span><br><span class="line">                .build();</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// æ£€æŸ¥è®¿é—®æƒé™</span></span><br><span class="line">        <span class="keyword">if</span> (!abacService.checkAccess(context)) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> AccessDeniedException(<span class="string">&quot;Access denied&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> document;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AbacService</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> PolicyEngine policyEngine;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// æ£€æŸ¥è®¿é—®æƒé™</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">checkAccess</span><span class="params">(AccessContext context)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// åŠ è½½ç­–ç•¥</span></span><br><span class="line">        List&lt;Policy&gt; policies = policyRepository.findByResourceType(context.getResource().getClass().getSimpleName());</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// è¯„ä¼°ç­–ç•¥</span></span><br><span class="line">        <span class="keyword">return</span> policyEngine.evaluate(policies, context);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="3-ä¼šè¯ç®¡ç†å®‰å…¨"><a href="#3-ä¼šè¯ç®¡ç†å®‰å…¨" class="headerlink" title="3. ä¼šè¯ç®¡ç†å®‰å…¨"></a>3. ä¼šè¯ç®¡ç†å®‰å…¨</h3><p>å®‰å…¨çš„ä¼šè¯ç®¡ç†å¯¹äºé˜²æ­¢ä¼šè¯å›ºå®šã€ä¼šè¯åŠ«æŒç­‰æ”»å‡»è‡³å…³é‡è¦ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SessionConfig</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> HttpSessionIdResolver <span class="title">httpSessionIdResolver</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">// ä½¿ç”¨Headeræ–¹å¼ä¼ é€’ä¼šè¯IDï¼Œè€Œä¸æ˜¯Cookie</span></span><br><span class="line">        HeaderHttpSessionIdResolver resolver = <span class="keyword">new</span> HeaderHttpSessionIdResolver(<span class="string">&quot;X-Auth-Token&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> resolver;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SecurityConfig</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> SecurityFilterChain <span class="title">filterChain</span><span class="params">(HttpSecurity http)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        http</span><br><span class="line">            .sessionManagement(session -&gt; session</span><br><span class="line">                .sessionCreationPolicy(SessionCreationPolicy.IF_REQUIRED)</span><br><span class="line">                .sessionFixation().migrateSession() <span class="comment">// é˜²æ­¢ä¼šè¯å›ºå®šæ”»å‡»</span></span><br><span class="line">                .maximumSessions(<span class="number">1</span>) <span class="comment">// é™åˆ¶æ¯ä¸ªç”¨æˆ·åªèƒ½æœ‰ä¸€ä¸ªæ´»åŠ¨ä¼šè¯</span></span><br><span class="line">                .maxSessionsPreventsLogin(<span class="keyword">true</span>) <span class="comment">// è¾¾åˆ°æœ€å¤§ä¼šè¯æ•°æ—¶é˜»æ­¢æ–°çš„ç™»å½•</span></span><br><span class="line">                .sessionRegistry(sessionRegistry())</span><br><span class="line">            );</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> http.build();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> SessionRegistry <span class="title">sessionRegistry</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> SessionRegistryImpl();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> ServletListenerRegistrationBean&lt;HttpSessionEventPublisher&gt; <span class="title">httpSessionEventPublisher</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> ServletListenerRegistrationBean&lt;&gt;(<span class="keyword">new</span> HttpSessionEventPublisher());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å››ã€è¾“å…¥éªŒè¯ä¸è¾“å‡ºç¼–ç é˜²æŠ¤-ğŸ›¡ï¸"><a href="#å››ã€è¾“å…¥éªŒè¯ä¸è¾“å‡ºç¼–ç é˜²æŠ¤-ğŸ›¡ï¸" class="headerlink" title="å››ã€è¾“å…¥éªŒè¯ä¸è¾“å‡ºç¼–ç é˜²æŠ¤ ğŸ›¡ï¸"></a>å››ã€è¾“å…¥éªŒè¯ä¸è¾“å‡ºç¼–ç é˜²æŠ¤ ğŸ›¡ï¸</h2><h3 id="1-è¾“å…¥éªŒè¯æœ€ä½³å®è·µ"><a href="#1-è¾“å…¥éªŒè¯æœ€ä½³å®è·µ" class="headerlink" title="1. è¾“å…¥éªŒè¯æœ€ä½³å®è·µ"></a>1. è¾“å…¥éªŒè¯æœ€ä½³å®è·µ</h3><p>è¾“å…¥éªŒè¯æ˜¯é˜²æ­¢æ³¨å…¥æ”»å‡»ã€è·¨ç«™è„šæœ¬ç­‰å®‰å…¨é—®é¢˜çš„ç¬¬ä¸€é“é˜²çº¿ï¼š</p><h4 id="1-1-å‚æ•°éªŒè¯"><a href="#1-1-å‚æ•°éªŒè¯" class="headerlink" title="1.1 å‚æ•°éªŒè¯"></a>1.1 å‚æ•°éªŒè¯</h4><p>ä½¿ç”¨Spring Validationæ¡†æ¶è¿›è¡Œå‚æ•°éªŒè¯ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/api/users&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserController</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> UserService userService;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@PostMapping</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> ResponseEntity&lt;User&gt; <span class="title">createUser</span><span class="params">(<span class="meta">@Valid</span> <span class="meta">@RequestBody</span> UserDTO userDTO)</span> </span>&#123;</span><br><span class="line">        User user = userService.createUser(userDTO);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> ResponseEntity&lt;&gt;(user, HttpStatus.CREATED);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserDTO</span> </span>&#123;</span><br><span class="line">    <span class="meta">@NotBlank(message = &quot;Username is required&quot;)</span></span><br><span class="line">    <span class="meta">@Size(min = 3, max = 50, message = &quot;Username must be between 3 and 50 characters&quot;)</span></span><br><span class="line">    <span class="meta">@Pattern(regexp = &quot;^[a-zA-Z0-9_]+$&quot;, message = &quot;Username can only contain letters, numbers and underscores&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String username;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@NotBlank(message = &quot;Password is required&quot;)</span></span><br><span class="line">    <span class="meta">@Size(min = 8, message = &quot;Password must be at least 8 characters long&quot;)</span></span><br><span class="line">    <span class="meta">@Pattern(regexp = &quot;^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[@$!%*?&amp;])[A-Za-z\\d@$!%*?&amp;]&#123;8,&#125;$&quot;, </span></span><br><span class="line"><span class="meta">             message = &quot;Password must contain at least one uppercase letter, one lowercase letter, one number and one special character&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String password;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@NotBlank(message = &quot;Email is required&quot;)</span></span><br><span class="line">    <span class="meta">@Email(message = &quot;Email format is invalid&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String email;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="1-2-è‡ªå®šä¹‰éªŒè¯å™¨"><a href="#1-2-è‡ªå®šä¹‰éªŒè¯å™¨" class="headerlink" title="1.2 è‡ªå®šä¹‰éªŒè¯å™¨"></a>1.2 è‡ªå®šä¹‰éªŒè¯å™¨</h4><p>å¯¹äºå¤æ‚çš„éªŒè¯é€»è¾‘ï¼Œå¯ä»¥åˆ›å»ºè‡ªå®šä¹‰éªŒè¯å™¨ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">PasswordStrengthValidator</span> <span class="keyword">implements</span> <span class="title">ConstraintValidator</span>&lt;<span class="title">PasswordStrength</span>, <span class="title">String</span>&gt; </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">initialize</span><span class="params">(PasswordStrength constraintAnnotation)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// åˆå§‹åŒ–éªŒè¯å™¨</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isValid</span><span class="params">(String password, ConstraintValidatorContext context)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (password == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// æ£€æŸ¥å¯†ç å¼ºåº¦</span></span><br><span class="line">        <span class="keyword">boolean</span> hasUppercase = !password.equals(password.toLowerCase());</span><br><span class="line">        <span class="keyword">boolean</span> hasLowercase = !password.equals(password.toUpperCase());</span><br><span class="line">        <span class="keyword">boolean</span> hasDigit = password.matches(<span class="string">&quot;.*\\d.*&quot;</span>);</span><br><span class="line">        <span class="keyword">boolean</span> hasSpecialChar = password.matches(<span class="string">&quot;.*[!@#$%^&amp;*(),.?\&quot;:&#123;&#125;|&lt;&gt;].*&quot;</span>);</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> (!hasUppercase || !hasLowercase || !hasDigit || !hasSpecialChar) &#123;</span><br><span class="line">            <span class="comment">// è‡ªå®šä¹‰é”™è¯¯æ¶ˆæ¯</span></span><br><span class="line">            context.disableDefaultConstraintViolation();</span><br><span class="line">            context.buildConstraintViolationWithTemplate(<span class="string">&quot;Password must contain at least one uppercase letter, one lowercase letter, one number and one special character&quot;</span>)</span><br><span class="line">                   .addConstraintViolation();</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨è‡ªå®šä¹‰éªŒè¯å™¨</span></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserDTO</span> </span>&#123;</span><br><span class="line">    <span class="comment">// å…¶ä»–å­—æ®µ</span></span><br><span class="line">    </span><br><span class="line">    <span class="meta">@NotBlank(message = &quot;Password is required&quot;)</span></span><br><span class="line">    <span class="meta">@Size(min = 8, message = &quot;Password must be at least 8 characters long&quot;)</span></span><br><span class="line">    <span class="meta">@PasswordStrength</span></span><br><span class="line">    <span class="keyword">private</span> String password;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="2-è¾“å‡ºç¼–ç ä¸XSSé˜²æŠ¤"><a href="#2-è¾“å‡ºç¼–ç ä¸XSSé˜²æŠ¤" class="headerlink" title="2. è¾“å‡ºç¼–ç ä¸XSSé˜²æŠ¤"></a>2. è¾“å‡ºç¼–ç ä¸XSSé˜²æŠ¤</h3><p>è¾“å‡ºç¼–ç æ˜¯é˜²æ­¢XSSæ”»å‡»çš„æœ‰æ•ˆæ‰‹æ®µï¼Œå®ƒç¡®ä¿ç”¨æˆ·è¾“å…¥çš„å†…å®¹åœ¨æ˜¾ç¤ºæ—¶ä¸ä¼šè¢«æµè§ˆå™¨è§£é‡Šä¸ºä»£ç ï¼š</p><h4 id="2-1-HTMLç¼–ç "><a href="#2-1-HTMLç¼–ç " class="headerlink" title="2.1 HTMLç¼–ç "></a>2.1 HTMLç¼–ç </h4><p>åœ¨è¾“å‡ºHTMLå†…å®¹æ—¶ï¼Œå¯¹ç”¨æˆ·è¾“å…¥è¿›è¡ŒHTMLç¼–ç ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ContentService</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> HtmlUtils htmlUtils;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">sanitizeHtml</span><span class="params">(String input)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (input == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// è¿›è¡ŒHTMLç¼–ç </span></span><br><span class="line">        <span class="keyword">return</span> htmlUtils.htmlEscape(input);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">sanitizeRichText</span><span class="params">(String input)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (input == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// ä½¿ç”¨OWASP Java HTML Sanitizerè¿›è¡Œå¯Œæ–‡æœ¬æ¸…ç†</span></span><br><span class="line">        PolicyFactory policy = Sanitizers.FORMATTING.and(Sanitizers.BLOCKS).and(Sanitizers.LINKS);</span><br><span class="line">        <span class="keyword">return</span> policy.sanitize(input);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/api/comments&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CommentController</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> CommentService commentService;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> ContentService contentService;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@PostMapping</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> ResponseEntity&lt;Comment&gt; <span class="title">createComment</span><span class="params">(<span class="meta">@RequestBody</span> CommentDTO commentDTO)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// æ¸…ç†ç”¨æˆ·è¾“å…¥</span></span><br><span class="line">        String sanitizedContent = contentService.sanitizeRichText(commentDTO.getContent());</span><br><span class="line">        commentDTO.setContent(sanitizedContent);</span><br><span class="line">        </span><br><span class="line">        Comment comment = commentService.createComment(commentDTO);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> ResponseEntity&lt;&gt;(comment, HttpStatus.CREATED);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="2-2-JavaScriptç¼–ç "><a href="#2-2-JavaScriptç¼–ç " class="headerlink" title="2.2 JavaScriptç¼–ç "></a>2.2 JavaScriptç¼–ç </h4><p>åœ¨è¾“å‡ºJavaScriptå†…å®¹æ—¶ï¼Œå¯¹ç”¨æˆ·è¾“å…¥è¿›è¡ŒJavaScriptç¼–ç ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ScriptService</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">sanitizeJavaScript</span><span class="params">(String input)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (input == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// è¿›è¡ŒJavaScriptç¼–ç </span></span><br><span class="line">        <span class="keyword">return</span> JavaScriptUtils.javaScriptEscape(input);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="2-3-ä½¿ç”¨å†…å®¹å®‰å…¨ç­–ç•¥ï¼ˆCSPï¼‰"><a href="#2-3-ä½¿ç”¨å†…å®¹å®‰å…¨ç­–ç•¥ï¼ˆCSPï¼‰" class="headerlink" title="2.3 ä½¿ç”¨å†…å®¹å®‰å…¨ç­–ç•¥ï¼ˆCSPï¼‰"></a>2.3 ä½¿ç”¨å†…å®¹å®‰å…¨ç­–ç•¥ï¼ˆCSPï¼‰</h4><p>å†…å®¹å®‰å…¨ç­–ç•¥ï¼ˆCSPï¼‰æ˜¯ä¸€ç§å®‰å…¨æœºåˆ¶ï¼Œå¯ä»¥é˜²æ­¢XSSæ”»å‡»å’Œæ•°æ®æ³¨å…¥æ”»å‡»ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">WebSecurityConfig</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> SecurityFilterChain <span class="title">filterChain</span><span class="params">(HttpSecurity http)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        http</span><br><span class="line">            .headers(headers -&gt; headers</span><br><span class="line">                .contentSecurityPolicy(csp -&gt; csp</span><br><span class="line">                    .policyDirectives(<span class="string">&quot;default-src &#x27;self&#x27;; script-src &#x27;self&#x27; &#x27;unsafe-inline&#x27; &#x27;unsafe-eval&#x27;; style-src &#x27;self&#x27; &#x27;unsafe-inline&#x27;; img-src &#x27;self&#x27; data:; font-src &#x27;self&#x27;; frame-src &#x27;none&#x27;; object-src &#x27;none&#x27;&quot;</span>)</span><br><span class="line">                )</span><br><span class="line">                .frameOptions(frameOptions -&gt; frameOptions.deny())</span><br><span class="line">                .httpStrictTransportSecurity(hsts -&gt; hsts</span><br><span class="line">                    .includeSubDomains(<span class="keyword">true</span>)</span><br><span class="line">                    .preload(<span class="keyword">true</span>)</span><br><span class="line">                    .maxAgeInSeconds(<span class="number">31536000</span>)</span><br><span class="line">                )</span><br><span class="line">            );</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> http.build();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="äº”ã€Javaåº”ç”¨æ•°æ®å®‰å…¨é˜²æŠ¤-ğŸ”’"><a href="#äº”ã€Javaåº”ç”¨æ•°æ®å®‰å…¨é˜²æŠ¤-ğŸ”’" class="headerlink" title="äº”ã€Javaåº”ç”¨æ•°æ®å®‰å…¨é˜²æŠ¤ ğŸ”’"></a>äº”ã€Javaåº”ç”¨æ•°æ®å®‰å…¨é˜²æŠ¤ ğŸ”’</h2><h3 id="1-æ•æ„Ÿæ•°æ®åŠ å¯†å­˜å‚¨"><a href="#1-æ•æ„Ÿæ•°æ®åŠ å¯†å­˜å‚¨" class="headerlink" title="1. æ•æ„Ÿæ•°æ®åŠ å¯†å­˜å‚¨"></a>1. æ•æ„Ÿæ•°æ®åŠ å¯†å­˜å‚¨</h3><p>æ•æ„Ÿæ•°æ®å¦‚å¯†ç ã€èº«ä»½è¯å·ã€é“¶è¡Œå¡å·ç­‰åº”è¿›è¡ŒåŠ å¯†å­˜å‚¨ï¼š</p><h4 id="1-1-å¯†ç åŠ å¯†"><a href="#1-1-å¯†ç åŠ å¯†" class="headerlink" title="1.1 å¯†ç åŠ å¯†"></a>1.1 å¯†ç åŠ å¯†</h4><p>ä½¿ç”¨Spring Securityæä¾›çš„å¯†ç ç¼–ç å™¨è¿›è¡Œå¯†ç åŠ å¯†ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">PasswordEncoderConfig</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> PasswordEncoder <span class="title">passwordEncoder</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">// ä½¿ç”¨BCryptå¯†ç ç¼–ç å™¨ï¼Œè‡ªåŠ¨ç”Ÿæˆéšæœºç›å€¼</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> BCryptPasswordEncoder(<span class="number">12</span>); <span class="comment">// å·¥ä½œå› å­è®¾ä¸º12</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserServiceImpl</span> <span class="keyword">implements</span> <span class="title">UserService</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> UserRepository userRepository;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> PasswordEncoder passwordEncoder;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> User <span class="title">createUser</span><span class="params">(UserDTO userDTO)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// æ£€æŸ¥ç”¨æˆ·æ˜¯å¦å·²å­˜åœ¨</span></span><br><span class="line">        <span class="keyword">if</span> (userRepository.existsByUsername(userDTO.getUsername())) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> BadRequestException(<span class="string">&quot;Username already exists&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// åˆ›å»ºæ–°ç”¨æˆ·å¹¶åŠ å¯†å¯†ç </span></span><br><span class="line">        User user = <span class="keyword">new</span> User();</span><br><span class="line">        user.setUsername(userDTO.getUsername());</span><br><span class="line">        user.setPassword(passwordEncoder.encode(userDTO.getPassword())); <span class="comment">// åŠ å¯†å¯†ç </span></span><br><span class="line">        user.setEmail(userDTO.getEmail());</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> userRepository.save(user);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">authenticate</span><span class="params">(String username, String password)</span> </span>&#123;</span><br><span class="line">        User user = userRepository.findByUsername(username)</span><br><span class="line">                .orElseThrow(() -&gt; <span class="keyword">new</span> UserNotFoundException(<span class="string">&quot;User not found&quot;</span>));</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// éªŒè¯å¯†ç </span></span><br><span class="line">        <span class="keyword">return</span> passwordEncoder.matches(password, user.getPassword());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="1-2-æ•æ„Ÿæ•°æ®åŠ å¯†"><a href="#1-2-æ•æ„Ÿæ•°æ®åŠ å¯†" class="headerlink" title="1.2 æ•æ„Ÿæ•°æ®åŠ å¯†"></a>1.2 æ•æ„Ÿæ•°æ®åŠ å¯†</h4><p>å¯¹äºå…¶ä»–æ•æ„Ÿæ•°æ®ï¼Œå¯ä»¥ä½¿ç”¨AESç­‰å¯¹ç§°åŠ å¯†ç®—æ³•è¿›è¡ŒåŠ å¯†ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">EncryptionService</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> SecretKey secretKey;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> Cipher cipher;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">EncryptionService</span><span class="params">(<span class="meta">@Value(&quot;$&#123;encryption.key&#125;&quot;)</span> String secretKeyString)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        <span class="comment">// ä»é…ç½®ä¸­è·å–å¯†é’¥</span></span><br><span class="line">        <span class="keyword">byte</span>[] keyBytes = Base64.getDecoder().decode(secretKeyString);</span><br><span class="line">        <span class="keyword">this</span>.secretKey = <span class="keyword">new</span> SecretKeySpec(keyBytes, <span class="string">&quot;AES&quot;</span>);</span><br><span class="line">        <span class="keyword">this</span>.cipher = Cipher.getInstance(<span class="string">&quot;AES/GCM/NoPadding&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// åŠ å¯†æ•°æ®</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">encrypt</span><span class="params">(String plainText)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (plainText == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// ç”ŸæˆéšæœºIV</span></span><br><span class="line">        <span class="keyword">byte</span>[] iv = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">12</span>];</span><br><span class="line">        <span class="keyword">new</span> SecureRandom().nextBytes(iv);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// åˆå§‹åŒ–åŠ å¯†å™¨</span></span><br><span class="line">        GCMParameterSpec parameterSpec = <span class="keyword">new</span> GCMParameterSpec(<span class="number">128</span>, iv);</span><br><span class="line">        cipher.init(Cipher.ENCRYPT_MODE, secretKey, parameterSpec);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// åŠ å¯†æ•°æ®</span></span><br><span class="line">        <span class="keyword">byte</span>[] encryptedData = cipher.doFinal(plainText.getBytes(StandardCharsets.UTF_8));</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// ç»„åˆIVå’ŒåŠ å¯†æ•°æ®</span></span><br><span class="line">        ByteBuffer byteBuffer = ByteBuffer.allocate(iv.length + encryptedData.length);</span><br><span class="line">        byteBuffer.put(iv);</span><br><span class="line">        byteBuffer.put(encryptedData);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// è¿”å›Base64ç¼–ç çš„åŠ å¯†æ•°æ®</span></span><br><span class="line">        <span class="keyword">return</span> Base64.getEncoder().encodeToString(byteBuffer.array());</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// è§£å¯†æ•°æ®</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">decrypt</span><span class="params">(String encryptedText)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (encryptedText == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// è§£ç Base64åŠ å¯†æ•°æ®</span></span><br><span class="line">        <span class="keyword">byte</span>[] encryptedData = Base64.getDecoder().decode(encryptedText);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// åˆ†ç¦»IVå’ŒåŠ å¯†æ•°æ®</span></span><br><span class="line">        ByteBuffer byteBuffer = ByteBuffer.wrap(encryptedData);</span><br><span class="line">        <span class="keyword">byte</span>[] iv = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">12</span>];</span><br><span class="line">        byteBuffer.get(iv);</span><br><span class="line">        <span class="keyword">byte</span>[] cipherText = <span class="keyword">new</span> <span class="keyword">byte</span>[byteBuffer.remaining()];</span><br><span class="line">        byteBuffer.get(cipherText);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// åˆå§‹åŒ–è§£å¯†å™¨</span></span><br><span class="line">        GCMParameterSpec parameterSpec = <span class="keyword">new</span> GCMParameterSpec(<span class="number">128</span>, iv);</span><br><span class="line">        cipher.init(Cipher.DECRYPT_MODE, secretKey, parameterSpec);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// è§£å¯†æ•°æ®</span></span><br><span class="line">        <span class="keyword">byte</span>[] decryptedData = cipher.doFinal(cipherText);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// è¿”å›è§£å¯†åçš„æ˜æ–‡</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> String(decryptedData, StandardCharsets.UTF_8);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">PaymentServiceImpl</span> <span class="keyword">implements</span> <span class="title">PaymentService</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> PaymentRepository paymentRepository;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> EncryptionService encryptionService;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="meta">@Transactional</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Payment <span class="title">createPayment</span><span class="params">(PaymentDTO paymentDTO)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        <span class="comment">// åˆ›å»ºæ”¯ä»˜è®°å½•</span></span><br><span class="line">        Payment payment = <span class="keyword">new</span> Payment();</span><br><span class="line">        payment.setUserId(paymentDTO.getUserId());</span><br><span class="line">        payment.setAmount(paymentDTO.getAmount());</span><br><span class="line">        payment.setCurrency(paymentDTO.getCurrency());</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// åŠ å¯†é“¶è¡Œå¡å·</span></span><br><span class="line">        String encryptedCardNumber = encryptionService.encrypt(paymentDTO.getCardNumber());</span><br><span class="line">        payment.setCardNumber(encryptedCardNumber);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// ä¿å­˜æ”¯ä»˜è®°å½•</span></span><br><span class="line">        <span class="keyword">return</span> paymentRepository.save(payment);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="meta">@Transactional(readOnly = true)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Payment <span class="title">getPaymentById</span><span class="params">(Long id)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        Payment payment = paymentRepository.findById(id)</span><br><span class="line">                .orElseThrow(() -&gt; <span class="keyword">new</span> ResourceNotFoundException(<span class="string">&quot;Payment not found&quot;</span>));</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// ä¸éœ€è¦è§£å¯†æ•æ„Ÿæ•°æ®</span></span><br><span class="line">        <span class="keyword">return</span> payment;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="meta">@Transactional(readOnly = true)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Payment <span class="title">getPaymentDetailsById</span><span class="params">(Long id)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        Payment payment = paymentRepository.findById(id)</span><br><span class="line">                .orElseThrow(() -&gt; <span class="keyword">new</span> ResourceNotFoundException(<span class="string">&quot;Payment not found&quot;</span>));</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// åªæœ‰æˆæƒç”¨æˆ·æ‰èƒ½æŸ¥çœ‹è§£å¯†åçš„æ•æ„Ÿæ•°æ®</span></span><br><span class="line">        <span class="comment">// åœ¨å®é™…åº”ç”¨ä¸­ï¼Œéœ€è¦æ·»åŠ æƒé™æ£€æŸ¥</span></span><br><span class="line">        String decryptedCardNumber = encryptionService.decrypt(payment.getCardNumber());</span><br><span class="line">        payment.setCardNumber(decryptedCardNumber);</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> payment;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="2-æ•°æ®è„±æ•ä¸æ©ç "><a href="#2-æ•°æ®è„±æ•ä¸æ©ç " class="headerlink" title="2. æ•°æ®è„±æ•ä¸æ©ç "></a>2. æ•°æ®è„±æ•ä¸æ©ç </h3><p>å¯¹äºä¸éœ€è¦å®Œæ•´æ˜¾ç¤ºçš„æ•æ„Ÿæ•°æ®ï¼Œå¯ä»¥è¿›è¡Œè„±æ•æˆ–æ©ç å¤„ç†ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DataMaskingService</span> </span>&#123;</span><br><span class="line">    <span class="comment">// æ©ç å¤„ç†é“¶è¡Œå¡å·</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">maskCreditCard</span><span class="params">(String cardNumber)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (cardNumber == <span class="keyword">null</span> || cardNumber.length() &lt; <span class="number">8</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> cardNumber;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">int</span> length = cardNumber.length();</span><br><span class="line">        <span class="keyword">int</span> startLength = <span class="number">4</span>;</span><br><span class="line">        <span class="keyword">int</span> endLength = <span class="number">4</span>;</span><br><span class="line">        <span class="keyword">int</span> maskLength = length - startLength - endLength;</span><br><span class="line">        </span><br><span class="line">        StringBuilder masked = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">        masked.append(cardNumber.substring(<span class="number">0</span>, startLength));</span><br><span class="line">        masked.append(<span class="string">&quot;*&quot;</span>.repeat(maskLength));</span><br><span class="line">        masked.append(cardNumber.substring(length - endLength));</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> masked.toString();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// æ©ç å¤„ç†æ‰‹æœºå·</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">maskPhoneNumber</span><span class="params">(String phoneNumber)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (phoneNumber == <span class="keyword">null</span> || phoneNumber.length() &lt; <span class="number">7</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> phoneNumber;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">int</span> length = phoneNumber.length();</span><br><span class="line">        <span class="keyword">int</span> startLength = <span class="number">3</span>;</span><br><span class="line">        <span class="keyword">int</span> endLength = <span class="number">4</span>;</span><br><span class="line">        <span class="keyword">int</span> maskLength = length - startLength - endLength;</span><br><span class="line">        </span><br><span class="line">        StringBuilder masked = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">        masked.append(phoneNumber.substring(<span class="number">0</span>, startLength));</span><br><span class="line">        masked.append(<span class="string">&quot;*&quot;</span>.repeat(maskLength));</span><br><span class="line">        masked.append(phoneNumber.substring(length - endLength));</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> masked.toString();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// æ©ç å¤„ç†é‚®ç®±</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">maskEmail</span><span class="params">(String email)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (email == <span class="keyword">null</span> || !email.contains(<span class="string">&quot;@&quot;</span>)) &#123;</span><br><span class="line">            <span class="keyword">return</span> email;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        String[] parts = email.split(<span class="string">&quot;@&quot;</span>);</span><br><span class="line">        String username = parts[<span class="number">0</span>];</span><br><span class="line">        String domain = parts[<span class="number">1</span>];</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> (username.length() &lt;= <span class="number">2</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> email;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">int</span> maskLength = Math.max(<span class="number">1</span>, username.length() - <span class="number">2</span>);</span><br><span class="line">        StringBuilder maskedUsername = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">        maskedUsername.append(username.substring(<span class="number">0</span>, <span class="number">1</span>));</span><br><span class="line">        maskedUsername.append(<span class="string">&quot;*&quot;</span>.repeat(maskLength));</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> maskedUsername + <span class="string">&quot;@&quot;</span> + domain;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/api/users&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserController</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> UserService userService;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> DataMaskingService dataMaskingService;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@GetMapping(&quot;/&#123;id&#125;&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> ResponseEntity&lt;UserResponseDTO&gt; <span class="title">getUserById</span><span class="params">(<span class="meta">@PathVariable</span> Long id)</span> </span>&#123;</span><br><span class="line">        User user = userService.getUserById(id);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// åˆ›å»ºå“åº”DTOå¹¶è¿›è¡Œæ•°æ®è„±æ•</span></span><br><span class="line">        UserResponseDTO response = <span class="keyword">new</span> UserResponseDTO();</span><br><span class="line">        response.setId(user.getId());</span><br><span class="line">        response.setUsername(user.getUsername());</span><br><span class="line">        response.setEmail(dataMaskingService.maskEmail(user.getEmail()));</span><br><span class="line">        response.setPhoneNumber(dataMaskingService.maskPhoneNumber(user.getPhoneNumber()));</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> ResponseEntity.ok(response);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="3-å®‰å…¨çš„æ•°æ®åº“è®¿é—®"><a href="#3-å®‰å…¨çš„æ•°æ®åº“è®¿é—®" class="headerlink" title="3. å®‰å…¨çš„æ•°æ®åº“è®¿é—®"></a>3. å®‰å…¨çš„æ•°æ®åº“è®¿é—®</h3><p>ç¡®ä¿æ•°æ®åº“è®¿é—®çš„å®‰å…¨æ€§ï¼Œé˜²æ­¢SQLæ³¨å…¥ç­‰æ”»å‡»ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">OrderServiceImpl</span> <span class="keyword">implements</span> <span class="title">OrderService</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> JdbcTemplate jdbcTemplate;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;Order&gt; <span class="title">findOrdersByUserIdAndStatus</span><span class="params">(Long userId, String status)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// ä½¿ç”¨å‚æ•°åŒ–æŸ¥è¯¢ï¼Œé˜²æ­¢SQLæ³¨å…¥</span></span><br><span class="line">        String sql = <span class="string">&quot;SELECT * FROM orders WHERE user_id = ? AND status = ?&quot;</span>;</span><br><span class="line">        <span class="keyword">return</span> jdbcTemplate.query(sql, <span class="keyword">new</span> Object[]&#123;userId, status&#125;, <span class="keyword">new</span> OrderRowMapper());</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;Order&gt; <span class="title">searchOrders</span><span class="params">(String keyword)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// å³ä½¿æ˜¯LIKEæŸ¥è¯¢ï¼Œä¹Ÿåº”ä½¿ç”¨å‚æ•°åŒ–æŸ¥è¯¢</span></span><br><span class="line">        String sql = <span class="string">&quot;SELECT * FROM orders WHERE order_no LIKE ? OR customer_name LIKE ?&quot;</span>;</span><br><span class="line">        String likeKeyword = <span class="string">&quot;%&quot;</span> + keyword + <span class="string">&quot;%&quot;</span>;</span><br><span class="line">        <span class="keyword">return</span> jdbcTemplate.query(sql, <span class="keyword">new</span> Object[]&#123;likeKeyword, likeKeyword&#125;, <span class="keyword">new</span> OrderRowMapper());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨MyBatisè¿›è¡Œå‚æ•°åŒ–æŸ¥è¯¢</span></span><br><span class="line"><span class="meta">@Mapper</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">UserMapper</span> </span>&#123;</span><br><span class="line">    <span class="comment">// ä½¿ç”¨#&#123;&#125;å ä½ç¬¦ï¼ŒMyBatisä¼šè‡ªåŠ¨è¿›è¡Œå‚æ•°åŒ–å¤„ç†</span></span><br><span class="line">    <span class="meta">@Select(&quot;SELECT * FROM users WHERE username = #&#123;username&#125; AND status = #&#123;status&#125;&quot;)</span></span><br><span class="line">    <span class="function">List&lt;User&gt; <span class="title">findByUsernameAndStatus</span><span class="params">(<span class="meta">@Param(&quot;username&quot;)</span> String username, <span class="meta">@Param(&quot;status&quot;)</span> String status)</span></span>;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// åŠ¨æ€SQLä¹Ÿä½¿ç”¨#&#123;&#125;å ä½ç¬¦</span></span><br><span class="line">    <span class="meta">@Select(&quot;&lt;script&gt;SELECT * FROM users WHERE 1=1&quot; +</span></span><br><span class="line"><span class="meta">            &quot;&lt;if test=&#x27;username != null&#x27;&gt; AND username like CONCAT(&#x27;%&#x27;, #&#123;username&#125;, &#x27;%&#x27;)&lt;/if&gt;&quot; +</span></span><br><span class="line"><span class="meta">            &quot;&lt;if test=&#x27;status != null&#x27;&gt; AND status = #&#123;status&#125;&lt;/if&gt;&quot; +</span></span><br><span class="line"><span class="meta">            &quot;&lt;/script&gt;&quot;)</span></span><br><span class="line">    <span class="function">List&lt;User&gt; <span class="title">searchUsers</span><span class="params">(<span class="meta">@Param(&quot;username&quot;)</span> String username, <span class="meta">@Param(&quot;status&quot;)</span> String status)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å…­ã€Javaåº”ç”¨å®‰å…¨ç›‘æ§ä¸å®¡è®¡-ğŸ“Š"><a href="#å…­ã€Javaåº”ç”¨å®‰å…¨ç›‘æ§ä¸å®¡è®¡-ğŸ“Š" class="headerlink" title="å…­ã€Javaåº”ç”¨å®‰å…¨ç›‘æ§ä¸å®¡è®¡ ğŸ“Š"></a>å…­ã€Javaåº”ç”¨å®‰å…¨ç›‘æ§ä¸å®¡è®¡ ğŸ“Š</h2><h3 id="1-å®‰å…¨äº‹ä»¶æ—¥å¿—è®°å½•"><a href="#1-å®‰å…¨äº‹ä»¶æ—¥å¿—è®°å½•" class="headerlink" title="1. å®‰å…¨äº‹ä»¶æ—¥å¿—è®°å½•"></a>1. å®‰å…¨äº‹ä»¶æ—¥å¿—è®°å½•</h3><p>è®°å½•å®‰å…¨äº‹ä»¶æ—¥å¿—å¯¹äºå®‰å…¨å®¡è®¡å’Œé—®é¢˜æ’æŸ¥è‡³å…³é‡è¦ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Aspect</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SecurityAuditAspect</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> Logger auditLogger = LoggerFactory.getLogger(<span class="string">&quot;security-audit&quot;</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Pointcut(&quot;execution(* com.example.controller.AuthController.login(..))&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">loginPointcut</span><span class="params">()</span> </span>&#123;&#125;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Pointcut(&quot;execution(* com.example.controller.AuthController.logout(..))&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">logoutPointcut</span><span class="params">()</span> </span>&#123;&#125;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Pointcut(&quot;execution(* com.example.controller.AdminController.*(..))&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">adminOperationPointcut</span><span class="params">()</span> </span>&#123;&#125;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@AfterReturning(pointcut = &quot;loginPointcut()&quot;, returning = &quot;result&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">logSuccessfulLogin</span><span class="params">(JoinPoint joinPoint, Object result)</span> </span>&#123;</span><br><span class="line">        Object[] args = joinPoint.getArgs();</span><br><span class="line">        <span class="keyword">if</span> (args.length &gt; <span class="number">0</span> &amp;&amp; args[<span class="number">0</span>] <span class="keyword">instanceof</span> LoginRequest) &#123;</span><br><span class="line">            LoginRequest loginRequest = (LoginRequest) args[<span class="number">0</span>];</span><br><span class="line">            auditLogger.info(<span class="string">&quot;User login successful: username=&#123;&#125;, ip=&#123;&#125;&quot;</span>, </span><br><span class="line">                            loginRequest.getUsername(),</span><br><span class="line">                            getClientIp());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@AfterThrowing(pointcut = &quot;loginPointcut()&quot;, throwing = &quot;ex&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">logFailedLogin</span><span class="params">(JoinPoint joinPoint, Exception ex)</span> </span>&#123;</span><br><span class="line">        Object[] args = joinPoint.getArgs();</span><br><span class="line">        <span class="keyword">if</span> (args.length &gt; <span class="number">0</span> &amp;&amp; args[<span class="number">0</span>] <span class="keyword">instanceof</span> LoginRequest) &#123;</span><br><span class="line">            LoginRequest loginRequest = (LoginRequest) args[<span class="number">0</span>];</span><br><span class="line">            auditLogger.warn(<span class="string">&quot;User login failed: username=&#123;&#125;, ip=&#123;&#125;, reason=&#123;&#125;&quot;</span>, </span><br><span class="line">                            loginRequest.getUsername(),</span><br><span class="line">                            getClientIp(),</span><br><span class="line">                            ex.getMessage());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Around(&quot;adminOperationPointcut()&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Object <span class="title">logAdminOperation</span><span class="params">(ProceedingJoinPoint joinPoint)</span> <span class="keyword">throws</span> Throwable </span>&#123;</span><br><span class="line">        Authentication authentication = SecurityContextHolder.getContext().getAuthentication();</span><br><span class="line">        String username = authentication.getName();</span><br><span class="line">        String operation = joinPoint.getSignature().getName();</span><br><span class="line">        </span><br><span class="line">        auditLogger.info(<span class="string">&quot;Admin operation started: user=&#123;&#125;, operation=&#123;&#125;, params=&#123;&#125;, ip=&#123;&#125;&quot;</span>, </span><br><span class="line">                        username,</span><br><span class="line">                        operation,</span><br><span class="line">                        Arrays.toString(joinPoint.getArgs()),</span><br><span class="line">                        getClientIp());</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            Object result = joinPoint.proceed();</span><br><span class="line">            auditLogger.info(<span class="string">&quot;Admin operation completed: user=&#123;&#125;, operation=&#123;&#125;, ip=&#123;&#125;&quot;</span>, </span><br><span class="line">                            username,</span><br><span class="line">                            operation,</span><br><span class="line">                            getClientIp());</span><br><span class="line">            <span class="keyword">return</span> result;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Throwable e) &#123;</span><br><span class="line">            auditLogger.error(<span class="string">&quot;Admin operation failed: user=&#123;&#125;, operation=&#123;&#125;, ip=&#123;&#125;, error=&#123;&#125;&quot;</span>, </span><br><span class="line">                            username,</span><br><span class="line">                            operation,</span><br><span class="line">                            getClientIp(),</span><br><span class="line">                            e.getMessage());</span><br><span class="line">            <span class="keyword">throw</span> e;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">private</span> String <span class="title">getClientIp</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">// è·å–å®¢æˆ·ç«¯IPåœ°å€</span></span><br><span class="line">        HttpServletRequest request = ((ServletRequestAttributes) RequestContextHolder.currentRequestAttributes()).getRequest();</span><br><span class="line">        String ip = request.getHeader(<span class="string">&quot;X-Forwarded-For&quot;</span>);</span><br><span class="line">        <span class="keyword">if</span> (ip == <span class="keyword">null</span> || ip.isEmpty() || <span class="string">&quot;unknown&quot;</span>.equalsIgnoreCase(ip)) &#123;</span><br><span class="line">            ip = request.getHeader(<span class="string">&quot;Proxy-Client-IP&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (ip == <span class="keyword">null</span> || ip.isEmpty() || <span class="string">&quot;unknown&quot;</span>.equalsIgnoreCase(ip)) &#123;</span><br><span class="line">            ip = request.getHeader(<span class="string">&quot;WL-Proxy-Client-IP&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (ip == <span class="keyword">null</span> || ip.isEmpty() || <span class="string">&quot;unknown&quot;</span>.equalsIgnoreCase(ip)) &#123;</span><br><span class="line">            ip = request.getRemoteAddr();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ip;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="2-å¼‚å¸¸å¤„ç†ä¸å®‰å…¨å“åº”"><a href="#2-å¼‚å¸¸å¤„ç†ä¸å®‰å…¨å“åº”" class="headerlink" title="2. å¼‚å¸¸å¤„ç†ä¸å®‰å…¨å“åº”"></a>2. å¼‚å¸¸å¤„ç†ä¸å®‰å…¨å“åº”</h3><p>åˆç†çš„å¼‚å¸¸å¤„ç†å’Œå®‰å…¨å“åº”å¯ä»¥é˜²æ­¢ä¿¡æ¯æ³„éœ²ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@ControllerAdvice</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">GlobalExceptionHandler</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> Logger logger = LoggerFactory.getLogger(GlobalExceptionHandler.class);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// å¤„ç†æœªæˆæƒè®¿é—®å¼‚å¸¸</span></span><br><span class="line">    <span class="meta">@ExceptionHandler(AccessDeniedException.class)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> ResponseEntity&lt;ErrorResponse&gt; <span class="title">handleAccessDeniedException</span><span class="params">(AccessDeniedException ex)</span> </span>&#123;</span><br><span class="line">        logger.warn(<span class="string">&quot;Access denied: &#123;&#125;&quot;</span>, ex.getMessage());</span><br><span class="line">        ErrorResponse error = <span class="keyword">new</span> ErrorResponse(<span class="string">&quot;ACCESS_DENIED&quot;</span>, <span class="string">&quot;You do not have permission to access this resource&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> ResponseEntity&lt;&gt;(error, HttpStatus.FORBIDDEN);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// å¤„ç†è®¤è¯å¼‚å¸¸</span></span><br><span class="line">    <span class="meta">@ExceptionHandler(AuthenticationException.class)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> ResponseEntity&lt;ErrorResponse&gt; <span class="title">handleAuthenticationException</span><span class="params">(AuthenticationException ex)</span> </span>&#123;</span><br><span class="line">        logger.warn(<span class="string">&quot;Authentication failed: &#123;&#125;&quot;</span>, ex.getMessage());</span><br><span class="line">        ErrorResponse error = <span class="keyword">new</span> ErrorResponse(<span class="string">&quot;AUTHENTICATION_FAILED&quot;</span>, <span class="string">&quot;Authentication failed, please check your credentials&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> ResponseEntity&lt;&gt;(error, HttpStatus.UNAUTHORIZED);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// å¤„ç†èµ„æºæœªæ‰¾åˆ°å¼‚å¸¸</span></span><br><span class="line">    <span class="meta">@ExceptionHandler(ResourceNotFoundException.class)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> ResponseEntity&lt;ErrorResponse&gt; <span class="title">handleResourceNotFoundException</span><span class="params">(ResourceNotFoundException ex)</span> </span>&#123;</span><br><span class="line">        logger.info(<span class="string">&quot;Resource not found: &#123;&#125;&quot;</span>, ex.getMessage());</span><br><span class="line">        ErrorResponse error = <span class="keyword">new</span> ErrorResponse(<span class="string">&quot;RESOURCE_NOT_FOUND&quot;</span>, <span class="string">&quot;The requested resource could not be found&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> ResponseEntity&lt;&gt;(error, HttpStatus.NOT_FOUND);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// å¤„ç†æ— æ•ˆè¯·æ±‚å¼‚å¸¸</span></span><br><span class="line">    <span class="meta">@ExceptionHandler(BadRequestException.class)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> ResponseEntity&lt;ErrorResponse&gt; <span class="title">handleBadRequestException</span><span class="params">(BadRequestException ex)</span> </span>&#123;</span><br><span class="line">        logger.info(<span class="string">&quot;Bad request: &#123;&#125;&quot;</span>, ex.getMessage());</span><br><span class="line">        ErrorResponse error = <span class="keyword">new</span> ErrorResponse(<span class="string">&quot;BAD_REQUEST&quot;</span>, ex.getMessage());</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> ResponseEntity&lt;&gt;(error, HttpStatus.BAD_REQUEST);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// å¤„ç†æ‰€æœ‰å…¶ä»–å¼‚å¸¸ï¼Œä½†ä¸æš´éœ²è¯¦ç»†é”™è¯¯ä¿¡æ¯</span></span><br><span class="line">    <span class="meta">@ExceptionHandler(Exception.class)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> ResponseEntity&lt;ErrorResponse&gt; <span class="title">handleGenericException</span><span class="params">(Exception ex)</span> </span>&#123;</span><br><span class="line">        logger.error(<span class="string">&quot;Unexpected error: &#123;&#125;&quot;</span>, ex.getMessage(), ex);</span><br><span class="line">        ErrorResponse error = <span class="keyword">new</span> ErrorResponse(<span class="string">&quot;INTERNAL_ERROR&quot;</span>, <span class="string">&quot;An unexpected error occurred, please try again later&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> ResponseEntity&lt;&gt;(error, HttpStatus.INTERNAL_SERVER_ERROR);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ErrorResponse</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String code;</span><br><span class="line">    <span class="keyword">private</span> String message;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">ErrorResponse</span><span class="params">(String code, String message)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.code = code;</span><br><span class="line">        <span class="keyword">this</span>.message = message;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="3-å®‰å…¨æ¼æ´æ‰«æä¸è‡ªåŠ¨åŒ–æ£€æµ‹"><a href="#3-å®‰å…¨æ¼æ´æ‰«æä¸è‡ªåŠ¨åŒ–æ£€æµ‹" class="headerlink" title="3. å®‰å…¨æ¼æ´æ‰«æä¸è‡ªåŠ¨åŒ–æ£€æµ‹"></a>3. å®‰å…¨æ¼æ´æ‰«æä¸è‡ªåŠ¨åŒ–æ£€æµ‹</h3><p>å®šæœŸè¿›è¡Œå®‰å…¨æ¼æ´æ‰«æå’Œè‡ªåŠ¨åŒ–æ£€æµ‹å¯ä»¥åŠæ—¶å‘ç°å’Œä¿®å¤å®‰å…¨é—®é¢˜ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SecurityScannerScheduler</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> SecurityScannerService securityScannerService;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// æ¯å¤©å‡Œæ™¨2ç‚¹æ‰§è¡Œå®‰å…¨æ‰«æ</span></span><br><span class="line">    <span class="meta">@Scheduled(cron = &quot;0 0 2 * * ?&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">scheduleSecurityScan</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        securityScannerService.performSecurityScan();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SecurityScannerService</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> Logger logger = LoggerFactory.getLogger(SecurityScannerService.class);</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> VulnerabilityRepository vulnerabilityRepository;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> EmailService emailService;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// æ‰§è¡Œå®‰å…¨æ‰«æ</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">performSecurityScan</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        logger.info(<span class="string">&quot;Starting scheduled security scan&quot;</span>);</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">// æ‰§è¡Œä¾èµ–æ¼æ´æ‰«æ</span></span><br><span class="line">            List&lt;Vulnerability&gt; vulnerabilities = scanDependencies();</span><br><span class="line">            </span><br><span class="line">            <span class="comment">// è®°å½•æ¼æ´</span></span><br><span class="line">            <span class="keyword">for</span> (Vulnerability vuln : vulnerabilities) &#123;</span><br><span class="line">                vulnerabilityRepository.save(vuln);</span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">            <span class="comment">// å¦‚æœå‘ç°é«˜é£é™©æ¼æ´ï¼Œå‘é€é‚®ä»¶å‘Šè­¦</span></span><br><span class="line">            List&lt;Vulnerability&gt; highRiskVulnerabilities = vulnerabilities.stream()</span><br><span class="line">                    .filter(v -&gt; <span class="string">&quot;HIGH&quot;</span>.equals(v.getSeverity()) || <span class="string">&quot;CRITICAL&quot;</span>.equals(v.getSeverity()))</span><br><span class="line">                    .collect(Collectors.toList());</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">if</span> (!highRiskVulnerabilities.isEmpty()) &#123;</span><br><span class="line">                emailService.sendSecurityAlertEmail(highRiskVulnerabilities);</span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">            logger.info(<span class="string">&quot;Security scan completed. Found &#123;&#125; vulnerabilities&quot;</span>, vulnerabilities.size());</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            logger.error(<span class="string">&quot;Security scan failed: &#123;&#125;&quot;</span>, e.getMessage(), e);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// æ‰«æä¾èµ–æ¼æ´</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> List&lt;Vulnerability&gt; <span class="title">scanDependencies</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        List&lt;Vulnerability&gt; vulnerabilities = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// åœ¨å®é™…åº”ç”¨ä¸­ï¼Œè¿™é‡Œä¼šè°ƒç”¨OWASP Dependency Checkæˆ–å…¶ä»–æ¼æ´æ‰«æå·¥å…·</span></span><br><span class="line">        <span class="comment">// è¿™é‡Œä¸ºäº†ç¤ºä¾‹ï¼Œè¿”å›æ¨¡æ‹Ÿæ•°æ®</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">// æ¨¡æ‹Ÿå‘ç°çš„æ¼æ´</span></span><br><span class="line">        vulnerabilities.add(<span class="keyword">new</span> Vulnerability(<span class="string">&quot;log4j-core&quot;</span>, <span class="string">&quot;2.14.1&quot;</span>, <span class="string">&quot;CVE-2021-44228&quot;</span>, <span class="string">&quot;CRITICAL&quot;</span>, <span class="string">&quot;Remote Code Execution&quot;</span>, <span class="string">&quot;Update to version 2.17.0 or later&quot;</span>));</span><br><span class="line">        vulnerabilities.add(<span class="keyword">new</span> Vulnerability(<span class="string">&quot;spring-security&quot;</span>, <span class="string">&quot;5.5.1&quot;</span>, <span class="string">&quot;CVE-2022-22965&quot;</span>, <span class="string">&quot;HIGH&quot;</span>, <span class="string">&quot;Remote Code Execution&quot;</span>, <span class="string">&quot;Update to version 5.6.3 or later&quot;</span>));</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> vulnerabilities;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ä¸ƒã€æ€»ç»“ä¸æœªæ¥å®‰å…¨è¶‹åŠ¿å±•æœ›-ğŸ“"><a href="#ä¸ƒã€æ€»ç»“ä¸æœªæ¥å®‰å…¨è¶‹åŠ¿å±•æœ›-ğŸ“" class="headerlink" title="ä¸ƒã€æ€»ç»“ä¸æœªæ¥å®‰å…¨è¶‹åŠ¿å±•æœ› ğŸ“"></a>ä¸ƒã€æ€»ç»“ä¸æœªæ¥å®‰å…¨è¶‹åŠ¿å±•æœ› ğŸ“</h2><p>é€šè¿‡æœ¬æ–‡çš„ä»‹ç»ï¼Œæˆ‘ä»¬è¯¦ç»†è®²è§£äº†Javaåº”ç”¨å®‰å…¨é˜²æŠ¤ä½“ç³»æ„å»ºçš„æœ€ä½³å®è·µï¼ŒåŒ…æ‹¬èº«ä»½è®¤è¯ä¸è®¿é—®æ§åˆ¶ã€è¾“å…¥éªŒè¯ä¸è¾“å‡ºç¼–ç ã€æ•°æ®å®‰å…¨é˜²æŠ¤ã€å®‰å…¨ç›‘æ§ä¸å®¡è®¡ç­‰æ–¹é¢çš„å†…å®¹ã€‚</p><p>Javaåº”ç”¨å®‰å…¨çš„æœªæ¥å‘å±•è¶‹åŠ¿ä¸»è¦åŒ…æ‹¬ä»¥ä¸‹å‡ ä¸ªæ–¹é¢ï¼š</p><ol><li><strong>é›¶ä¿¡ä»»æ¶æ„</strong>ï¼šé›¶ä¿¡ä»»å®‰å…¨æ¨¡å‹å°†æˆä¸ºä¸»æµï¼Œå¼ºè°ƒâ€æ°¸ä¸ä¿¡ä»»ï¼Œå§‹ç»ˆéªŒè¯â€</li><li><strong>AIé©±åŠ¨çš„å®‰å…¨</strong>ï¼šäººå·¥æ™ºèƒ½å’Œæœºå™¨å­¦ä¹ æŠ€æœ¯å°†è¢«æ›´å¹¿æ³›åœ°åº”ç”¨äºå®‰å…¨å¨èƒæ£€æµ‹å’Œå“åº”</li><li><strong>DevSecOpsæ·±åŒ–</strong>ï¼šå®‰å…¨å°†æ›´æ·±å…¥åœ°é›†æˆåˆ°å¼€å‘å’Œè¿ç»´æµç¨‹ä¸­ï¼Œå®ç°â€å®‰å…¨å·¦ç§»â€</li><li><strong>å®¹å™¨å®‰å…¨ä¸äº‘åŸç”Ÿå®‰å…¨</strong>ï¼šéšç€å®¹å™¨åŒ–å’Œäº‘åŸç”ŸæŠ€æœ¯çš„æ™®åŠï¼Œå®¹å™¨å®‰å…¨å’Œäº‘åŸç”Ÿå®‰å…¨å°†å˜å¾—è¶Šæ¥è¶Šé‡è¦</li><li><strong>ä¾›åº”é“¾å®‰å…¨</strong>ï¼šè½¯ä»¶ä¾›åº”é“¾å®‰å…¨å°†å—åˆ°æ›´å¤šå…³æ³¨ï¼Œé˜²æ­¢ä¾›åº”é“¾æ”»å‡»</li><li><strong>éšç§è®¡ç®—</strong>ï¼šåœ¨ä¿æŠ¤æ•°æ®éšç§çš„å‰æä¸‹è¿›è¡Œæ•°æ®å¤„ç†å’Œåˆ†æçš„æŠ€æœ¯å°†å¾—åˆ°å‘å±•</li></ol><p>æ„å»ºä¸€ä¸ªå…¨é¢çš„Javaåº”ç”¨å®‰å…¨é˜²æŠ¤ä½“ç³»æ˜¯ä¸€ä¸ªæŒç»­çš„è¿‡ç¨‹ï¼Œéœ€è¦ä¸æ–­åœ°å­¦ä¹ ã€å®è·µå’Œæ”¹è¿›ã€‚å¸Œæœ›æœ¬æ–‡èƒ½å¤Ÿä¸ºä½ æä¾›ä¸€äº›æœ‰ç”¨çš„æŒ‡å¯¼å’Œå¯å‘ï¼Œå¸®åŠ©ä½ æ„å»ºæ›´å®‰å…¨çš„Javaåº”ç”¨ã€‚å¦‚æœä½ æœ‰ä»»ä½•é—®é¢˜æˆ–å»ºè®®ï¼Œæ¬¢è¿åœ¨è¯„è®ºåŒºç•™è¨€è®¨è®ºï¼ğŸ˜Š</p>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;/assets/css/APlayer.min.css&quot;&gt;&lt;script src=&quot;/assets/js/APlayer.min.js&quot; cla</summary>
      
    
    
    
    
    <category term="Javaå®‰å…¨" scheme="https://blog.zhuyizhuo.online/tags/Java%E5%AE%89%E5%85%A8/"/>
    
    <category term="åº”ç”¨å®‰å…¨" scheme="https://blog.zhuyizhuo.online/tags/%E5%BA%94%E7%94%A8%E5%AE%89%E5%85%A8/"/>
    
    <category term="é˜²æŠ¤ä½“ç³»" scheme="https://blog.zhuyizhuo.online/tags/%E9%98%B2%E6%8A%A4%E4%BD%93%E7%B3%BB/"/>
    
    <category term="å®‰å…¨æ¶æ„" scheme="https://blog.zhuyizhuo.online/tags/%E5%AE%89%E5%85%A8%E6%9E%B6%E6%9E%84/"/>
    
  </entry>
  
  <entry>
    <title>Javaäº‘åŸç”Ÿåº”ç”¨æœ€ä½³å®è·µ</title>
    <link href="https://blog.zhuyizhuo.online/2025/05/20/cloud-native/2025-java-cloud-native-best-practices/"/>
    <id>https://blog.zhuyizhuo.online/2025/05/20/cloud-native/2025-java-cloud-native-best-practices/</id>
    <published>2025-05-19T16:00:00.000Z</published>
    <updated>2025-09-26T09:17:19.569Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="Javaäº‘åŸç”Ÿåº”ç”¨æœ€ä½³å®è·µ-â˜ï¸"><a href="#Javaäº‘åŸç”Ÿåº”ç”¨æœ€ä½³å®è·µ-â˜ï¸" class="headerlink" title="Javaäº‘åŸç”Ÿåº”ç”¨æœ€ä½³å®è·µ â˜ï¸"></a>Javaäº‘åŸç”Ÿåº”ç”¨æœ€ä½³å®è·µ â˜ï¸</h1><p>å¤§å®¶å¥½ï¼ğŸ‘‹ åœ¨å½“ä»Šçš„äº‘è®¡ç®—æ—¶ä»£ï¼Œäº‘åŸç”Ÿå·²ç»æˆä¸ºæ„å»ºç°ä»£åŒ–åº”ç”¨çš„ä¸»æµèŒƒå¼ã€‚å¯¹äºJavaå¼€å‘è€…æ¥è¯´ï¼Œå¦‚ä½•å°†ä¼ ç»Ÿçš„Javaåº”ç”¨è½¬å˜ä¸ºäº‘åŸç”Ÿåº”ç”¨ï¼Œå……åˆ†åˆ©ç”¨äº‘å¹³å°çš„å¼¹æ€§å’Œæ‰©å±•æ€§ï¼Œæ˜¯ä¸€ä¸ªé‡è¦çš„è¯¾é¢˜ã€‚ä»Šå¤©ï¼Œæˆ‘å°†å’Œå¤§å®¶åˆ†äº«Javaäº‘åŸç”Ÿåº”ç”¨çš„æœ€ä½³å®è·µï¼Œå¸®åŠ©ä½ æ„å»ºæ›´é«˜æ•ˆã€æ›´å¯é ã€æ›´æ˜“äºç»´æŠ¤çš„äº‘åŸç”ŸJavaåº”ç”¨ã€‚</p><h2 id="ä¸€ã€äº‘åŸç”Ÿåº”ç”¨çš„æ ¸å¿ƒæ¦‚å¿µä¸åŸåˆ™-ğŸ“š"><a href="#ä¸€ã€äº‘åŸç”Ÿåº”ç”¨çš„æ ¸å¿ƒæ¦‚å¿µä¸åŸåˆ™-ğŸ“š" class="headerlink" title="ä¸€ã€äº‘åŸç”Ÿåº”ç”¨çš„æ ¸å¿ƒæ¦‚å¿µä¸åŸåˆ™ ğŸ“š"></a>ä¸€ã€äº‘åŸç”Ÿåº”ç”¨çš„æ ¸å¿ƒæ¦‚å¿µä¸åŸåˆ™ ğŸ“š</h2><h3 id="1-ä»€ä¹ˆæ˜¯äº‘åŸç”Ÿåº”ç”¨ï¼Ÿ"><a href="#1-ä»€ä¹ˆæ˜¯äº‘åŸç”Ÿåº”ç”¨ï¼Ÿ" class="headerlink" title="1. ä»€ä¹ˆæ˜¯äº‘åŸç”Ÿåº”ç”¨ï¼Ÿ"></a>1. ä»€ä¹ˆæ˜¯äº‘åŸç”Ÿåº”ç”¨ï¼Ÿ</h3><p>äº‘åŸç”Ÿåº”ç”¨æ˜¯æŒ‡ä¸ºäº‘ç¯å¢ƒè®¾è®¡å’Œä¼˜åŒ–çš„åº”ç”¨ç¨‹åºï¼Œå®ƒå……åˆ†åˆ©ç”¨äº†äº‘å¹³å°æä¾›çš„å¼¹æ€§ã€å¯æ‰©å±•æ€§ã€å®¹é”™æ€§ç­‰ç‰¹æ€§ã€‚äº‘åŸç”Ÿåº”ç”¨é€šå¸¸å…·æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š</p><ul><li><strong>å®¹å™¨åŒ–</strong>ï¼šåº”ç”¨åŠå…¶ä¾èµ–è¢«æ‰“åŒ…åœ¨è½»é‡çº§å®¹å™¨ä¸­ï¼Œç¡®ä¿åœ¨ä»»ä½•ç¯å¢ƒä¸­ä¸€è‡´è¿è¡Œ</li><li><strong>å¾®æœåŠ¡æ¶æ„</strong>ï¼šåº”ç”¨è¢«æ‹†åˆ†ä¸ºå¤šä¸ªç‹¬ç«‹çš„å¾®æœåŠ¡ï¼Œæ¯ä¸ªå¾®æœåŠ¡ä¸“æ³¨äºä¸€ä¸ªç‰¹å®šçš„ä¸šåŠ¡åŠŸèƒ½</li><li><strong>DevOpsæ–‡åŒ–</strong>ï¼šå¼€å‘å’Œè¿ç»´ç´§å¯†åä½œï¼Œå®ç°æŒç»­é›†æˆã€æŒç»­éƒ¨ç½²å’Œè‡ªåŠ¨åŒ–è¿ç»´</li><li><strong>å¼¹æ€§æ‰©å±•</strong>ï¼šæ ¹æ®è´Ÿè½½è‡ªåŠ¨æ‰©å±•æˆ–ç¼©å‡èµ„æº</li><li><strong>æ•…éšœè‡ªæ„ˆ</strong>ï¼šè‡ªåŠ¨æ£€æµ‹å’Œæ¢å¤æ•…éšœ</li><li><strong>å£°æ˜å¼API</strong>ï¼šä½¿ç”¨å£°æ˜å¼æ–¹æ³•å®šä¹‰å’Œç®¡ç†åŸºç¡€è®¾æ–½å’Œåº”ç”¨</li></ul><h3 id="2-äº‘åŸç”Ÿåº”ç”¨çš„å…³é”®åŸåˆ™"><a href="#2-äº‘åŸç”Ÿåº”ç”¨çš„å…³é”®åŸåˆ™" class="headerlink" title="2. äº‘åŸç”Ÿåº”ç”¨çš„å…³é”®åŸåˆ™"></a>2. äº‘åŸç”Ÿåº”ç”¨çš„å…³é”®åŸåˆ™</h3><p>æ„å»ºäº‘åŸç”Ÿåº”ç”¨æ—¶ï¼Œåº”éµå¾ªä»¥ä¸‹å…³é”®åŸåˆ™ï¼š</p><ul><li><strong>12-Factor App</strong>ï¼š12è¦ç´ åº”ç”¨å®£è¨€ï¼Œæä¾›äº†æ„å»ºäº‘åŸç”Ÿåº”ç”¨çš„æœ€ä½³å®è·µæŒ‡å—</li><li><strong>ä¸å¯å˜åŸºç¡€è®¾æ–½</strong>ï¼šåŸºç¡€è®¾æ–½ä¸€æ—¦éƒ¨ç½²å°±ä¸å†ä¿®æ”¹ï¼Œæ›´æ–°é€šè¿‡æ›¿æ¢å®ç°</li><li><strong>å…³æ³¨ç‚¹åˆ†ç¦»</strong>ï¼šå°†åº”ç”¨é€»è¾‘ä¸åŸºç¡€è®¾æ–½ã€é…ç½®ã€çŠ¶æ€ç­‰åˆ†ç¦»</li><li><strong>APIä¼˜å…ˆ</strong>ï¼šå°†APIè®¾è®¡ä½œä¸ºåº”ç”¨è®¾è®¡çš„æ ¸å¿ƒ</li><li><strong>è‡ªåŠ¨åŒ–ä¸€åˆ‡</strong>ï¼šå°½å¯èƒ½å®ç°è‡ªåŠ¨åŒ–éƒ¨ç½²ã€æµ‹è¯•ã€ç›‘æ§å’Œè¿ç»´</li></ul><h3 id="3-Javaä¸äº‘åŸç”Ÿçš„ç»“åˆ"><a href="#3-Javaä¸äº‘åŸç”Ÿçš„ç»“åˆ" class="headerlink" title="3. Javaä¸äº‘åŸç”Ÿçš„ç»“åˆ"></a>3. Javaä¸äº‘åŸç”Ÿçš„ç»“åˆ</h3><p>Javaä½œä¸ºä¸€é—¨æˆç†Ÿçš„ç¼–ç¨‹è¯­è¨€ï¼Œåœ¨äº‘åŸç”Ÿæ—¶ä»£ä»ç„¶å…·æœ‰å¼ºå¤§çš„ç”Ÿå‘½åŠ›ã€‚ç°ä»£JavaæŠ€æœ¯æ ˆï¼ˆå¦‚Spring Boot 3.xã€GraalVMç­‰ï¼‰ä¸ºæ„å»ºäº‘åŸç”Ÿåº”ç”¨æä¾›äº†è‰¯å¥½çš„æ”¯æŒï¼š</p><ul><li><strong>Spring Boot</strong>ï¼šç®€åŒ–äº†Javaåº”ç”¨çš„å¼€å‘å’Œéƒ¨ç½²</li><li><strong>Spring Cloud</strong>ï¼šæä¾›äº†å¾®æœåŠ¡æ¶æ„æ‰€éœ€çš„å„ç§å·¥å…·å’Œç»„ä»¶</li><li><strong>GraalVM</strong>ï¼šæä¾›äº†åŸç”Ÿé•œåƒæ”¯æŒï¼Œå¯ä»¥æ˜¾è‘—å‡å°åº”ç”¨ä½“ç§¯å’Œå¯åŠ¨æ—¶é—´</li><li><strong>Quarkus</strong>ï¼šä¸ºGraalVMä¼˜åŒ–çš„KubernetesåŸç”ŸJavaæ¡†æ¶</li><li><strong>Micronaut</strong>ï¼šè½»é‡çº§çš„JVMæ¡†æ¶ï¼Œä¸“ä¸ºäº‘åŸç”Ÿå’ŒServerlessè®¾è®¡</li></ul><h2 id="äºŒã€åŸºäºKubernetesçš„Javaåº”ç”¨å®¹å™¨åŒ–å®è·µ-ğŸ³"><a href="#äºŒã€åŸºäºKubernetesçš„Javaåº”ç”¨å®¹å™¨åŒ–å®è·µ-ğŸ³" class="headerlink" title="äºŒã€åŸºäºKubernetesçš„Javaåº”ç”¨å®¹å™¨åŒ–å®è·µ ğŸ³"></a>äºŒã€åŸºäºKubernetesçš„Javaåº”ç”¨å®¹å™¨åŒ–å®è·µ ğŸ³</h2><h3 id="1-å®¹å™¨åŒ–ç­–ç•¥ä¸æœ€ä½³å®è·µ"><a href="#1-å®¹å™¨åŒ–ç­–ç•¥ä¸æœ€ä½³å®è·µ" class="headerlink" title="1. å®¹å™¨åŒ–ç­–ç•¥ä¸æœ€ä½³å®è·µ"></a>1. å®¹å™¨åŒ–ç­–ç•¥ä¸æœ€ä½³å®è·µ</h3><p>å°†Javaåº”ç”¨å®¹å™¨åŒ–æ˜¯æ„å»ºäº‘åŸç”Ÿåº”ç”¨çš„ç¬¬ä¸€æ­¥ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›å®¹å™¨åŒ–çš„æœ€ä½³å®è·µï¼š</p><h4 id="1-1-é€‰æ‹©åˆé€‚çš„åŸºç¡€é•œåƒ"><a href="#1-1-é€‰æ‹©åˆé€‚çš„åŸºç¡€é•œåƒ" class="headerlink" title="1.1 é€‰æ‹©åˆé€‚çš„åŸºç¡€é•œåƒ"></a>1.1 é€‰æ‹©åˆé€‚çš„åŸºç¡€é•œåƒ</h4><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ¨èä½¿ç”¨å®˜æ–¹JDKé•œåƒæˆ–Alpine-based JDKé•œåƒä»¥å‡å°é•œåƒä½“ç§¯</span></span><br><span class="line"><span class="keyword">FROM</span> eclipse-temurin:<span class="number">17</span>-jre-alpine</span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¾ç½®å·¥ä½œç›®å½•</span></span><br><span class="line"><span class="keyword">WORKDIR</span><span class="bash"> /app</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å¤åˆ¶åº”ç”¨jaråŒ…</span></span><br><span class="line"><span class="keyword">COPY</span><span class="bash"> target/my-application.jar app.jar</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¾ç½®JVMå‚æ•°</span></span><br><span class="line"><span class="keyword">ENV</span> JAVA_OPTS=<span class="string">&quot;-Xms256m -Xmx512m&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æš´éœ²ç«¯å£</span></span><br><span class="line"><span class="keyword">EXPOSE</span> <span class="number">8080</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># å¯åŠ¨åº”ç”¨</span></span><br><span class="line"><span class="keyword">ENTRYPOINT</span><span class="bash"> [<span class="string">&quot;sh&quot;</span>, <span class="string">&quot;-c&quot;</span>, <span class="string">&quot;java <span class="variable">$JAVA_OPTS</span> -jar app.jar&quot;</span>]</span></span><br></pre></td></tr></table></figure><h4 id="1-2-å¤šé˜¶æ®µæ„å»ºä¼˜åŒ–"><a href="#1-2-å¤šé˜¶æ®µæ„å»ºä¼˜åŒ–" class="headerlink" title="1.2 å¤šé˜¶æ®µæ„å»ºä¼˜åŒ–"></a>1.2 å¤šé˜¶æ®µæ„å»ºä¼˜åŒ–</h4><p>ä½¿ç”¨å¤šé˜¶æ®µæ„å»ºå¯ä»¥æ˜¾è‘—å‡å°æœ€ç»ˆé•œåƒçš„ä½“ç§¯ï¼š</p><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ„å»ºé˜¶æ®µ</span></span><br><span class="line"><span class="keyword">FROM</span> maven:<span class="number">3.9</span>-eclipse-temurin-<span class="number">17</span>-alpine AS builder</span><br><span class="line"><span class="keyword">WORKDIR</span><span class="bash"> /build</span></span><br><span class="line"><span class="keyword">COPY</span><span class="bash"> pom.xml .</span></span><br><span class="line"><span class="keyword">COPY</span><span class="bash"> src ./src</span></span><br><span class="line"><span class="keyword">RUN</span><span class="bash"> mvn clean package -DskipTests</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è¿è¡Œé˜¶æ®µ</span></span><br><span class="line"><span class="keyword">FROM</span> eclipse-temurin:<span class="number">17</span>-jre-alpine</span><br><span class="line"><span class="keyword">WORKDIR</span><span class="bash"> /app</span></span><br><span class="line"><span class="keyword">COPY</span><span class="bash"> --from=builder /build/target/my-application.jar app.jar</span></span><br><span class="line"><span class="keyword">EXPOSE</span> <span class="number">8080</span></span><br><span class="line"><span class="keyword">ENTRYPOINT</span><span class="bash"> [<span class="string">&quot;java&quot;</span>, <span class="string">&quot;-jar&quot;</span>, <span class="string">&quot;app.jar&quot;</span>]</span></span><br></pre></td></tr></table></figure><h4 id="1-3-JVMå‚æ•°ä¼˜åŒ–"><a href="#1-3-JVMå‚æ•°ä¼˜åŒ–" class="headerlink" title="1.3 JVMå‚æ•°ä¼˜åŒ–"></a>1.3 JVMå‚æ•°ä¼˜åŒ–</h4><p>ä¸ºå®¹å™¨ç¯å¢ƒä¼˜åŒ–JVMå‚æ•°æ˜¯æé«˜Javaåº”ç”¨åœ¨å®¹å™¨ä¸­æ€§èƒ½çš„å…³é”®ï¼š</p><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ä½¿ç”¨å®¹å™¨æ„ŸçŸ¥çš„JVMå‚æ•°</span></span><br><span class="line"><span class="keyword">ENV</span> JAVA_OPTS=<span class="string">&quot;\</span></span><br><span class="line"><span class="string">    -XX:+UseContainerSupport \</span></span><br><span class="line"><span class="string">    -XX:MaxRAMPercentage=75.0 \</span></span><br><span class="line"><span class="string">    -XX:+UseG1GC \</span></span><br><span class="line"><span class="string">    -XX:+UseStringDeduplication \</span></span><br><span class="line"><span class="string">    -Djava.security.egd=file:/dev/./urandom&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">ENTRYPOINT</span><span class="bash"> [<span class="string">&quot;sh&quot;</span>, <span class="string">&quot;-c&quot;</span>, <span class="string">&quot;java <span class="variable">$JAVA_OPTS</span> -jar app.jar&quot;</span>]</span></span><br></pre></td></tr></table></figure><h3 id="2-Kubernetesèµ„æºé…ç½®ä¼˜åŒ–"><a href="#2-Kubernetesèµ„æºé…ç½®ä¼˜åŒ–" class="headerlink" title="2. Kubernetesèµ„æºé…ç½®ä¼˜åŒ–"></a>2. Kubernetesèµ„æºé…ç½®ä¼˜åŒ–</h3><p>åœ¨Kubernetesä¸­éƒ¨ç½²Javaåº”ç”¨æ—¶ï¼Œåˆç†é…ç½®èµ„æºè¯·æ±‚å’Œé™åˆ¶éå¸¸é‡è¦ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">apps/v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Deployment</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">my-java-application</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">replicas:</span> <span class="number">3</span></span><br><span class="line">  <span class="attr">selector:</span></span><br><span class="line">    <span class="attr">matchLabels:</span></span><br><span class="line">      <span class="attr">app:</span> <span class="string">my-java-application</span></span><br><span class="line">  <span class="attr">template:</span></span><br><span class="line">    <span class="attr">metadata:</span></span><br><span class="line">      <span class="attr">labels:</span></span><br><span class="line">        <span class="attr">app:</span> <span class="string">my-java-application</span></span><br><span class="line">    <span class="attr">spec:</span></span><br><span class="line">      <span class="attr">containers:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">my-java-application</span></span><br><span class="line">        <span class="attr">image:</span> <span class="string">my-java-application:latest</span></span><br><span class="line">        <span class="attr">ports:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">containerPort:</span> <span class="number">8080</span></span><br><span class="line">        <span class="attr">resources:</span></span><br><span class="line">          <span class="attr">requests:</span></span><br><span class="line">            <span class="attr">cpu:</span> <span class="string">&quot;500m&quot;</span></span><br><span class="line">            <span class="attr">memory:</span> <span class="string">&quot;1Gi&quot;</span></span><br><span class="line">          <span class="attr">limits:</span></span><br><span class="line">            <span class="attr">cpu:</span> <span class="string">&quot;1&quot;</span></span><br><span class="line">            <span class="attr">memory:</span> <span class="string">&quot;2Gi&quot;</span></span><br><span class="line">        <span class="attr">readinessProbe:</span></span><br><span class="line">          <span class="attr">httpGet:</span></span><br><span class="line">            <span class="attr">path:</span> <span class="string">/actuator/health/readiness</span></span><br><span class="line">            <span class="attr">port:</span> <span class="number">8080</span></span><br><span class="line">          <span class="attr">initialDelaySeconds:</span> <span class="number">30</span></span><br><span class="line">          <span class="attr">periodSeconds:</span> <span class="number">10</span></span><br><span class="line">        <span class="attr">livenessProbe:</span></span><br><span class="line">          <span class="attr">httpGet:</span></span><br><span class="line">            <span class="attr">path:</span> <span class="string">/actuator/health/liveness</span></span><br><span class="line">            <span class="attr">port:</span> <span class="number">8080</span></span><br><span class="line">          <span class="attr">initialDelaySeconds:</span> <span class="number">60</span></span><br><span class="line">          <span class="attr">periodSeconds:</span> <span class="number">30</span></span><br><span class="line">        <span class="attr">env:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">JAVA_OPTS</span></span><br><span class="line">          <span class="attr">value:</span> <span class="string">&quot;-XX:+UseContainerSupport -XX:MaxRAMPercentage=75.0 -XX:+UseG1GC&quot;</span></span><br></pre></td></tr></table></figure><h3 id="3-å¥åº·æ£€æŸ¥ä¸å°±ç»ªæ¢é’ˆé…ç½®"><a href="#3-å¥åº·æ£€æŸ¥ä¸å°±ç»ªæ¢é’ˆé…ç½®" class="headerlink" title="3. å¥åº·æ£€æŸ¥ä¸å°±ç»ªæ¢é’ˆé…ç½®"></a>3. å¥åº·æ£€æŸ¥ä¸å°±ç»ªæ¢é’ˆé…ç½®</h3><p>åœ¨Kubernetesä¸­é…ç½®é€‚å½“çš„å¥åº·æ£€æŸ¥å’Œå°±ç»ªæ¢é’ˆå¯¹äºç¡®ä¿åº”ç”¨çš„å¯é æ€§è‡³å…³é‡è¦ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Spring Bootåº”ç”¨ä¸­çš„å¥åº·æ£€æŸ¥ç«¯ç‚¹é…ç½®</span></span><br><span class="line"><span class="meta">@SpringBootApplication</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyApplication</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        SpringApplication.run(MyApplication.class, args);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// application.propertiesé…ç½®</span></span><br><span class="line">management.endpoints.web.exposure.include=health,info,prometheus</span><br><span class="line">management.endpoint.health.probes.enabled=<span class="keyword">true</span></span><br><span class="line">management.endpoint.health.show-details=when_authorized</span><br><span class="line">management.health.db.enabled=<span class="keyword">true</span></span><br><span class="line">management.health.diskspace.enabled=<span class="keyword">true</span></span><br></pre></td></tr></table></figure><p>è‡ªå®šä¹‰å¥åº·æ£€æŸ¥æŒ‡ç¤ºå™¨ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DatabaseHealthIndicator</span> <span class="keyword">implements</span> <span class="title">HealthIndicator</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> DataSource dataSource;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Health <span class="title">health</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> (Connection connection = dataSource.getConnection()) &#123;</span><br><span class="line">            Statement statement = connection.createStatement();</span><br><span class="line">            ResultSet resultSet = statement.executeQuery(<span class="string">&quot;SELECT 1&quot;</span>);</span><br><span class="line">            <span class="keyword">if</span> (resultSet.next()) &#123;</span><br><span class="line">                <span class="keyword">return</span> Health.up().withDetail(<span class="string">&quot;database&quot;</span>, <span class="string">&quot;Available&quot;</span>).build();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            <span class="keyword">return</span> Health.down().withException(e).build();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> Health.unknown().build();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ä¸‰ã€Javaå¾®æœåŠ¡çš„äº‘åŸç”Ÿæ”¹é€ æ–¹æ¡ˆ-ğŸ”§"><a href="#ä¸‰ã€Javaå¾®æœåŠ¡çš„äº‘åŸç”Ÿæ”¹é€ æ–¹æ¡ˆ-ğŸ”§" class="headerlink" title="ä¸‰ã€Javaå¾®æœåŠ¡çš„äº‘åŸç”Ÿæ”¹é€ æ–¹æ¡ˆ ğŸ”§"></a>ä¸‰ã€Javaå¾®æœåŠ¡çš„äº‘åŸç”Ÿæ”¹é€ æ–¹æ¡ˆ ğŸ”§</h2><h3 id="1-ä¼ ç»ŸJavaåº”ç”¨çš„äº‘åŸç”Ÿæ”¹é€ è·¯å¾„"><a href="#1-ä¼ ç»ŸJavaåº”ç”¨çš„äº‘åŸç”Ÿæ”¹é€ è·¯å¾„" class="headerlink" title="1. ä¼ ç»ŸJavaåº”ç”¨çš„äº‘åŸç”Ÿæ”¹é€ è·¯å¾„"></a>1. ä¼ ç»ŸJavaåº”ç”¨çš„äº‘åŸç”Ÿæ”¹é€ è·¯å¾„</h3><p>å°†ä¼ ç»ŸJavaåº”ç”¨æ”¹é€ ä¸ºäº‘åŸç”Ÿåº”ç”¨æ˜¯ä¸€ä¸ªæ¸è¿›çš„è¿‡ç¨‹ï¼Œé€šå¸¸åŒ…æ‹¬ä»¥ä¸‹æ­¥éª¤ï¼š</p><ol><li><strong>å®¹å™¨åŒ–</strong>ï¼šå°†åº”ç”¨æ‰“åŒ…åˆ°å®¹å™¨ä¸­</li><li><strong>å¾®æœåŠ¡åŒ–</strong>ï¼šå°†å•ä½“åº”ç”¨æ‹†åˆ†ä¸ºå¾®æœåŠ¡</li><li><strong>æ— çŠ¶æ€åŒ–</strong>ï¼šå°†åº”ç”¨æ”¹é€ ä¸ºæ— çŠ¶æ€æˆ–æœ‰çŠ¶æ€åˆ†ç¦»</li><li><strong>APIç½‘å…³é›†æˆ</strong>ï¼šå¼•å…¥APIç½‘å…³ç»Ÿä¸€ç®¡ç†æœåŠ¡è®¿é—®</li><li><strong>é…ç½®å¤–éƒ¨åŒ–</strong>ï¼šå°†é…ç½®ä»ä»£ç ä¸­åˆ†ç¦»å‡ºæ¥</li><li><strong>æœåŠ¡æ³¨å†Œä¸å‘ç°</strong>ï¼šé›†æˆæœåŠ¡æ³¨å†Œå‘ç°æœºåˆ¶</li><li><strong>å¼¹æ€§ä¼¸ç¼©</strong>ï¼šå®ç°åŸºäºè´Ÿè½½çš„è‡ªåŠ¨ä¼¸ç¼©</li><li><strong>å¯è§‚æµ‹æ€§</strong>ï¼šå¢å¼ºåº”ç”¨çš„ç›‘æ§å’Œæ—¥å¿—èƒ½åŠ›</li></ol><h3 id="2-æœåŠ¡ç½‘æ ¼åœ¨Javaå¾®æœåŠ¡ä¸­çš„åº”ç”¨"><a href="#2-æœåŠ¡ç½‘æ ¼åœ¨Javaå¾®æœåŠ¡ä¸­çš„åº”ç”¨" class="headerlink" title="2. æœåŠ¡ç½‘æ ¼åœ¨Javaå¾®æœåŠ¡ä¸­çš„åº”ç”¨"></a>2. æœåŠ¡ç½‘æ ¼åœ¨Javaå¾®æœåŠ¡ä¸­çš„åº”ç”¨</h3><p>æœåŠ¡ç½‘æ ¼ï¼ˆå¦‚Istioï¼‰å¯ä»¥å¸®åŠ©æˆ‘ä»¬æ›´å¥½åœ°ç®¡ç†å’Œç›‘æ§å¾®æœåŠ¡ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ä¸ºJavaåº”ç”¨å¯ç”¨Istioä»£ç†æ³¨å…¥</span></span><br><span class="line"><span class="attr">apiVersion:</span> <span class="string">apps/v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Deployment</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">my-java-service</span></span><br><span class="line">  <span class="attr">labels:</span></span><br><span class="line">    <span class="attr">app:</span> <span class="string">my-java-service</span></span><br><span class="line">    <span class="attr">istio-injection:</span> <span class="string">enabled</span>  <span class="comment"># å¯ç”¨Istioä»£ç†æ³¨å…¥</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="comment"># ... å…¶ä»–é…ç½®</span></span><br></pre></td></tr></table></figure><p>ä½¿ç”¨Istioè¿›è¡Œæµé‡ç®¡ç†ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># é…ç½®é‡‘ä¸é›€å‘å¸ƒ</span></span><br><span class="line"><span class="attr">apiVersion:</span> <span class="string">networking.istio.io/v1alpha3</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">VirtualService</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">my-java-service</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">hosts:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">my-java-service</span></span><br><span class="line">  <span class="attr">http:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">route:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">destination:</span></span><br><span class="line">        <span class="attr">host:</span> <span class="string">my-java-service</span></span><br><span class="line">        <span class="attr">subset:</span> <span class="string">v1</span></span><br><span class="line">      <span class="attr">weight:</span> <span class="number">90</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">destination:</span></span><br><span class="line">        <span class="attr">host:</span> <span class="string">my-java-service</span></span><br><span class="line">        <span class="attr">subset:</span> <span class="string">v2</span></span><br><span class="line">      <span class="attr">weight:</span> <span class="number">10</span></span><br><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">apiVersion:</span> <span class="string">networking.istio.io/v1alpha3</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">DestinationRule</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">my-java-service</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">host:</span> <span class="string">my-java-service</span></span><br><span class="line">  <span class="attr">subsets:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">v1</span></span><br><span class="line">    <span class="attr">labels:</span></span><br><span class="line">      <span class="attr">version:</span> <span class="string">v1</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">v2</span></span><br><span class="line">    <span class="attr">labels:</span></span><br><span class="line">      <span class="attr">version:</span> <span class="string">v2</span></span><br></pre></td></tr></table></figure><h3 id="3-é…ç½®ç®¡ç†ä¸æœåŠ¡å‘ç°ä¼˜åŒ–"><a href="#3-é…ç½®ç®¡ç†ä¸æœåŠ¡å‘ç°ä¼˜åŒ–" class="headerlink" title="3. é…ç½®ç®¡ç†ä¸æœåŠ¡å‘ç°ä¼˜åŒ–"></a>3. é…ç½®ç®¡ç†ä¸æœåŠ¡å‘ç°ä¼˜åŒ–</h3><p>åœ¨äº‘åŸç”Ÿç¯å¢ƒä¸­ï¼Œé…ç½®ç®¡ç†å’ŒæœåŠ¡å‘ç°æ˜¯éå¸¸é‡è¦çš„åŸºç¡€è®¾æ–½ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ä½¿ç”¨Spring Cloud Kubernetesè¿›è¡Œé…ç½®ç®¡ç†</span></span><br><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">ConfigMap</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">my-java-service-config</span></span><br><span class="line"><span class="attr">data:</span></span><br><span class="line">  <span class="attr">application.properties:</span> <span class="string">|</span></span><br><span class="line"><span class="string">    server.port=8080</span></span><br><span class="line"><span class="string">    spring.datasource.url=jdbc:mysql://mysql:3306/mydb</span></span><br><span class="line"><span class="string">    spring.datasource.username=root</span></span><br><span class="line"><span class="string">    spring.datasource.password=password</span></span><br><span class="line"><span class="string">    logging.level.root=INFO</span></span><br></pre></td></tr></table></figure><p>åœ¨Spring Bootåº”ç”¨ä¸­ä½¿ç”¨ConfigMapï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@SpringBootApplication</span></span><br><span class="line"><span class="meta">@EnableDiscoveryClient</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyApplication</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        SpringApplication.run(MyApplication.class, args);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åº”ç”¨éƒ¨ç½²é…ç½®</span></span><br><span class="line"><span class="attr">apiVersion:</span> <span class="string">apps/v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">Deployment</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">my-java-service</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="comment"># ... å…¶ä»–é…ç½®</span></span><br><span class="line">  <span class="attr">template:</span></span><br><span class="line">    <span class="attr">spec:</span></span><br><span class="line">      <span class="attr">containers:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">my-java-service</span></span><br><span class="line">        <span class="attr">image:</span> <span class="string">my-java-service:latest</span></span><br><span class="line">        <span class="attr">volumeMounts:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">config-volume</span></span><br><span class="line">          <span class="attr">mountPath:</span> <span class="string">/config</span></span><br><span class="line">      <span class="attr">volumes:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">config-volume</span></span><br><span class="line">        <span class="attr">configMap:</span></span><br><span class="line">          <span class="attr">name:</span> <span class="string">my-java-service-config</span></span><br></pre></td></tr></table></figure><h2 id="å››ã€GraalVMä¸JavaåŸç”Ÿé•œåƒä¼˜åŒ–-ğŸš€"><a href="#å››ã€GraalVMä¸JavaåŸç”Ÿé•œåƒä¼˜åŒ–-ğŸš€" class="headerlink" title="å››ã€GraalVMä¸JavaåŸç”Ÿé•œåƒä¼˜åŒ– ğŸš€"></a>å››ã€GraalVMä¸JavaåŸç”Ÿé•œåƒä¼˜åŒ– ğŸš€</h2><h3 id="1-GraalVMåŸç”Ÿé•œåƒçš„ä¼˜åŠ¿ä¸é€‚ç”¨åœºæ™¯"><a href="#1-GraalVMåŸç”Ÿé•œåƒçš„ä¼˜åŠ¿ä¸é€‚ç”¨åœºæ™¯" class="headerlink" title="1. GraalVMåŸç”Ÿé•œåƒçš„ä¼˜åŠ¿ä¸é€‚ç”¨åœºæ™¯"></a>1. GraalVMåŸç”Ÿé•œåƒçš„ä¼˜åŠ¿ä¸é€‚ç”¨åœºæ™¯</h3><p>GraalVMæ˜¯ä¸€ä¸ªé«˜æ€§èƒ½çš„è¿è¡Œæ—¶ç¯å¢ƒï¼Œå®ƒå¯ä»¥å°†Javaåº”ç”¨ç¼–è¯‘ä¸ºåŸç”Ÿé•œåƒï¼Œå…·æœ‰ä»¥ä¸‹ä¼˜åŠ¿ï¼š</p><ul><li><strong>å¯åŠ¨é€Ÿåº¦å¿«</strong>ï¼šåŸç”Ÿé•œåƒçš„å¯åŠ¨æ—¶é—´é€šå¸¸åœ¨æ¯«ç§’çº§åˆ«</li><li><strong>å†…å­˜å ç”¨å°</strong>ï¼šç›¸æ¯”ä¼ ç»ŸJVMï¼ŒåŸç”Ÿé•œåƒçš„å†…å­˜å ç”¨æ˜¾è‘—å‡å°‘</li><li><strong>å¯åŠ¨ä½“ç§¯å°</strong>ï¼šåŸç”Ÿé•œåƒçš„ä½“ç§¯é€šå¸¸åªæœ‰ä¼ ç»ŸJARåŒ…çš„å‡ åˆ†ä¹‹ä¸€</li><li><strong>å³æ—¶å“åº”</strong>ï¼šé€‚åˆéœ€è¦å¿«é€Ÿå¯åŠ¨å’Œå³æ—¶å“åº”çš„åœºæ™¯</li></ul><p>GraalVMåŸç”Ÿé•œåƒç‰¹åˆ«é€‚åˆä»¥ä¸‹åœºæ™¯ï¼š</p><ul><li><strong>Serverlesså‡½æ•°</strong>ï¼šå¦‚AWS Lambdaã€é˜¿é‡Œäº‘å‡½æ•°è®¡ç®—ç­‰</li><li><strong>å¾®æœåŠ¡</strong>ï¼šç‰¹åˆ«æ˜¯éœ€è¦å¿«é€Ÿå¯åŠ¨çš„å¾®æœåŠ¡</li><li><strong>å®¹å™¨åŒ–åº”ç”¨</strong>ï¼šå‡å°å®¹å™¨é•œåƒä½“ç§¯ï¼Œæé«˜å¯åŠ¨é€Ÿåº¦</li><li><strong>è¾¹ç¼˜è®¡ç®—</strong>ï¼šèµ„æºå—é™ç¯å¢ƒä¸‹çš„åº”ç”¨</li></ul><h3 id="2-Spring-Bootåº”ç”¨çš„åŸç”Ÿé•œåƒæ„å»º"><a href="#2-Spring-Bootåº”ç”¨çš„åŸç”Ÿé•œåƒæ„å»º" class="headerlink" title="2. Spring Bootåº”ç”¨çš„åŸç”Ÿé•œåƒæ„å»º"></a>2. Spring Bootåº”ç”¨çš„åŸç”Ÿé•œåƒæ„å»º</h3><p>Spring Boot 3.xæä¾›äº†å¯¹GraalVMåŸç”Ÿé•œåƒçš„å®˜æ–¹æ”¯æŒï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨Spring Nativeæ¥æ„å»ºåŸç”Ÿé•œåƒï¼š</p><h4 id="2-1-æ·»åŠ Spring-Nativeä¾èµ–"><a href="#2-1-æ·»åŠ Spring-Nativeä¾èµ–" class="headerlink" title="2.1 æ·»åŠ Spring Nativeä¾èµ–"></a>2.1 æ·»åŠ Spring Nativeä¾èµ–</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">parent</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-parent<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.2.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">parent</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.experimental<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-native<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>0.12.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-maven-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">image</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">builder</span>&gt;</span>paketobuildpacks/builder:tiny<span class="tag">&lt;/<span class="name">builder</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">env</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">BP_NATIVE_IMAGE</span>&gt;</span>true<span class="tag">&lt;/<span class="name">BP_NATIVE_IMAGE</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">env</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">image</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="2-2-æ„å»ºåŸç”Ÿé•œåƒ"><a href="#2-2-æ„å»ºåŸç”Ÿé•œåƒ" class="headerlink" title="2.2 æ„å»ºåŸç”Ÿé•œåƒ"></a>2.2 æ„å»ºåŸç”Ÿé•œåƒ</h4><p>ä½¿ç”¨Mavenæ„å»ºåŸç”Ÿé•œåƒï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mvn -Pnative spring-boot:build-image</span><br></pre></td></tr></table></figure><p>æˆ–è€…ä½¿ç”¨GraalVMåŸç”Ÿé•œåƒæ„å»ºå·¥å…·ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å®‰è£…GraalVM Native Imageå·¥å…·</span></span><br><span class="line">gu install native-image</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ„å»ºJARåŒ…</span></span><br><span class="line">mvn clean package -DskipTests</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ„å»ºåŸç”Ÿé•œåƒ</span></span><br><span class="line">native-image -jar target/my-application.jar</span><br><span class="line">s</span><br></pre></td></tr></table></figure><h3 id="3-åŸç”Ÿé•œåƒçš„æ€§èƒ½è°ƒä¼˜ä¸é™åˆ¶"><a href="#3-åŸç”Ÿé•œåƒçš„æ€§èƒ½è°ƒä¼˜ä¸é™åˆ¶" class="headerlink" title="3. åŸç”Ÿé•œåƒçš„æ€§èƒ½è°ƒä¼˜ä¸é™åˆ¶"></a>3. åŸç”Ÿé•œåƒçš„æ€§èƒ½è°ƒä¼˜ä¸é™åˆ¶</h3><p>è™½ç„¶GraalVMåŸç”Ÿé•œåƒæœ‰å¾ˆå¤šä¼˜åŠ¿ï¼Œä½†ä¹Ÿæœ‰ä¸€äº›é™åˆ¶å’Œéœ€è¦æ³¨æ„çš„åœ°æ–¹ï¼š</p><h4 id="3-1-åå°„ä¸åŠ¨æ€ç±»åŠ è½½å¤„ç†"><a href="#3-1-åå°„ä¸åŠ¨æ€ç±»åŠ è½½å¤„ç†" class="headerlink" title="3.1 åå°„ä¸åŠ¨æ€ç±»åŠ è½½å¤„ç†"></a>3.1 åå°„ä¸åŠ¨æ€ç±»åŠ è½½å¤„ç†</h4><p>GraalVMåŸç”Ÿé•œåƒåœ¨ç¼–è¯‘æ—¶éœ€è¦çŸ¥é“æ‰€æœ‰å°†åœ¨è¿è¡Œæ—¶ä½¿ç”¨çš„ç±»ã€æ–¹æ³•å’Œå­—æ®µã€‚å¯¹äºä½¿ç”¨åå°„ã€åŠ¨æ€ç±»åŠ è½½ç­‰ç‰¹æ€§çš„ä»£ç ï¼Œéœ€è¦è¿›è¡Œç‰¹æ®Šå¤„ç†ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä½¿ç”¨@NativeHintæ³¨è§£æä¾›åå°„ä¿¡æ¯</span></span><br><span class="line"><span class="meta">@SpringBootApplication</span></span><br><span class="line"><span class="meta">@NativeHint(</span></span><br><span class="line"><span class="meta">    types = @TypeHint(</span></span><br><span class="line"><span class="meta">        types = &#123; com.example.User.class, com.example.Order.class &#125;,</span></span><br><span class="line"><span class="meta">        access = &#123; AccessBits.ALL &#125;</span></span><br><span class="line"><span class="meta">    )</span></span><br><span class="line"><span class="meta">)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyApplication</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        SpringApplication.run(MyApplication.class, args);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æˆ–è€…ä½¿ç”¨åå°„é…ç½®æ–‡ä»¶ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;reflect-config&quot;</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;com.example.User&quot;</span>,</span><br><span class="line">      <span class="attr">&quot;allDeclaredConstructors&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">      <span class="attr">&quot;allDeclaredFields&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">      <span class="attr">&quot;allDeclaredMethods&quot;</span>: <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="3-2-æ€§èƒ½ç›‘æ§ä¸åˆ†æ"><a href="#3-2-æ€§èƒ½ç›‘æ§ä¸åˆ†æ" class="headerlink" title="3.2 æ€§èƒ½ç›‘æ§ä¸åˆ†æ"></a>3.2 æ€§èƒ½ç›‘æ§ä¸åˆ†æ</h4><p>åŸç”Ÿé•œåƒçš„æ€§èƒ½ç›‘æ§å’Œåˆ†æä¸ä¼ ç»ŸJVMåº”ç”¨æœ‰æ‰€ä¸åŒï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä½¿ç”¨Micrometerè¿›è¡ŒæŒ‡æ ‡æ”¶é›†</span></span><br><span class="line"><span class="meta">@SpringBootApplication</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyApplication</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function">MeterRegistryCustomizer&lt;MeterRegistry&gt; <span class="title">metricsCommonTags</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> registry -&gt; registry.config().commonTags(<span class="string">&quot;application&quot;</span>, <span class="string">&quot;my-application&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># é…ç½®PrometheusæŒ‡æ ‡å¯¼å‡º</span></span><br><span class="line"><span class="attr">management:</span></span><br><span class="line">  <span class="attr">endpoints:</span></span><br><span class="line">    <span class="attr">web:</span></span><br><span class="line">      <span class="attr">exposure:</span></span><br><span class="line">        <span class="attr">include:</span> <span class="string">prometheus</span></span><br><span class="line">  <span class="attr">metrics:</span></span><br><span class="line">    <span class="attr">export:</span></span><br><span class="line">      <span class="attr">prometheus:</span></span><br><span class="line">        <span class="attr">enabled:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><h2 id="äº”ã€Serverlessä¸å‡½æ•°è®¡ç®—ä¸­çš„Javaåº”ç”¨-â˜ï¸"><a href="#äº”ã€Serverlessä¸å‡½æ•°è®¡ç®—ä¸­çš„Javaåº”ç”¨-â˜ï¸" class="headerlink" title="äº”ã€Serverlessä¸å‡½æ•°è®¡ç®—ä¸­çš„Javaåº”ç”¨ â˜ï¸"></a>äº”ã€Serverlessä¸å‡½æ•°è®¡ç®—ä¸­çš„Javaåº”ç”¨ â˜ï¸</h2><h3 id="1-Javaåœ¨Serverlessç¯å¢ƒä¸­çš„æŒ‘æˆ˜ä¸åº”å¯¹ç­–ç•¥"><a href="#1-Javaåœ¨Serverlessç¯å¢ƒä¸­çš„æŒ‘æˆ˜ä¸åº”å¯¹ç­–ç•¥" class="headerlink" title="1. Javaåœ¨Serverlessç¯å¢ƒä¸­çš„æŒ‘æˆ˜ä¸åº”å¯¹ç­–ç•¥"></a>1. Javaåœ¨Serverlessç¯å¢ƒä¸­çš„æŒ‘æˆ˜ä¸åº”å¯¹ç­–ç•¥</h3><p>Javaåœ¨Serverlessç¯å¢ƒä¸­é¢ä¸´ä¸€äº›æŒ‘æˆ˜ï¼Œä¸»è¦åŒ…æ‹¬ï¼š</p><ul><li><strong>å†·å¯åŠ¨æ—¶é—´é•¿</strong>ï¼šä¼ ç»ŸJVMçš„å¯åŠ¨æ—¶é—´è¾ƒé•¿ï¼Œå¯èƒ½å¯¼è‡´å‡½æ•°è°ƒç”¨å»¶è¿Ÿ</li><li><strong>å†…å­˜å ç”¨å¤§</strong>ï¼šJVMæœ¬èº«éœ€è¦ä¸€å®šçš„å†…å­˜èµ„æº</li><li><strong>é•œåƒä½“ç§¯å¤§</strong>ï¼šä¼ ç»ŸJavaåº”ç”¨çš„å®¹å™¨é•œåƒä½“ç§¯è¾ƒå¤§</li><li><strong>ä¸é€‚åˆçŸ­æ—¶é—´æ‰§è¡Œçš„ä»»åŠ¡</strong>ï¼šå¯¹äºæ‰§è¡Œæ—¶é—´éå¸¸çŸ­çš„ä»»åŠ¡ï¼ŒJVMçš„å¯åŠ¨æˆæœ¬å¯èƒ½è¶…è¿‡ä»»åŠ¡æœ¬èº«çš„æ‰§è¡Œæˆæœ¬</li></ul><p>é’ˆå¯¹è¿™äº›æŒ‘æˆ˜ï¼Œæˆ‘ä»¬å¯ä»¥é‡‡å–ä»¥ä¸‹åº”å¯¹ç­–ç•¥ï¼š</p><ul><li><strong>ä½¿ç”¨GraalVMåŸç”Ÿé•œåƒ</strong>ï¼šæ˜¾è‘—å‡å°å¯åŠ¨æ—¶é—´å’Œå†…å­˜å ç”¨</li><li><strong>ä¼˜åŒ–å‡½æ•°ä»£ç </strong>ï¼šå°½é‡å‡å°å‡½æ•°çš„ä»£ç ä½“ç§¯å’Œä¾èµ–</li><li><strong>ä½¿ç”¨ä¸“ç”¨çš„Serverless Javaæ¡†æ¶</strong>ï¼šå¦‚Quarkusã€Micronautç­‰</li><li><strong>é…ç½®é€‚å½“çš„å‡½æ•°è¶…æ—¶æ—¶é—´å’Œå†…å­˜</strong>ï¼šæ ¹æ®å®é™…éœ€æ±‚é…ç½®å‡½æ•°å‚æ•°</li><li><strong>é¢„çƒ­æœºåˆ¶</strong>ï¼šå¯¹äºå…³é”®å‡½æ•°ï¼Œå¯ä»¥é…ç½®é¢„çƒ­æœºåˆ¶å‡å°‘å†·å¯åŠ¨</li></ul><h3 id="2-ä½¿ç”¨Quarkuså¼€å‘Serverless-Javaå‡½æ•°"><a href="#2-ä½¿ç”¨Quarkuså¼€å‘Serverless-Javaå‡½æ•°" class="headerlink" title="2. ä½¿ç”¨Quarkuså¼€å‘Serverless Javaå‡½æ•°"></a>2. ä½¿ç”¨Quarkuså¼€å‘Serverless Javaå‡½æ•°</h3><p>Quarkusæ˜¯ä¸€ä¸ªä¸ºGraalVMå’ŒHotSpotä¼˜åŒ–çš„KubernetesåŸç”ŸJavaæ¡†æ¶ï¼Œéå¸¸é€‚åˆå¼€å‘Serverlesså‡½æ•°ï¼š</p><h4 id="2-1-åˆ›å»ºQuarkuså‡½æ•°é¡¹ç›®"><a href="#2-1-åˆ›å»ºQuarkuså‡½æ•°é¡¹ç›®" class="headerlink" title="2.1 åˆ›å»ºQuarkuså‡½æ•°é¡¹ç›®"></a>2.1 åˆ›å»ºQuarkuså‡½æ•°é¡¹ç›®</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ä½¿ç”¨Quarkus CLIåˆ›å»ºé¡¹ç›®</span></span><br><span class="line">quarkus create app com.example:serverless-function:1.0.0-SNAPSHOT --extension=aws-lambda</span><br><span class="line"></span><br><span class="line"><span class="comment"># æˆ–è€…ä½¿ç”¨Maven</span></span><br><span class="line">mvn io.quarkus:quarkus-maven-plugin:3.2.0.Final:create \</span><br><span class="line">    -DprojectGroupId=com.example \</span><br><span class="line">    -DprojectArtifactId=serverless-function \</span><br><span class="line">    -Dextensions=<span class="string">&quot;aws-lambda&quot;</span></span><br></pre></td></tr></table></figure><h4 id="2-2-å®ç°Lambdaå‡½æ•°"><a href="#2-2-å®ç°Lambdaå‡½æ•°" class="headerlink" title="2.2 å®ç°Lambdaå‡½æ•°"></a>2.2 å®ç°Lambdaå‡½æ•°</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> jakarta.inject.Inject;</span><br><span class="line"><span class="keyword">import</span> software.amazon.awssdk.services.dynamodb.DynamoDbClient;</span><br><span class="line"><span class="keyword">import</span> software.amazon.awssdk.services.dynamodb.model.PutItemRequest;</span><br><span class="line"><span class="keyword">import</span> software.amazon.lambda.powertools.logging.Logging;</span><br><span class="line"><span class="keyword">import</span> software.amazon.lambda.powertools.metrics.Metrics;</span><br><span class="line"><span class="keyword">import</span> software.amazon.lambda.powertools.tracing.Tracing;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">OrderHandler</span> <span class="keyword">implements</span> <span class="title">RequestHandler</span>&lt;<span class="title">APIGatewayProxyRequestEvent</span>, <span class="title">APIGatewayProxyResponseEvent</span>&gt; </span>&#123;</span><br><span class="line">    <span class="meta">@Inject</span></span><br><span class="line">    DynamoDbClient dynamoDbClient;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Logging(logEvent = true)</span></span><br><span class="line">    <span class="meta">@Metrics</span></span><br><span class="line">    <span class="meta">@Tracing</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> APIGatewayProxyResponseEvent <span class="title">handleRequest</span><span class="params">(APIGatewayProxyRequestEvent input, Context context)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// å¤„ç†è®¢å•è¯·æ±‚</span></span><br><span class="line">        String requestBody = input.getBody();</span><br><span class="line">        Order order = JsonbBuilder.create().fromJson(requestBody, Order.class);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// ä¿å­˜è®¢å•åˆ°DynamoDB</span></span><br><span class="line">        dynamoDbClient.putItem(PutItemRequest.builder()</span><br><span class="line">                .tableName(<span class="string">&quot;orders&quot;</span>)</span><br><span class="line">                .item(Map.of(</span><br><span class="line">                        <span class="string">&quot;id&quot;</span>, AttributeValue.builder().s(order.getId()).build(),</span><br><span class="line">                        <span class="string">&quot;productId&quot;</span>, AttributeValue.builder().s(order.getProductId()).build(),</span><br><span class="line">                        <span class="string">&quot;quantity&quot;</span>, AttributeValue.builder().n(String.valueOf(order.getQuantity())).build()</span><br><span class="line">                ))</span><br><span class="line">                .build());</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// è¿”å›å“åº”</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> APIGatewayProxyResponseEvent()</span><br><span class="line">                .withStatusCode(<span class="number">200</span>)</span><br><span class="line">                .withBody(<span class="string">&quot;Order created successfully&quot;</span>)</span><br><span class="line">                .withHeaders(Map.of(<span class="string">&quot;Content-Type&quot;</span>, <span class="string">&quot;text/plain&quot;</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="2-3-æ„å»ºä¸éƒ¨ç½²Quarkuså‡½æ•°"><a href="#2-3-æ„å»ºä¸éƒ¨ç½²Quarkuså‡½æ•°" class="headerlink" title="2.3 æ„å»ºä¸éƒ¨ç½²Quarkuså‡½æ•°"></a>2.3 æ„å»ºä¸éƒ¨ç½²Quarkuså‡½æ•°</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ„å»ºåŸç”Ÿé•œåƒ</span></span><br><span class="line">./mvnw package -Pnative -DskipTests</span><br><span class="line"></span><br><span class="line"><span class="comment"># éƒ¨ç½²åˆ°AWS Lambda</span></span><br><span class="line">aws lambda create-function \</span><br><span class="line">    --function-name order-handler \</span><br><span class="line">    --handler io.quarkus.amazon.lambda.runtime.QuarkusStreamHandler::handleRequest \</span><br><span class="line">    --runtime provided.al2 \</span><br><span class="line">    --role arn:aws:iam::123456789012:role/lambda-role \</span><br><span class="line">    --code S3Bucket=my-bucket,S3Key=function.zip \</span><br><span class="line">    --memory-size 256 \</span><br><span class="line">    --timeout 15</span><br></pre></td></tr></table></figure><h3 id="3-AWS-Lambdaä¸Azure-Functionsçš„Javaæœ€ä½³å®è·µ"><a href="#3-AWS-Lambdaä¸Azure-Functionsçš„Javaæœ€ä½³å®è·µ" class="headerlink" title="3. AWS Lambdaä¸Azure Functionsçš„Javaæœ€ä½³å®è·µ"></a>3. AWS Lambdaä¸Azure Functionsçš„Javaæœ€ä½³å®è·µ</h3><p>ä»¥ä¸‹æ˜¯åœ¨AWS Lambdaå’ŒAzure Functionsç­‰Serverlesså¹³å°ä¸Šä½¿ç”¨Javaçš„æœ€ä½³å®è·µï¼š</p><h4 id="3-1-å‡½æ•°è®¾è®¡æœ€ä½³å®è·µ"><a href="#3-1-å‡½æ•°è®¾è®¡æœ€ä½³å®è·µ" class="headerlink" title="3.1 å‡½æ•°è®¾è®¡æœ€ä½³å®è·µ"></a>3.1 å‡½æ•°è®¾è®¡æœ€ä½³å®è·µ</h4><ul><li><strong>ä¿æŒå‡½æ•°ç®€æ´</strong>ï¼šæ¯ä¸ªå‡½æ•°åªè´Ÿè´£ä¸€ä¸ªå…·ä½“çš„ä¸šåŠ¡åŠŸèƒ½</li><li><strong>ä¼˜åŒ–ä¾èµ–ç®¡ç†</strong>ï¼šåªåŒ…å«å¿…è¦çš„ä¾èµ–ï¼Œä½¿ç”¨ä¾èµ–åˆ†æå·¥å…·æ£€æµ‹å’Œç§»é™¤æœªä½¿ç”¨çš„ä¾èµ–</li><li><strong>ä½¿ç”¨å‡½æ•°å¹‚ç­‰æ€§è®¾è®¡</strong>ï¼šç¡®ä¿å‡½æ•°å¯ä»¥è¢«å®‰å…¨åœ°é‡å¤æ‰§è¡Œ</li><li><strong>å®ç°é”™è¯¯å¤„ç†å’Œé‡è¯•æœºåˆ¶</strong>ï¼šå¤„ç†å¯èƒ½çš„å¼‚å¸¸æƒ…å†µ</li><li><strong>åˆç†è®¾ç½®å‡½æ•°è¶…æ—¶å’Œå†…å­˜</strong>ï¼šæ ¹æ®å®é™…éœ€æ±‚é…ç½®å‡½æ•°å‚æ•°</li></ul><h4 id="3-2-æ€§èƒ½ä¼˜åŒ–æŠ€å·§"><a href="#3-2-æ€§èƒ½ä¼˜åŒ–æŠ€å·§" class="headerlink" title="3.2 æ€§èƒ½ä¼˜åŒ–æŠ€å·§"></a>3.2 æ€§èƒ½ä¼˜åŒ–æŠ€å·§</h4><ul><li><strong>ä½¿ç”¨è¿æ¥æ± </strong>ï¼šå¯¹äºéœ€è¦è®¿é—®æ•°æ®åº“æˆ–å…¶ä»–æœåŠ¡çš„å‡½æ•°ï¼Œå¯ä»¥ä½¿ç”¨è¿æ¥æ± é‡ç”¨è¿æ¥</li><li><strong>ç¼“å­˜é™æ€æ•°æ®</strong>ï¼šå¯¹äºä¸å¸¸å˜åŒ–çš„æ•°æ®ï¼Œå¯ä»¥ç¼“å­˜åˆ°å†…å­˜ä¸­</li><li><strong>ä¼˜åŒ–åºåˆ—åŒ–å’Œååºåˆ—åŒ–</strong>ï¼šé€‰æ‹©é«˜æ•ˆçš„åºåˆ—åŒ–æ¡†æ¶ï¼Œå¦‚Jacksonæˆ–Gson</li><li><strong>ä½¿ç”¨å¼‚æ­¥å¤„ç†</strong>ï¼šå¯¹äºè€—æ—¶çš„æ“ä½œï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨å¼‚æ­¥å¤„ç†</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä½¿ç”¨è¿æ¥æ± ä¼˜åŒ–æ•°æ®åº“è®¿é—®</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DatabaseService</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> HikariDataSource dataSource;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">static</span> &#123;</span><br><span class="line">        HikariConfig config = <span class="keyword">new</span> HikariConfig();</span><br><span class="line">        config.setJdbcUrl(System.getenv(<span class="string">&quot;DB_URL&quot;</span>));</span><br><span class="line">        config.setUsername(System.getenv(<span class="string">&quot;DB_USERNAME&quot;</span>));</span><br><span class="line">        config.setPassword(System.getenv(<span class="string">&quot;DB_PASSWORD&quot;</span>));</span><br><span class="line">        config.setMinimumIdle(<span class="number">0</span>);</span><br><span class="line">        config.setMaximumPoolSize(<span class="number">5</span>);</span><br><span class="line">        config.setConnectionTimeout(<span class="number">30000</span>);</span><br><span class="line">        config.setIdleTimeout(<span class="number">600000</span>);</span><br><span class="line">        config.setMaxLifetime(<span class="number">1800000</span>);</span><br><span class="line">        </span><br><span class="line">        dataSource = <span class="keyword">new</span> HikariDataSource(config);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> User <span class="title">getUserById</span><span class="params">(String id)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> (Connection conn = dataSource.getConnection();</span><br><span class="line">             PreparedStatement ps = conn.prepareStatement(<span class="string">&quot;SELECT * FROM users WHERE id = ?&quot;</span>)) &#123;</span><br><span class="line">            ps.setString(<span class="number">1</span>, id);</span><br><span class="line">            <span class="keyword">try</span> (ResultSet rs = ps.executeQuery()) &#123;</span><br><span class="line">                <span class="keyword">if</span> (rs.next()) &#123;</span><br><span class="line">                    User user = <span class="keyword">new</span> User();</span><br><span class="line">                    user.setId(rs.getString(<span class="string">&quot;id&quot;</span>));</span><br><span class="line">                    user.setName(rs.getString(<span class="string">&quot;name&quot;</span>));</span><br><span class="line">                    user.setEmail(rs.getString(<span class="string">&quot;email&quot;</span>));</span><br><span class="line">                    <span class="keyword">return</span> user;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">            <span class="comment">// æ—¥å¿—è®°å½•å¼‚å¸¸</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å…­ã€äº‘åŸç”Ÿåº”ç”¨çš„å¯è§‚æµ‹æ€§ä¸ç›‘æ§-ğŸ”"><a href="#å…­ã€äº‘åŸç”Ÿåº”ç”¨çš„å¯è§‚æµ‹æ€§ä¸ç›‘æ§-ğŸ”" class="headerlink" title="å…­ã€äº‘åŸç”Ÿåº”ç”¨çš„å¯è§‚æµ‹æ€§ä¸ç›‘æ§ ğŸ”"></a>å…­ã€äº‘åŸç”Ÿåº”ç”¨çš„å¯è§‚æµ‹æ€§ä¸ç›‘æ§ ğŸ”</h2><h3 id="1-å¯è§‚æµ‹æ€§ä½“ç³»è®¾è®¡"><a href="#1-å¯è§‚æµ‹æ€§ä½“ç³»è®¾è®¡" class="headerlink" title="1. å¯è§‚æµ‹æ€§ä½“ç³»è®¾è®¡"></a>1. å¯è§‚æµ‹æ€§ä½“ç³»è®¾è®¡</h3><p>äº‘åŸç”Ÿåº”ç”¨çš„å¯è§‚æµ‹æ€§åŒ…æ‹¬ä¸‰ä¸ªæ ¸å¿ƒè¦ç´ ï¼šæŒ‡æ ‡ï¼ˆMetricsï¼‰ã€æ—¥å¿—ï¼ˆLogsï¼‰å’Œè¿½è¸ªï¼ˆTracingï¼‰ï¼Œé€šå¸¸è¢«ç§°ä¸ºâ€å¯è§‚æµ‹æ€§ä¸‰æ”¯æŸ±â€ï¼š</p><ul><li><strong>æŒ‡æ ‡</strong>ï¼šç”¨äºç›‘æ§ç³»ç»Ÿçš„å¥åº·çŠ¶å†µå’Œæ€§èƒ½æŒ‡æ ‡ï¼Œå¦‚CPUä½¿ç”¨ç‡ã€å†…å­˜ä½¿ç”¨ç‡ã€è¯·æ±‚æ•°ã€å“åº”æ—¶é—´ç­‰</li><li><strong>æ—¥å¿—</strong>ï¼šè®°å½•ç³»ç»Ÿè¿è¡Œè¿‡ç¨‹ä¸­çš„è¯¦ç»†ä¿¡æ¯ï¼Œç”¨äºé—®é¢˜æ’æŸ¥å’Œå®¡è®¡</li><li><strong>è¿½è¸ª</strong>ï¼šç”¨äºè·Ÿè¸ªè¯·æ±‚åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­çš„å®Œæ•´è°ƒç”¨é“¾è·¯ï¼Œè¯†åˆ«æ€§èƒ½ç“¶é¢ˆ</li></ul><p>æ„å»ºå¯è§‚æµ‹æ€§ä½“ç³»æ—¶ï¼Œåº”éµå¾ªä»¥ä¸‹åŸåˆ™ï¼š</p><ul><li><strong>ç»Ÿä¸€é‡‡é›†</strong>ï¼šä½¿ç”¨ç»Ÿä¸€çš„å·¥å…·å’Œæ ‡å‡†é‡‡é›†å¯è§‚æµ‹æ€§æ•°æ®</li><li><strong>é›†ä¸­å­˜å‚¨</strong>ï¼šå°†å¯è§‚æµ‹æ€§æ•°æ®å­˜å‚¨åœ¨é›†ä¸­çš„å¹³å°ä¸­</li><li><strong>å…³è”åˆ†æ</strong>ï¼šå°†æŒ‡æ ‡ã€æ—¥å¿—å’Œè¿½è¸ªæ•°æ®å…³è”èµ·æ¥è¿›è¡Œåˆ†æ</li><li><strong>å®æ—¶ç›‘æ§</strong>ï¼šå®æ—¶ç›‘æ§ç³»ç»Ÿçš„è¿è¡ŒçŠ¶æ€</li><li><strong>æ™ºèƒ½å‘Šè­¦</strong>ï¼šè®¾ç½®æ™ºèƒ½å‘Šè­¦è§„åˆ™ï¼ŒåŠæ—¶å‘ç°å’Œè§£å†³é—®é¢˜</li></ul><h3 id="2-æ—¥å¿—ç®¡ç†ä¸ç»“æ„åŒ–æ—¥å¿—"><a href="#2-æ—¥å¿—ç®¡ç†ä¸ç»“æ„åŒ–æ—¥å¿—" class="headerlink" title="2. æ—¥å¿—ç®¡ç†ä¸ç»“æ„åŒ–æ—¥å¿—"></a>2. æ—¥å¿—ç®¡ç†ä¸ç»“æ„åŒ–æ—¥å¿—</h3><p>åœ¨äº‘åŸç”Ÿç¯å¢ƒä¸­ï¼Œç®¡ç†å’Œåˆ†ææ—¥å¿—æ˜¯ä¸€é¡¹é‡è¦çš„æŒ‘æˆ˜ã€‚ä½¿ç”¨ç»“æ„åŒ–æ—¥å¿—å¯ä»¥æ˜¾è‘—æé«˜æ—¥å¿—çš„å¯è¯»æ€§å’Œå¯åˆ†ææ€§ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä½¿ç”¨SLF4Jå’ŒLogbacké…ç½®ç»“æ„åŒ–æ—¥å¿—</span></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LoggingConfig</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> LoggingEventEnhancer <span class="title">loggingEventEnhancer</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> CustomLoggingEventEnhancer();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">CustomLoggingEventEnhancer</span> <span class="keyword">implements</span> <span class="title">LoggingEventEnhancer</span> </span>&#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> Map&lt;String, Object&gt; <span class="title">enhance</span><span class="params">(LoggingEvent event)</span> </span>&#123;</span><br><span class="line">            Map&lt;String, Object&gt; enhancements = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">            enhancements.put(<span class="string">&quot;application&quot;</span>, <span class="string">&quot;my-application&quot;</span>);</span><br><span class="line">            enhancements.put(<span class="string">&quot;environment&quot;</span>, System.getenv(<span class="string">&quot;ENVIRONMENT&quot;</span>));</span><br><span class="line">            enhancements.put(<span class="string">&quot;instance_id&quot;</span>, System.getenv(<span class="string">&quot;HOSTNAME&quot;</span>));</span><br><span class="line">            </span><br><span class="line">            <span class="comment">// æ·»åŠ MDCä¸­çš„ä¿¡æ¯</span></span><br><span class="line">            enhancements.putAll(MDC.getCopyOfContextMap() != <span class="keyword">null</span> ? MDC.getCopyOfContextMap() : Map.of());</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">return</span> enhancements;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åœ¨ä»£ç ä¸­ä½¿ç”¨ç»“æ„åŒ–æ—¥å¿—</span></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">OrderService</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> Logger logger = LoggerFactory.getLogger(OrderService.class);</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> Order <span class="title">createOrder</span><span class="params">(OrderDTO orderDTO)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// è®¾ç½®MDCä¸Šä¸‹æ–‡</span></span><br><span class="line">        MDC.put(<span class="string">&quot;traceId&quot;</span>, UUID.randomUUID().toString());</span><br><span class="line">        MDC.put(<span class="string">&quot;userId&quot;</span>, orderDTO.getUserId());</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            logger.info(<span class="string">&quot;Creating order with productId=&#123;&#125;, quantity=&#123;&#125;&quot;</span>, orderDTO.getProductId(), orderDTO.getQuantity());</span><br><span class="line">            </span><br><span class="line">            <span class="comment">// åˆ›å»ºè®¢å•é€»è¾‘</span></span><br><span class="line">            Order order = <span class="keyword">new</span> Order();</span><br><span class="line">            order.setUserId(orderDTO.getUserId());</span><br><span class="line">            order.setProductId(orderDTO.getProductId());</span><br><span class="line">            order.setQuantity(orderDTO.getQuantity());</span><br><span class="line">            order.setCreateTime(LocalDateTime.now());</span><br><span class="line">            </span><br><span class="line">            <span class="comment">// ä¿å­˜è®¢å•</span></span><br><span class="line">            orderRepository.save(order);</span><br><span class="line">            </span><br><span class="line">            logger.info(<span class="string">&quot;Order created successfully with id=&#123;&#125;&quot;</span>, order.getId());</span><br><span class="line">            <span class="keyword">return</span> order;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            logger.error(<span class="string">&quot;Failed to create order: &#123;&#125;&quot;</span>, e.getMessage(), e);</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(<span class="string">&quot;Failed to create order&quot;</span>, e);</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="comment">// æ¸…é™¤MDCä¸Šä¸‹æ–‡</span></span><br><span class="line">            MDC.clear();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="3-åˆ†å¸ƒå¼è¿½è¸ªä¸æ€§èƒ½åˆ†æ"><a href="#3-åˆ†å¸ƒå¼è¿½è¸ªä¸æ€§èƒ½åˆ†æ" class="headerlink" title="3. åˆ†å¸ƒå¼è¿½è¸ªä¸æ€§èƒ½åˆ†æ"></a>3. åˆ†å¸ƒå¼è¿½è¸ªä¸æ€§èƒ½åˆ†æ</h3><p>åˆ†å¸ƒå¼è¿½è¸ªå¯ä»¥å¸®åŠ©æˆ‘ä»¬è·Ÿè¸ªè¯·æ±‚åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­çš„å®Œæ•´è°ƒç”¨é“¾è·¯ï¼Œè¯†åˆ«æ€§èƒ½ç“¶é¢ˆï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä½¿ç”¨Spring Cloud Sleuthå’ŒZipkinå®ç°åˆ†å¸ƒå¼è¿½è¸ª</span></span><br><span class="line"><span class="meta">@SpringBootApplication</span></span><br><span class="line"><span class="meta">@EnableDiscoveryClient</span></span><br><span class="line"><span class="meta">@EnableZipkinServer</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TracingServerApplication</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        SpringApplication.run(TracingServerApplication.class, args);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å®¢æˆ·ç«¯é…ç½®</span></span><br><span class="line"><span class="meta">@SpringBootApplication</span></span><br><span class="line"><span class="meta">@EnableDiscoveryClient</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyServiceApplication</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        SpringApplication.run(MyServiceApplication.class, args);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åˆ†å¸ƒå¼è¿½è¸ªé…ç½®</span></span><br><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">sleuth:</span></span><br><span class="line">    <span class="attr">sampler:</span></span><br><span class="line">      <span class="attr">probability:</span> <span class="number">1.0</span>  <span class="comment"># é‡‡æ ·ç‡</span></span><br><span class="line">  <span class="attr">zipkin:</span></span><br><span class="line">    <span class="attr">base-url:</span> <span class="string">http://zipkin-server:9411/</span>  <span class="comment"># ZipkinæœåŠ¡å™¨åœ°å€</span></span><br><span class="line">    <span class="attr">sender:</span></span><br><span class="line">      <span class="attr">type:</span> <span class="string">web</span></span><br></pre></td></tr></table></figure><h3 id="4-äº‘åŸç”Ÿç›‘æ§å‘Šè­¦å®è·µ"><a href="#4-äº‘åŸç”Ÿç›‘æ§å‘Šè­¦å®è·µ" class="headerlink" title="4. äº‘åŸç”Ÿç›‘æ§å‘Šè­¦å®è·µ"></a>4. äº‘åŸç”Ÿç›‘æ§å‘Šè­¦å®è·µ</h3><p>åœ¨äº‘åŸç”Ÿç¯å¢ƒä¸­ï¼Œç›‘æ§å’Œå‘Šè­¦æ˜¯ç¡®ä¿åº”ç”¨å¯é æ€§çš„é‡è¦ä¿éšœï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä½¿ç”¨Micrometerå’ŒPrometheuså®ç°æŒ‡æ ‡ç›‘æ§</span></span><br><span class="line"><span class="meta">@SpringBootApplication</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyApplication</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function">MeterRegistryCustomizer&lt;MeterRegistry&gt; <span class="title">metricsCommonTags</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> registry -&gt; registry.config().commonTags(<span class="string">&quot;application&quot;</span>, <span class="string">&quot;my-application&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function">TimedAspect <span class="title">timedAspect</span><span class="params">(MeterRegistry registry)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> TimedAspect(registry);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åœ¨æ–¹æ³•ä¸Šä½¿ç”¨@Timedæ³¨è§£ç›‘æ§æ€§èƒ½</span></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">OrderService</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Timed(value = &quot;order.create&quot;, description = &quot;Time taken to create an order&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Order <span class="title">createOrder</span><span class="params">(OrderDTO orderDTO)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// åˆ›å»ºè®¢å•é€»è¾‘</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Timed(value = &quot;order.find&quot;, description = &quot;Time taken to find orders&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;Order&gt; <span class="title">findOrdersByUserId</span><span class="params">(String userId)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// æŸ¥è¯¢è®¢å•é€»è¾‘</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é…ç½®Prometheusç›‘æ§å’ŒGrafanaå‘Šè­¦ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Prometheusé…ç½®</span></span><br><span class="line"><span class="attr">scrape_configs:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">job_name:</span> <span class="string">&#x27;spring-actuator&#x27;</span></span><br><span class="line">    <span class="attr">metrics_path:</span> <span class="string">&#x27;/actuator/prometheus&#x27;</span></span><br><span class="line">    <span class="attr">scrape_interval:</span> <span class="string">5s</span></span><br><span class="line">    <span class="attr">kubernetes_sd_configs:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">role:</span> <span class="string">pod</span></span><br><span class="line">    <span class="attr">relabel_configs:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">source_labels:</span> [<span class="string">__meta_kubernetes_pod_label_app</span>]</span><br><span class="line">      <span class="attr">action:</span> <span class="string">keep</span></span><br><span class="line">      <span class="attr">regex:</span> <span class="string">my-application</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Grafanaå‘Šè­¦è§„åˆ™</span></span><br><span class="line"><span class="attr">groups:</span></span><br><span class="line"><span class="bullet">-</span> <span class="attr">name:</span> <span class="string">spring-boot-alerts</span></span><br><span class="line">  <span class="attr">rules:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">alert:</span> <span class="string">HighErrorRate</span></span><br><span class="line">    <span class="attr">expr:</span> <span class="string">sum(rate(http_server_requests_seconds_count&#123;status=~&quot;5..&quot;&#125;[5m]))</span> <span class="string">/</span> <span class="string">sum(rate(http_server_requests_seconds_count[5m]))</span> <span class="string">*</span> <span class="number">100</span> <span class="string">&gt;</span> <span class="number">5</span></span><br><span class="line">    <span class="attr">for:</span> <span class="string">1m</span></span><br><span class="line">    <span class="attr">labels:</span></span><br><span class="line">      <span class="attr">severity:</span> <span class="string">critical</span></span><br><span class="line">    <span class="attr">annotations:</span></span><br><span class="line">      <span class="attr">summary:</span> <span class="string">&quot;High error rate detected&quot;</span></span><br><span class="line">      <span class="attr">description:</span> <span class="string">&quot;Error rate is above 5% for 1 minute&quot;</span></span><br></pre></td></tr></table></figure><h2 id="ä¸ƒã€æ€»ç»“ä¸æœªæ¥å‘å±•è¶‹åŠ¿å±•æœ›-ğŸ“"><a href="#ä¸ƒã€æ€»ç»“ä¸æœªæ¥å‘å±•è¶‹åŠ¿å±•æœ›-ğŸ“" class="headerlink" title="ä¸ƒã€æ€»ç»“ä¸æœªæ¥å‘å±•è¶‹åŠ¿å±•æœ› ğŸ“"></a>ä¸ƒã€æ€»ç»“ä¸æœªæ¥å‘å±•è¶‹åŠ¿å±•æœ› ğŸ“</h2><p>é€šè¿‡æœ¬æ–‡çš„ä»‹ç»ï¼Œæˆ‘ä»¬è¯¦ç»†è®²è§£äº†Javaäº‘åŸç”Ÿåº”ç”¨çš„æœ€ä½³å®è·µï¼ŒåŒ…æ‹¬å®¹å™¨åŒ–ç­–ç•¥ã€Kubernetesèµ„æºé…ç½®ã€å¾®æœåŠ¡æ”¹é€ ã€GraalVMåŸç”Ÿé•œåƒä¼˜åŒ–ã€Serverlesså‡½æ•°å¼€å‘ä»¥åŠå¯è§‚æµ‹æ€§ç›‘æ§ç­‰æ–¹é¢çš„å†…å®¹ã€‚</p><p>Javaäº‘åŸç”Ÿåº”ç”¨çš„æœªæ¥å‘å±•è¶‹åŠ¿ä¸»è¦åŒ…æ‹¬ä»¥ä¸‹å‡ ä¸ªæ–¹é¢ï¼š</p><ol><li><strong>æ›´è½»é‡çº§çš„è¿è¡Œæ—¶</strong>ï¼šéšç€GraalVMç­‰æŠ€æœ¯çš„å‘å±•ï¼ŒJavaåº”ç”¨çš„å¯åŠ¨æ—¶é—´å’Œå†…å­˜å ç”¨å°†è¿›ä¸€æ­¥å‡å°</li><li><strong>æ›´ç´§å¯†çš„äº‘å¹³å°é›†æˆ</strong>ï¼šJavaæ¡†æ¶å°†ä¸äº‘å¹³å°æä¾›çš„æœåŠ¡æ›´ç´§å¯†åœ°é›†æˆï¼Œç®€åŒ–å¼€å‘å’Œéƒ¨ç½²</li><li><strong>æ›´æ™ºèƒ½çš„è¿ç»´</strong>ï¼šAIå’Œæœºå™¨å­¦ä¹ æŠ€æœ¯å°†è¢«æ›´å¹¿æ³›åœ°åº”ç”¨äºäº‘åŸç”Ÿåº”ç”¨çš„ç›‘æ§ã€è¯Šæ–­å’Œä¼˜åŒ–</li><li><strong>æ›´å¼ºå¤§çš„å®‰å…¨æ€§</strong>ï¼šäº‘åŸç”Ÿå®‰å…¨æŠ€æœ¯å°†ä¸æ–­å‘å±•ï¼Œæä¾›æ›´å…¨é¢çš„å®‰å…¨ä¿éšœ</li><li><strong>æ›´å¹¿æ³›çš„æ ‡å‡†åŒ–</strong>ï¼šäº‘åŸç”Ÿç›¸å…³çš„æ ‡å‡†å°†ä¸æ–­å®Œå–„ï¼Œä¿ƒè¿›æŠ€æœ¯çš„è§„èŒƒåŒ–å’Œäº’æ“ä½œæ€§</li></ol><p>æ„å»ºäº‘åŸç”Ÿåº”ç”¨æ˜¯ä¸€ä¸ªæŒç»­å­¦ä¹ å’Œå®è·µçš„è¿‡ç¨‹ã€‚å¸Œæœ›æœ¬æ–‡èƒ½å¤Ÿä¸ºä½ æä¾›ä¸€äº›æœ‰ç”¨çš„æŒ‡å¯¼å’Œå¯å‘ï¼Œå¸®åŠ©ä½ åœ¨äº‘åŸç”Ÿæ—¶ä»£æ„å»ºæ›´é«˜æ•ˆã€æ›´å¯é çš„Javaåº”ç”¨ã€‚å¦‚æœä½ æœ‰ä»»ä½•é—®é¢˜æˆ–å»ºè®®ï¼Œæ¬¢è¿åœ¨è¯„è®ºåŒºç•™è¨€è®¨è®ºï¼ğŸ˜Š</p>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;/assets/css/APlayer.min.css&quot;&gt;&lt;script src=&quot;/assets/js/APlayer.min.js&quot; cla</summary>
      
    
    
    
    
    <category term="Java" scheme="https://blog.zhuyizhuo.online/tags/Java/"/>
    
    <category term="äº‘åŸç”Ÿ" scheme="https://blog.zhuyizhuo.online/tags/%E4%BA%91%E5%8E%9F%E7%94%9F/"/>
    
    <category term="Kubernetes" scheme="https://blog.zhuyizhuo.online/tags/Kubernetes/"/>
    
    <category term="DevOps" scheme="https://blog.zhuyizhuo.online/tags/DevOps/"/>
    
    <category term="å¾®æœåŠ¡" scheme="https://blog.zhuyizhuo.online/tags/%E5%BE%AE%E6%9C%8D%E5%8A%A1/"/>
    
  </entry>
  
  <entry>
    <title>Javaæ•°æ®è®¿é—®å±‚ä¼˜åŒ–å®æˆ˜</title>
    <link href="https://blog.zhuyizhuo.online/2025/02/15/database/2025-data-access-optimization/"/>
    <id>https://blog.zhuyizhuo.online/2025/02/15/database/2025-data-access-optimization/</id>
    <published>2025-02-14T16:00:00.000Z</published>
    <updated>2025-09-26T09:17:19.569Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="Javaæ•°æ®è®¿é—®å±‚ä¼˜åŒ–å®æˆ˜-ğŸï¸"><a href="#Javaæ•°æ®è®¿é—®å±‚ä¼˜åŒ–å®æˆ˜-ğŸï¸" class="headerlink" title="Javaæ•°æ®è®¿é—®å±‚ä¼˜åŒ–å®æˆ˜ ğŸï¸"></a>Javaæ•°æ®è®¿é—®å±‚ä¼˜åŒ–å®æˆ˜ ğŸï¸</h1><p>å¤§å®¶å¥½ï¼ğŸ‘‹ åœ¨Javaåº”ç”¨å¼€å‘ä¸­ï¼Œæ•°æ®è®¿é—®å±‚ï¼ˆDALï¼‰çš„æ€§èƒ½å¾€å¾€æ˜¯æ•´ä¸ªåº”ç”¨æ€§èƒ½çš„ç“¶é¢ˆã€‚éšç€ä¸šåŠ¡è§„æ¨¡çš„æ‰©å¤§å’Œæ•°æ®é‡çš„å¢é•¿ï¼Œå¦‚ä½•ä¼˜åŒ–æ•°æ®è®¿é—®å±‚çš„æ€§èƒ½æˆä¸ºäº†å¼€å‘å›¢é˜Ÿå¿…é¡»é¢å¯¹çš„æŒ‘æˆ˜ã€‚ä»Šå¤©ï¼Œæˆ‘å°†å’Œå¤§å®¶åˆ†äº«Javaæ•°æ®è®¿é—®å±‚ä¼˜åŒ–çš„å®æˆ˜ç»éªŒå’Œæœ€ä½³å®è·µï¼Œå¸®åŠ©ä½ æ„å»ºé«˜æ€§èƒ½ã€é«˜å¯ç”¨çš„æ•°æ®è®¿é—®å±‚ã€‚</p><h2 id="ä¸€ã€æ•°æ®è®¿é—®å±‚æ€§èƒ½é—®é¢˜çš„æ ¹æºä¸è¯Šæ–­-ğŸ•µï¸â€â™‚ï¸"><a href="#ä¸€ã€æ•°æ®è®¿é—®å±‚æ€§èƒ½é—®é¢˜çš„æ ¹æºä¸è¯Šæ–­-ğŸ•µï¸â€â™‚ï¸" class="headerlink" title="ä¸€ã€æ•°æ®è®¿é—®å±‚æ€§èƒ½é—®é¢˜çš„æ ¹æºä¸è¯Šæ–­ ğŸ•µï¸â€â™‚ï¸"></a>ä¸€ã€æ•°æ®è®¿é—®å±‚æ€§èƒ½é—®é¢˜çš„æ ¹æºä¸è¯Šæ–­ ğŸ•µï¸â€â™‚ï¸</h2><h3 id="1-å¸¸è§æ€§èƒ½ç“¶é¢ˆåˆ†æ"><a href="#1-å¸¸è§æ€§èƒ½ç“¶é¢ˆåˆ†æ" class="headerlink" title="1. å¸¸è§æ€§èƒ½ç“¶é¢ˆåˆ†æ"></a>1. å¸¸è§æ€§èƒ½ç“¶é¢ˆåˆ†æ</h3><p>åœ¨Javaåº”ç”¨ä¸­ï¼Œæ•°æ®è®¿é—®å±‚çš„æ€§èƒ½é—®é¢˜ä¸»è¦æ¥è‡ªä»¥ä¸‹å‡ ä¸ªæ–¹é¢ï¼š</p><ul><li><strong>æ•°æ®åº“æŸ¥è¯¢æ•ˆç‡ä½</strong>ï¼šä¸åˆç†çš„SQLè¯­å¥ã€ç¼ºå°‘å¿…è¦çš„ç´¢å¼•</li><li><strong>è¿æ¥ç®¡ç†ä¸å½“</strong>ï¼šè¿æ¥æ± é…ç½®ä¸åˆç†ã€è¿æ¥æ³„æ¼</li><li><strong>æ•°æ®ä¼ è¾“å¼€é”€å¤§</strong>ï¼šä¸å¿…è¦çš„æ•°æ®åŠ è½½ã€åºåˆ—åŒ–å¼€é”€</li><li><strong>å¹¶å‘æ§åˆ¶é—®é¢˜</strong>ï¼šé”ç«äº‰æ¿€çƒˆã€äº‹åŠ¡éš”ç¦»çº§åˆ«è®¾ç½®ä¸å½“</li><li><strong>åº”ç”¨å±‚è®¾è®¡ç¼ºé™·</strong>ï¼šN+1æŸ¥è¯¢é—®é¢˜ã€é¢‘ç¹è®¿é—®æ•°æ®åº“</li></ul><h3 id="2-æ€§èƒ½è¯Šæ–­å·¥å…·ä¸æ–¹æ³•"><a href="#2-æ€§èƒ½è¯Šæ–­å·¥å…·ä¸æ–¹æ³•" class="headerlink" title="2. æ€§èƒ½è¯Šæ–­å·¥å…·ä¸æ–¹æ³•"></a>2. æ€§èƒ½è¯Šæ–­å·¥å…·ä¸æ–¹æ³•</h3><p>è¦ä¼˜åŒ–æ•°æ®è®¿é—®å±‚çš„æ€§èƒ½ï¼Œé¦–å…ˆéœ€è¦æ‰¾åˆ°æ€§èƒ½ç“¶é¢ˆæ‰€åœ¨ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›å¸¸ç”¨çš„æ€§èƒ½è¯Šæ–­å·¥å…·å’Œæ–¹æ³•ï¼š</p><ul><li><strong>æ•°æ®åº“å±‚é¢</strong>ï¼šä½¿ç”¨Explainåˆ†æSQLæ‰§è¡Œè®¡åˆ’ã€ç›‘æ§æ…¢æŸ¥è¯¢æ—¥å¿—</li><li><strong>åº”ç”¨å±‚é¢</strong>ï¼šä½¿ç”¨JProfilerã€VisualVMç­‰å·¥å…·åˆ†ææ–¹æ³•æ‰§è¡Œæ—¶é—´</li><li><strong>å…¨é“¾è·¯è¿½è¸ª</strong>ï¼šä½¿ç”¨SkyWalkingã€Zipkinç­‰å·¥å…·è¿½è¸ªè¯·æ±‚é“¾è·¯</li><li><strong>è¿æ¥æ± ç›‘æ§</strong>ï¼šç›‘æ§è¿æ¥æ± çš„çŠ¶æ€å’Œä½¿ç”¨æƒ…å†µ</li><li><strong>æ€§èƒ½æµ‹è¯•</strong>ï¼šä½¿ç”¨JMeterã€Gatlingç­‰å·¥å…·è¿›è¡Œå‹åŠ›æµ‹è¯•</li></ul><h3 id="3-æ€§èƒ½æµ‹è¯•ä¸åŸºå‡†åˆ†æ"><a href="#3-æ€§èƒ½æµ‹è¯•ä¸åŸºå‡†åˆ†æ" class="headerlink" title="3. æ€§èƒ½æµ‹è¯•ä¸åŸºå‡†åˆ†æ"></a>3. æ€§èƒ½æµ‹è¯•ä¸åŸºå‡†åˆ†æ</h3><p>åœ¨ä¼˜åŒ–æ•°æ®è®¿é—®å±‚ä¹‹å‰ï¼Œè¿›è¡Œæ€§èƒ½æµ‹è¯•å¹¶å»ºç«‹åŸºå‡†çº¿æ˜¯éå¸¸é‡è¦çš„ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@SpringBootTest</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DataAccessPerformanceTest</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> UserService userService;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testFindUserByIdPerformance</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        StopWatch stopWatch = <span class="keyword">new</span> StopWatch();</span><br><span class="line">        <span class="keyword">int</span> iterations = <span class="number">1000</span>;</span><br><span class="line">        </span><br><span class="line">        stopWatch.start();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; iterations; i++) &#123;</span><br><span class="line">            userService.findUserById((<span class="keyword">long</span>) (i % <span class="number">1000</span> + <span class="number">1</span>));</span><br><span class="line">        &#125;</span><br><span class="line">        stopWatch.stop();</span><br><span class="line">        </span><br><span class="line">        System.out.println(<span class="string">&quot;æ‰§è¡Œ&quot;</span> + iterations + <span class="string">&quot;æ¬¡æŸ¥è¯¢ï¼Œè€—æ—¶ï¼š&quot;</span> + stopWatch.getTotalTimeMillis() + <span class="string">&quot;ms&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;å¹³å‡æ¯æ¬¡æŸ¥è¯¢è€—æ—¶ï¼š&quot;</span> + (stopWatch.getTotalTimeMillis() / iterations) + <span class="string">&quot;ms&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="äºŒã€SQLä¼˜åŒ–ç­–ç•¥ä¸æœ€ä½³å®è·µ-ğŸ“"><a href="#äºŒã€SQLä¼˜åŒ–ç­–ç•¥ä¸æœ€ä½³å®è·µ-ğŸ“" class="headerlink" title="äºŒã€SQLä¼˜åŒ–ç­–ç•¥ä¸æœ€ä½³å®è·µ ğŸ“"></a>äºŒã€SQLä¼˜åŒ–ç­–ç•¥ä¸æœ€ä½³å®è·µ ğŸ“</h2><h3 id="1-ç´¢å¼•ä¼˜åŒ–æŠ€å·§"><a href="#1-ç´¢å¼•ä¼˜åŒ–æŠ€å·§" class="headerlink" title="1. ç´¢å¼•ä¼˜åŒ–æŠ€å·§"></a>1. ç´¢å¼•ä¼˜åŒ–æŠ€å·§</h3><p>ç´¢å¼•æ˜¯æé«˜æ•°æ®åº“æŸ¥è¯¢æ€§èƒ½çš„å…³é”®ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›ç´¢å¼•ä¼˜åŒ–çš„æŠ€å·§ï¼š</p><h4 id="1-1-åˆç†è®¾è®¡ç´¢å¼•"><a href="#1-1-åˆç†è®¾è®¡ç´¢å¼•" class="headerlink" title="1.1 åˆç†è®¾è®¡ç´¢å¼•"></a>1.1 åˆç†è®¾è®¡ç´¢å¼•</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- ä¸ºç»å¸¸ç”¨äºæŸ¥è¯¢æ¡ä»¶çš„åˆ—åˆ›å»ºç´¢å¼•</span></span><br><span class="line"><span class="keyword">CREATE</span> INDEX idx_user_name <span class="keyword">ON</span> <span class="keyword">user</span>(name);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ä¸ºç»å¸¸ç”¨äºæ’åºå’Œåˆ†ç»„çš„åˆ—åˆ›å»ºç´¢å¼•</span></span><br><span class="line"><span class="keyword">CREATE</span> INDEX idx_order_create_time <span class="keyword">ON</span> <span class="keyword">order</span>(create_time);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- å¤åˆç´¢å¼•éµå¾ªæœ€å·¦å‰ç¼€åŸåˆ™</span></span><br><span class="line"><span class="keyword">CREATE</span> INDEX idx_user_name_age <span class="keyword">ON</span> <span class="keyword">user</span>(name, age);</span><br></pre></td></tr></table></figure><h4 id="1-2-é¿å…ç´¢å¼•å¤±æ•ˆ"><a href="#1-2-é¿å…ç´¢å¼•å¤±æ•ˆ" class="headerlink" title="1.2 é¿å…ç´¢å¼•å¤±æ•ˆ"></a>1.2 é¿å…ç´¢å¼•å¤±æ•ˆ</h4><p>ä»¥ä¸‹æƒ…å†µå¯èƒ½å¯¼è‡´ç´¢å¼•å¤±æ•ˆï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- é¿å…åœ¨ç´¢å¼•åˆ—ä¸Šè¿›è¡Œè®¡ç®—</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> <span class="keyword">user</span> <span class="keyword">WHERE</span> <span class="keyword">YEAR</span>(birthday) <span class="operator">=</span> <span class="number">1990</span>; <span class="comment">-- ç´¢å¼•å¤±æ•ˆ</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- é¿å…ä½¿ç”¨IS NULL/IS NOT NULL</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> <span class="keyword">user</span> <span class="keyword">WHERE</span> email <span class="keyword">IS</span> <span class="keyword">NULL</span>; <span class="comment">-- ç´¢å¼•å¯èƒ½å¤±æ•ˆ</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- é¿å…ä½¿ç”¨NOT INå’ŒLIKE &#x27;%...&#x27;</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> <span class="keyword">user</span> <span class="keyword">WHERE</span> name <span class="keyword">LIKE</span> <span class="string">&#x27;%å¼ &#x27;</span>; <span class="comment">-- ç´¢å¼•å¤±æ•ˆ</span></span><br></pre></td></tr></table></figure><p>æ”¹ä¸ºï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- ä½¿ç”¨èŒƒå›´æŸ¥è¯¢ä»£æ›¿å‡½æ•°è®¡ç®—</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> <span class="keyword">user</span> <span class="keyword">WHERE</span> birthday <span class="keyword">BETWEEN</span> <span class="string">&#x27;1990-01-01&#x27;</span> <span class="keyword">AND</span> <span class="string">&#x27;1990-12-31&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- å¯¹äºNULLå€¼ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨é»˜è®¤å€¼</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> <span class="keyword">user</span> <span class="keyword">WHERE</span> email <span class="operator">=</span> <span class="string">&#x27;&#x27;</span>; <span class="comment">-- å‡è®¾ç©ºå­—ç¬¦ä¸²è¡¨ç¤ºæœªè®¾ç½®é‚®ç®±</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- ä½¿ç”¨å‰ç¼€åŒ¹é…</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> <span class="keyword">user</span> <span class="keyword">WHERE</span> name <span class="keyword">LIKE</span> <span class="string">&#x27;å¼ %&#x27;</span>; <span class="comment">-- ç´¢å¼•æœ‰æ•ˆ</span></span><br></pre></td></tr></table></figure><h4 id="1-3-å®šæœŸç»´æŠ¤ç´¢å¼•"><a href="#1-3-å®šæœŸç»´æŠ¤ç´¢å¼•" class="headerlink" title="1.3 å®šæœŸç»´æŠ¤ç´¢å¼•"></a>1.3 å®šæœŸç»´æŠ¤ç´¢å¼•</h4><p>å®šæœŸæ£€æŸ¥å’Œç»´æŠ¤ç´¢å¼•æ˜¯ä¿æŒæ•°æ®åº“æ€§èƒ½çš„é‡è¦æªæ–½ï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- MySQLæŸ¥çœ‹ç´¢å¼•ä½¿ç”¨æƒ…å†µ</span></span><br><span class="line"><span class="keyword">SHOW</span> INDEX <span class="keyword">FROM</span> <span class="keyword">user</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- PostgreSQLæŸ¥çœ‹ç´¢å¼•ä½¿ç”¨æƒ…å†µ</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> pg_stat_user_indexes <span class="keyword">WHERE</span> schemaname <span class="operator">=</span> <span class="string">&#x27;public&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- é‡å»ºç´¢å¼•</span></span><br><span class="line"><span class="keyword">ALTER</span> INDEX idx_user_name REBUILD;</span><br></pre></td></tr></table></figure><h3 id="2-SQLæŸ¥è¯¢ä¼˜åŒ–æŠ€å·§"><a href="#2-SQLæŸ¥è¯¢ä¼˜åŒ–æŠ€å·§" class="headerlink" title="2. SQLæŸ¥è¯¢ä¼˜åŒ–æŠ€å·§"></a>2. SQLæŸ¥è¯¢ä¼˜åŒ–æŠ€å·§</h3><p>é™¤äº†ç´¢å¼•ä¼˜åŒ–å¤–ï¼ŒSQLæŸ¥è¯¢æœ¬èº«çš„ä¼˜åŒ–ä¹Ÿéå¸¸é‡è¦ï¼š</p><h4 id="2-1-åªæŸ¥è¯¢éœ€è¦çš„åˆ—"><a href="#2-1-åªæŸ¥è¯¢éœ€è¦çš„åˆ—" class="headerlink" title="2.1 åªæŸ¥è¯¢éœ€è¦çš„åˆ—"></a>2.1 åªæŸ¥è¯¢éœ€è¦çš„åˆ—</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- é¿å…ä½¿ç”¨SELECT *</span></span><br><span class="line"><span class="keyword">SELECT</span> id, name, email <span class="keyword">FROM</span> <span class="keyword">user</span> <span class="keyword">WHERE</span> age <span class="operator">&gt;</span> <span class="number">18</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- è€Œä¸æ˜¯</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> <span class="keyword">user</span> <span class="keyword">WHERE</span> age <span class="operator">&gt;</span> <span class="number">18</span>;</span><br></pre></td></tr></table></figure><h4 id="2-2-ä¼˜åŒ–JOINæ“ä½œ"><a href="#2-2-ä¼˜åŒ–JOINæ“ä½œ" class="headerlink" title="2.2 ä¼˜åŒ–JOINæ“ä½œ"></a>2.2 ä¼˜åŒ–JOINæ“ä½œ</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- å°è¡¨é©±åŠ¨å¤§è¡¨</span></span><br><span class="line"><span class="keyword">SELECT</span> u.name, o.order_no <span class="keyword">FROM</span> <span class="keyword">user</span> u <span class="keyword">JOIN</span> <span class="keyword">order</span> o <span class="keyword">ON</span> u.id <span class="operator">=</span> o.user_id <span class="keyword">WHERE</span> u.age <span class="operator">&gt;</span> <span class="number">18</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ä½¿ç”¨STRAIGHT_JOINå¼ºåˆ¶è¿æ¥é¡ºåºï¼ˆä»…MySQLï¼‰</span></span><br><span class="line"><span class="keyword">SELECT</span> STRAIGHT_JOIN u.name, o.order_no <span class="keyword">FROM</span> <span class="keyword">user</span> u <span class="keyword">JOIN</span> <span class="keyword">order</span> o <span class="keyword">ON</span> u.id <span class="operator">=</span> o.user_id <span class="keyword">WHERE</span> u.age <span class="operator">&gt;</span> <span class="number">18</span>;</span><br></pre></td></tr></table></figure><h4 id="2-3-ä½¿ç”¨LIMITé™åˆ¶ç»“æœé›†å¤§å°"><a href="#2-3-ä½¿ç”¨LIMITé™åˆ¶ç»“æœé›†å¤§å°" class="headerlink" title="2.3 ä½¿ç”¨LIMITé™åˆ¶ç»“æœé›†å¤§å°"></a>2.3 ä½¿ç”¨LIMITé™åˆ¶ç»“æœé›†å¤§å°</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- åˆ†é¡µæŸ¥è¯¢</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> <span class="keyword">user</span> <span class="keyword">ORDER</span> <span class="keyword">BY</span> create_time <span class="keyword">DESC</span> LIMIT <span class="number">10</span> <span class="keyword">OFFSET</span> <span class="number">20</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ä½¿ç”¨å»¶è¿Ÿå…³è”ä¼˜åŒ–å¤§æ•°æ®é‡åˆ†é¡µ</span></span><br><span class="line"><span class="keyword">SELECT</span> u.<span class="operator">*</span> <span class="keyword">FROM</span> <span class="keyword">user</span> u</span><br><span class="line"><span class="keyword">JOIN</span> (<span class="keyword">SELECT</span> id <span class="keyword">FROM</span> <span class="keyword">user</span> <span class="keyword">ORDER</span> <span class="keyword">BY</span> create_time <span class="keyword">DESC</span> LIMIT <span class="number">10</span> <span class="keyword">OFFSET</span> <span class="number">100000</span>) tmp</span><br><span class="line"><span class="keyword">ON</span> u.id <span class="operator">=</span> tmp.id;</span><br></pre></td></tr></table></figure><h3 id="3-æ•°æ®åº“è¿æ¥æ± ä¼˜åŒ–"><a href="#3-æ•°æ®åº“è¿æ¥æ± ä¼˜åŒ–" class="headerlink" title="3. æ•°æ®åº“è¿æ¥æ± ä¼˜åŒ–"></a>3. æ•°æ®åº“è¿æ¥æ± ä¼˜åŒ–</h3><p>æ•°æ®åº“è¿æ¥æ˜¯å®è´µçš„èµ„æºï¼Œåˆç†é…ç½®å’Œä½¿ç”¨è¿æ¥æ± å¯ä»¥æ˜¾è‘—æé«˜åº”ç”¨æ€§èƒ½ï¼š</p><h4 id="3-1-è¿æ¥æ± é…ç½®ä¼˜åŒ–"><a href="#3-1-è¿æ¥æ± é…ç½®ä¼˜åŒ–" class="headerlink" title="3.1 è¿æ¥æ± é…ç½®ä¼˜åŒ–"></a>3.1 è¿æ¥æ± é…ç½®ä¼˜åŒ–</h4><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">datasource:</span></span><br><span class="line">    <span class="attr">hikari:</span></span><br><span class="line">      <span class="attr">minimum-idle:</span> <span class="number">5</span>  <span class="comment"># æœ€å°ç©ºé—²è¿æ¥æ•°</span></span><br><span class="line">      <span class="attr">maximum-pool-size:</span> <span class="number">20</span>  <span class="comment"># æœ€å¤§è¿æ¥æ± å¤§å°</span></span><br><span class="line">      <span class="attr">connection-timeout:</span> <span class="number">30000</span>  <span class="comment"># è¿æ¥è¶…æ—¶æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰</span></span><br><span class="line">      <span class="attr">idle-timeout:</span> <span class="number">600000</span>  <span class="comment"># ç©ºé—²è¿æ¥è¶…æ—¶æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰</span></span><br><span class="line">      <span class="attr">max-lifetime:</span> <span class="number">1800000</span>  <span class="comment"># è¿æ¥æœ€å¤§ç”Ÿå‘½å‘¨æœŸï¼ˆæ¯«ç§’ï¼‰</span></span><br><span class="line">      <span class="attr">auto-commit:</span> <span class="literal">true</span>  <span class="comment"># è‡ªåŠ¨æäº¤</span></span><br><span class="line">      <span class="attr">pool-name:</span> <span class="string">HikariCP</span>  <span class="comment"># è¿æ¥æ± åç§°</span></span><br></pre></td></tr></table></figure><h4 id="3-2-ç›‘æ§è¿æ¥æ± çŠ¶æ€"><a href="#3-2-ç›‘æ§è¿æ¥æ± çŠ¶æ€" class="headerlink" title="3.2 ç›‘æ§è¿æ¥æ± çŠ¶æ€"></a>3.2 ç›‘æ§è¿æ¥æ± çŠ¶æ€</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ConnectionPoolMonitor</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> DataSource dataSource;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Scheduled(fixedRate = 60000)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">monitorConnectionPool</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (dataSource <span class="keyword">instanceof</span> HikariDataSource) &#123;</span><br><span class="line">            HikariDataSource hikariDataSource = (HikariDataSource) dataSource;</span><br><span class="line">            </span><br><span class="line">            System.out.println(<span class="string">&quot;è¿æ¥æ± åç§°: &quot;</span> + hikariDataSource.getPoolName());</span><br><span class="line">            System.out.println(<span class="string">&quot;å½“å‰æ´»è·ƒè¿æ¥æ•°: &quot;</span> + hikariDataSource.getHikariPoolMXBean().getActiveConnections());</span><br><span class="line">            System.out.println(<span class="string">&quot;å½“å‰ç©ºé—²è¿æ¥æ•°: &quot;</span> + hikariDataSource.getHikariPoolMXBean().getIdleConnections());</span><br><span class="line">            System.out.println(<span class="string">&quot;å½“å‰ç­‰å¾…è¿æ¥æ•°: &quot;</span> + hikariDataSource.getHikariPoolMXBean().getThreadsAwaitingConnection());</span><br><span class="line">            System.out.println(<span class="string">&quot;æ€»è¿æ¥æ•°: &quot;</span> + hikariDataSource.getHikariPoolMXBean().getTotalConnections());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ä¸‰ã€ORMæ¡†æ¶æ€§èƒ½ä¼˜åŒ–ç­–ç•¥-ğŸš€"><a href="#ä¸‰ã€ORMæ¡†æ¶æ€§èƒ½ä¼˜åŒ–ç­–ç•¥-ğŸš€" class="headerlink" title="ä¸‰ã€ORMæ¡†æ¶æ€§èƒ½ä¼˜åŒ–ç­–ç•¥ ğŸš€"></a>ä¸‰ã€ORMæ¡†æ¶æ€§èƒ½ä¼˜åŒ–ç­–ç•¥ ğŸš€</h2><h3 id="1-MyBatisæ€§èƒ½ä¼˜åŒ–"><a href="#1-MyBatisæ€§èƒ½ä¼˜åŒ–" class="headerlink" title="1. MyBatisæ€§èƒ½ä¼˜åŒ–"></a>1. MyBatisæ€§èƒ½ä¼˜åŒ–</h3><p>MyBatisæ˜¯Javaå¼€å‘ä¸­å¸¸ç”¨çš„ORMæ¡†æ¶ï¼Œä»¥ä¸‹æ˜¯ä¸€äº›æ€§èƒ½ä¼˜åŒ–æŠ€å·§ï¼š</p><h4 id="1-1-ä½¿ç”¨ResultMapä»£æ›¿ResultType"><a href="#1-1-ä½¿ç”¨ResultMapä»£æ›¿ResultType" class="headerlink" title="1.1 ä½¿ç”¨ResultMapä»£æ›¿ResultType"></a>1.1 ä½¿ç”¨ResultMapä»£æ›¿ResultType</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- æ¨èä½¿ç”¨ResultMap --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">resultMap</span> <span class="attr">id</span>=<span class="string">&quot;UserResultMap&quot;</span> <span class="attr">type</span>=<span class="string">&quot;com.example.User&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">id</span> <span class="attr">column</span>=<span class="string">&quot;id&quot;</span> <span class="attr">property</span>=<span class="string">&quot;id&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">&quot;name&quot;</span> <span class="attr">property</span>=<span class="string">&quot;name&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">&quot;email&quot;</span> <span class="attr">property</span>=<span class="string">&quot;email&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">&quot;create_time&quot;</span> <span class="attr">property</span>=<span class="string">&quot;createTime&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">resultMap</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;findUserById&quot;</span> <span class="attr">resultMap</span>=<span class="string">&quot;UserResultMap&quot;</span>&gt;</span></span><br><span class="line">    SELECT id, name, email, create_time FROM user WHERE id = #&#123;id&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- ä¸æ¨èå¤§é‡ä½¿ç”¨ResultTypeï¼Œç‰¹åˆ«æ˜¯å¯¹äºå¤æ‚å¯¹è±¡ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;findUserByName&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;com.example.User&quot;</span>&gt;</span></span><br><span class="line">    SELECT * FROM user WHERE name = #&#123;name&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="1-2-å»¶è¿ŸåŠ è½½ä¸å…³è”æŸ¥è¯¢ä¼˜åŒ–"><a href="#1-2-å»¶è¿ŸåŠ è½½ä¸å…³è”æŸ¥è¯¢ä¼˜åŒ–" class="headerlink" title="1.2 å»¶è¿ŸåŠ è½½ä¸å…³è”æŸ¥è¯¢ä¼˜åŒ–"></a>1.2 å»¶è¿ŸåŠ è½½ä¸å…³è”æŸ¥è¯¢ä¼˜åŒ–</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- é…ç½®å…¨å±€å»¶è¿ŸåŠ è½½ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">settings</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">setting</span> <span class="attr">name</span>=<span class="string">&quot;lazyLoadingEnabled&quot;</span> <span class="attr">value</span>=<span class="string">&quot;true&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">setting</span> <span class="attr">name</span>=<span class="string">&quot;aggressiveLazyLoading&quot;</span> <span class="attr">value</span>=<span class="string">&quot;false&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">settings</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- ä½¿ç”¨å»¶è¿ŸåŠ è½½æŸ¥è¯¢å…³è”å¯¹è±¡ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">resultMap</span> <span class="attr">id</span>=<span class="string">&quot;OrderResultMap&quot;</span> <span class="attr">type</span>=<span class="string">&quot;com.example.Order&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">id</span> <span class="attr">column</span>=<span class="string">&quot;id&quot;</span> <span class="attr">property</span>=<span class="string">&quot;id&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">&quot;order_no&quot;</span> <span class="attr">property</span>=<span class="string">&quot;orderNo&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">&quot;user_id&quot;</span> <span class="attr">property</span>=<span class="string">&quot;userId&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">association</span> <span class="attr">property</span>=<span class="string">&quot;user&quot;</span> <span class="attr">column</span>=<span class="string">&quot;user_id&quot;</span> <span class="attr">select</span>=<span class="string">&quot;findUserById&quot;</span> <span class="attr">fetchType</span>=<span class="string">&quot;lazy&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">resultMap</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- æˆ–è€…ä½¿ç”¨JOINæŸ¥è¯¢ä¸€æ¬¡æ€§åŠ è½½ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;findOrderWithUser&quot;</span> <span class="attr">resultMap</span>=<span class="string">&quot;OrderWithUserResultMap&quot;</span>&gt;</span></span><br><span class="line">    SELECT o.id, o.order_no, o.user_id, u.name, u.email</span><br><span class="line">    FROM `order` o</span><br><span class="line">    JOIN user u ON o.user_id = u.id</span><br><span class="line">    WHERE o.id = #&#123;id&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="1-3-ä½¿ç”¨ç¼“å­˜æé«˜æŸ¥è¯¢æ•ˆç‡"><a href="#1-3-ä½¿ç”¨ç¼“å­˜æé«˜æŸ¥è¯¢æ•ˆç‡" class="headerlink" title="1.3 ä½¿ç”¨ç¼“å­˜æé«˜æŸ¥è¯¢æ•ˆç‡"></a>1.3 ä½¿ç”¨ç¼“å­˜æé«˜æŸ¥è¯¢æ•ˆç‡</h4><p>MyBatisæä¾›äº†ä¸€çº§ç¼“å­˜å’ŒäºŒçº§ç¼“å­˜ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- é…ç½®äºŒçº§ç¼“å­˜ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">settings</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">setting</span> <span class="attr">name</span>=<span class="string">&quot;cacheEnabled&quot;</span> <span class="attr">value</span>=<span class="string">&quot;true&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">settings</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- åœ¨Mapperæ¥å£ä¸Šå¯ç”¨äºŒçº§ç¼“å­˜ --&gt;</span></span><br><span class="line">@CacheNamespace</span><br><span class="line">public interface UserMapper &#123;</span><br><span class="line">    // ...</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- æˆ–è€…åœ¨XMLä¸­é…ç½®ç¼“å­˜ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mapper</span> <span class="attr">namespace</span>=<span class="string">&quot;com.example.mapper.UserMapper&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">cache</span> <span class="attr">eviction</span>=<span class="string">&quot;LRU&quot;</span> <span class="attr">flushInterval</span>=<span class="string">&quot;60000&quot;</span> <span class="attr">size</span>=<span class="string">&quot;512&quot;</span> <span class="attr">readOnly</span>=<span class="string">&quot;true&quot;</span>/&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- ... --&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mapper</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="2-Spring-Data-JPA-Hibernateæ€§èƒ½ä¼˜åŒ–"><a href="#2-Spring-Data-JPA-Hibernateæ€§èƒ½ä¼˜åŒ–" class="headerlink" title="2. Spring Data JPA/Hibernateæ€§èƒ½ä¼˜åŒ–"></a>2. Spring Data JPA/Hibernateæ€§èƒ½ä¼˜åŒ–</h3><p>å¯¹äºä½¿ç”¨Spring Data JPAæˆ–Hibernateçš„é¡¹ç›®ï¼Œå¯ä»¥é‡‡ç”¨ä»¥ä¸‹ä¼˜åŒ–ç­–ç•¥ï¼š</p><h4 id="2-1-å®ä½“æ˜ å°„ä¼˜åŒ–"><a href="#2-1-å®ä½“æ˜ å°„ä¼˜åŒ–" class="headerlink" title="2.1 å®ä½“æ˜ å°„ä¼˜åŒ–"></a>2.1 å®ä½“æ˜ å°„ä¼˜åŒ–</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Entity</span></span><br><span class="line"><span class="meta">@Table(name = &quot;user&quot;)</span></span><br><span class="line"><span class="meta">@org</span>.hibernate.annotations.Table(appliesTo = <span class="string">&quot;user&quot;</span>, indexes = &#123;</span><br><span class="line">    <span class="meta">@Index(name = &quot;idx_user_name&quot;, columnList = &quot;name&quot;)</span>,</span><br><span class="line">    <span class="meta">@Index(name = &quot;idx_user_email&quot;, columnList = &quot;email&quot;)</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Id</span></span><br><span class="line">    <span class="meta">@GeneratedValue(strategy = GenerationType.IDENTITY)</span></span><br><span class="line">    <span class="keyword">private</span> Long id;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Column(name = &quot;name&quot;, nullable = false, length = 50)</span></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Column(name = &quot;email&quot;, nullable = false, length = 100, unique = true)</span></span><br><span class="line">    <span class="keyword">private</span> String email;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// å…¶ä»–å­—æ®µ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="2-2-æŸ¥è¯¢ä¼˜åŒ–"><a href="#2-2-æŸ¥è¯¢ä¼˜åŒ–" class="headerlink" title="2.2 æŸ¥è¯¢ä¼˜åŒ–"></a>2.2 æŸ¥è¯¢ä¼˜åŒ–</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä½¿ç”¨@Queryæ³¨è§£è‡ªå®šä¹‰SQL</span></span><br><span class="line"><span class="meta">@Repository</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">UserRepository</span> <span class="keyword">extends</span> <span class="title">JpaRepository</span>&lt;<span class="title">User</span>, <span class="title">Long</span>&gt; </span>&#123;</span><br><span class="line">    <span class="meta">@Query(value = &quot;SELECT u.id, u.name, u.email FROM user u WHERE u.age &gt; ?1&quot;, nativeQuery = true)</span></span><br><span class="line">    List&lt;Object[]&gt; findUsersByAgeGreaterThanNative(<span class="keyword">int</span> age);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// ä½¿ç”¨JPQL</span></span><br><span class="line">    <span class="meta">@Query(&quot;SELECT u FROM User u WHERE u.age &gt; :age&quot;)</span></span><br><span class="line">    <span class="function">List&lt;User&gt; <span class="title">findUsersByAgeGreaterThan</span><span class="params">(<span class="meta">@Param(&quot;age&quot;)</span> <span class="keyword">int</span> age)</span></span>;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// ä½¿ç”¨æ´¾ç”ŸæŸ¥è¯¢</span></span><br><span class="line">    <span class="function">List&lt;User&gt; <span class="title">findByCreateTimeAfter</span><span class="params">(LocalDateTime createTime)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="2-3-æ‰¹é‡æ“ä½œä¼˜åŒ–"><a href="#2-3-æ‰¹é‡æ“ä½œä¼˜åŒ–" class="headerlink" title="2.3 æ‰¹é‡æ“ä½œä¼˜åŒ–"></a>2.3 æ‰¹é‡æ“ä½œä¼˜åŒ–</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserServiceImpl</span> <span class="keyword">implements</span> <span class="title">UserService</span> </span>&#123;</span><br><span class="line">    <span class="meta">@PersistenceContext</span></span><br><span class="line">    <span class="keyword">private</span> EntityManager entityManager;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Transactional</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">batchInsert</span><span class="params">(List&lt;User&gt; users)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; users.size(); i++) &#123;</span><br><span class="line">            entityManager.persist(users.get(i));</span><br><span class="line">            <span class="keyword">if</span> (i % <span class="number">50</span> == <span class="number">0</span>) &#123; <span class="comment">// æ¯50æ¡åˆ·æ–°ä¸€æ¬¡</span></span><br><span class="line">                entityManager.flush();</span><br><span class="line">                entityManager.clear();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        entityManager.flush();</span><br><span class="line">        entityManager.clear();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Transactional</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">batchUpdate</span><span class="params">(List&lt;User&gt; users)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// ä½¿ç”¨HQLæ‰¹é‡æ›´æ–°</span></span><br><span class="line">        Query query = entityManager.createQuery(<span class="string">&quot;UPDATE User u SET u.name = :name WHERE u.id = :id&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span> (User user : users) &#123;</span><br><span class="line">            query.setParameter(<span class="string">&quot;name&quot;</span>, user.getName())</span><br><span class="line">                 .setParameter(<span class="string">&quot;id&quot;</span>, user.getId())</span><br><span class="line">                 .executeUpdate();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="2-4-æŠ“å–ç­–ç•¥ä¼˜åŒ–"><a href="#2-4-æŠ“å–ç­–ç•¥ä¼˜åŒ–" class="headerlink" title="2.4 æŠ“å–ç­–ç•¥ä¼˜åŒ–"></a>2.4 æŠ“å–ç­–ç•¥ä¼˜åŒ–</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Entity</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Order</span> </span>&#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// å»¶è¿ŸåŠ è½½å…³è”å¯¹è±¡</span></span><br><span class="line">    <span class="meta">@ManyToOne(fetch = FetchType.LAZY)</span></span><br><span class="line">    <span class="meta">@JoinColumn(name = &quot;user_id&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> User user;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// å»¶è¿ŸåŠ è½½é›†åˆ</span></span><br><span class="line">    <span class="meta">@OneToMany(mappedBy = &quot;order&quot;, fetch = FetchType.LAZY)</span></span><br><span class="line">    <span class="keyword">private</span> List&lt;OrderItem&gt; orderItems;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨JPQLçš„JOIN FETCHæ¥é¿å…N+1é—®é¢˜</span></span><br><span class="line"><span class="meta">@Query(&quot;SELECT o FROM Order o JOIN FETCH o.user JOIN FETCH o.orderItems WHERE o.id = :id&quot;)</span></span><br><span class="line"><span class="function">Order <span class="title">findOrderWithDetails</span><span class="params">(<span class="meta">@Param(&quot;id&quot;)</span> Long id)</span></span>;</span><br></pre></td></tr></table></figure><h2 id="å››ã€å¤šçº§ç¼“å­˜æ¶æ„è®¾è®¡ä¸å®ç°-ğŸ’¾"><a href="#å››ã€å¤šçº§ç¼“å­˜æ¶æ„è®¾è®¡ä¸å®ç°-ğŸ’¾" class="headerlink" title="å››ã€å¤šçº§ç¼“å­˜æ¶æ„è®¾è®¡ä¸å®ç° ğŸ’¾"></a>å››ã€å¤šçº§ç¼“å­˜æ¶æ„è®¾è®¡ä¸å®ç° ğŸ’¾</h2><h3 id="1-å¤šçº§ç¼“å­˜æ¶æ„æ¦‚è¿°"><a href="#1-å¤šçº§ç¼“å­˜æ¶æ„æ¦‚è¿°" class="headerlink" title="1. å¤šçº§ç¼“å­˜æ¶æ„æ¦‚è¿°"></a>1. å¤šçº§ç¼“å­˜æ¶æ„æ¦‚è¿°</h3><p>ä¸ºäº†è¿›ä¸€æ­¥æé«˜æ•°æ®è®¿é—®æ€§èƒ½ï¼Œæˆ‘ä»¬å¯ä»¥å¼•å…¥å¤šçº§ç¼“å­˜æ¶æ„ã€‚ä¸€ä¸ªå…¸å‹çš„å¤šçº§ç¼“å­˜æ¶æ„åŒ…æ‹¬ï¼š</p><ul><li><strong>ä¸€çº§ç¼“å­˜</strong>ï¼šåº”ç”¨å†…å­˜ç¼“å­˜ï¼ˆå¦‚Caffeineã€Ehcacheï¼‰</li><li><strong>äºŒçº§ç¼“å­˜</strong>ï¼šåˆ†å¸ƒå¼ç¼“å­˜ï¼ˆå¦‚Redisã€Memcachedï¼‰</li><li><strong>ä¸‰çº§ç¼“å­˜</strong>ï¼šæ•°æ®åº“ç¼“å­˜</li></ul><h3 id="2-æœ¬åœ°ç¼“å­˜å®ç°ï¼ˆCaffeineï¼‰"><a href="#2-æœ¬åœ°ç¼“å­˜å®ç°ï¼ˆCaffeineï¼‰" class="headerlink" title="2. æœ¬åœ°ç¼“å­˜å®ç°ï¼ˆCaffeineï¼‰"></a>2. æœ¬åœ°ç¼“å­˜å®ç°ï¼ˆCaffeineï¼‰</h3><p>Caffeineæ˜¯Javaä¸­é«˜æ€§èƒ½çš„æœ¬åœ°ç¼“å­˜åº“ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨å®ƒæ¥å®ç°ä¸€çº§ç¼“å­˜ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CacheConfig</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> CacheManager <span class="title">cacheManager</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        CaffeineCacheManager cacheManager = <span class="keyword">new</span> CaffeineCacheManager();</span><br><span class="line">        cacheManager.setCaffeine(Caffeine.newBuilder()</span><br><span class="line">                .expireAfterWrite(<span class="number">10</span>, TimeUnit.MINUTES)  <span class="comment">// å†™å…¥å10åˆ†é’Ÿè¿‡æœŸ</span></span><br><span class="line">                .maximumSize(<span class="number">1000</span>)  <span class="comment">// æœ€å¤§ç¼“å­˜é¡¹æ•°</span></span><br><span class="line">                .recordStats());  <span class="comment">// è®°å½•ç¼“å­˜ç»Ÿè®¡ä¿¡æ¯</span></span><br><span class="line">        <span class="keyword">return</span> cacheManager;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="meta">@CacheConfig(cacheNames = &quot;users&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserServiceImpl</span> <span class="keyword">implements</span> <span class="title">UserService</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> UserMapper userMapper;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Cacheable(key = &quot;#id&quot;)</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> User <span class="title">findUserById</span><span class="params">(Long id)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> userMapper.findById(id);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@CachePut(key = &quot;#user.id&quot;)</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> User <span class="title">updateUser</span><span class="params">(User user)</span> </span>&#123;</span><br><span class="line">        userMapper.update(user);</span><br><span class="line">        <span class="keyword">return</span> user;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@CacheEvict(key = &quot;#id&quot;)</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">deleteUser</span><span class="params">(Long id)</span> </span>&#123;</span><br><span class="line">        userMapper.delete(id);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="3-åˆ†å¸ƒå¼ç¼“å­˜å®ç°ï¼ˆRedisï¼‰"><a href="#3-åˆ†å¸ƒå¼ç¼“å­˜å®ç°ï¼ˆRedisï¼‰" class="headerlink" title="3. åˆ†å¸ƒå¼ç¼“å­˜å®ç°ï¼ˆRedisï¼‰"></a>3. åˆ†å¸ƒå¼ç¼“å­˜å®ç°ï¼ˆRedisï¼‰</h3><p>Redisæ˜¯ä¸€ä¸ªé«˜æ€§èƒ½çš„åˆ†å¸ƒå¼ç¼“å­˜ç³»ç»Ÿï¼Œæˆ‘ä»¬å¯ä»¥ç”¨å®ƒæ¥å®ç°äºŒçº§ç¼“å­˜ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@EnableCaching</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RedisCacheConfig</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> RedisTemplate&lt;String, Object&gt; <span class="title">redisTemplate</span><span class="params">(RedisConnectionFactory factory)</span> </span>&#123;</span><br><span class="line">        RedisTemplate&lt;String, Object&gt; template = <span class="keyword">new</span> RedisTemplate&lt;&gt;();</span><br><span class="line">        template.setConnectionFactory(factory);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// è®¾ç½®åºåˆ—åŒ–å™¨</span></span><br><span class="line">        Jackson2JsonRedisSerializer&lt;Object&gt; serializer = <span class="keyword">new</span> Jackson2JsonRedisSerializer&lt;&gt;(Object.class);</span><br><span class="line">        ObjectMapper mapper = <span class="keyword">new</span> ObjectMapper();</span><br><span class="line">        mapper.setVisibility(PropertyAccessor.ALL, JsonAutoDetect.Visibility.ANY);</span><br><span class="line">        mapper.activateDefaultTyping(LaissezFaireSubTypeValidator.instance, ObjectMapper.DefaultTyping.NON_FINAL);</span><br><span class="line">        serializer.setObjectMapper(mapper);</span><br><span class="line">        </span><br><span class="line">        template.setValueSerializer(serializer);</span><br><span class="line">        template.setKeySerializer(<span class="keyword">new</span> StringRedisSerializer());</span><br><span class="line">        template.setHashKeySerializer(<span class="keyword">new</span> StringRedisSerializer());</span><br><span class="line">        template.setHashValueSerializer(serializer);</span><br><span class="line">        template.afterPropertiesSet();</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> template;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> CacheManager <span class="title">cacheManager</span><span class="params">(RedisConnectionFactory factory)</span> </span>&#123;</span><br><span class="line">        RedisCacheConfiguration config = RedisCacheConfiguration.defaultCacheConfig()</span><br><span class="line">                .entryTtl(Duration.ofMinutes(<span class="number">10</span>))  <span class="comment">// ç¼“å­˜è¿‡æœŸæ—¶é—´</span></span><br><span class="line">                .serializeKeysWith(RedisSerializationContext.SerializationPair.fromSerializer(<span class="keyword">new</span> StringRedisSerializer()))</span><br><span class="line">                .serializeValuesWith(RedisSerializationContext.SerializationPair.fromSerializer(</span><br><span class="line">                        <span class="keyword">new</span> GenericJackson2JsonRedisSerializer()));</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> RedisCacheManager.builder(factory)</span><br><span class="line">                .cacheDefaults(config)</span><br><span class="line">                .build();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="4-å¤šçº§ç¼“å­˜æ•´åˆä¸æ•°æ®ä¸€è‡´æ€§ä¿è¯"><a href="#4-å¤šçº§ç¼“å­˜æ•´åˆä¸æ•°æ®ä¸€è‡´æ€§ä¿è¯" class="headerlink" title="4. å¤šçº§ç¼“å­˜æ•´åˆä¸æ•°æ®ä¸€è‡´æ€§ä¿è¯"></a>4. å¤šçº§ç¼“å­˜æ•´åˆä¸æ•°æ®ä¸€è‡´æ€§ä¿è¯</h3><p>åœ¨ä½¿ç”¨å¤šçº§ç¼“å­˜æ—¶ï¼Œä¿è¯æ•°æ®ä¸€è‡´æ€§æ˜¯ä¸€ä¸ªæŒ‘æˆ˜ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›å¸¸ç”¨çš„æ•°æ®ä¸€è‡´æ€§ä¿è¯ç­–ç•¥ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserServiceImpl</span> <span class="keyword">implements</span> <span class="title">UserService</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> UserMapper userMapper;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> RedisTemplate&lt;String, Object&gt; redisTemplate;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> User <span class="title">findUserById</span><span class="params">(Long id)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// å…ˆä»Redisç¼“å­˜è·å–</span></span><br><span class="line">        String key = <span class="string">&quot;user:&quot;</span> + id;</span><br><span class="line">        User user = (User) redisTemplate.opsForValue().get(key);</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> (user != <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> user;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// Redisç¼“å­˜ä¸å­˜åœ¨ï¼Œä»æ•°æ®åº“è·å–</span></span><br><span class="line">        user = userMapper.findById(id);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// å°†æ•°æ®æ”¾å…¥Redisç¼“å­˜</span></span><br><span class="line">        <span class="keyword">if</span> (user != <span class="keyword">null</span>) &#123;</span><br><span class="line">            redisTemplate.opsForValue().set(key, user, <span class="number">10</span>, TimeUnit.MINUTES);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> user;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="meta">@Transactional</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> User <span class="title">updateUser</span><span class="params">(User user)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// æ›´æ–°æ•°æ®åº“</span></span><br><span class="line">        userMapper.update(user);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// æ·˜æ±°ç¼“å­˜</span></span><br><span class="line">        String key = <span class="string">&quot;user:&quot;</span> + user.getId();</span><br><span class="line">        redisTemplate.delete(key);</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> user;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="meta">@Transactional</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">deleteUser</span><span class="params">(Long id)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// åˆ é™¤æ•°æ®åº“è®°å½•</span></span><br><span class="line">        userMapper.delete(id);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// æ·˜æ±°ç¼“å­˜</span></span><br><span class="line">        String key = <span class="string">&quot;user:&quot;</span> + id;</span><br><span class="line">        redisTemplate.delete(key);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¯¹äºæ›´å¤æ‚çš„åœºæ™¯ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨æ¶ˆæ¯é˜Ÿåˆ—æ¥å®ç°ç¼“å­˜çš„å¼‚æ­¥æ›´æ–°æˆ–æ·˜æ±°ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CacheSyncService</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> KafkaTemplate&lt;String, String&gt; kafkaTemplate;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">syncCache</span><span class="params">(String cacheKey, String operation)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// å‘é€ç¼“å­˜åŒæ­¥æ¶ˆæ¯</span></span><br><span class="line">        String message = operation + <span class="string">&quot;:&quot;</span> + cacheKey;</span><br><span class="line">        kafkaTemplate.send(<span class="string">&quot;cache-sync-topic&quot;</span>, message);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CacheSyncConsumer</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> RedisTemplate&lt;String, Object&gt; redisTemplate;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@KafkaListener(topics = &quot;cache-sync-topic&quot;, groupId = &quot;cache-sync-group&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">handleCacheSyncMessage</span><span class="params">(String message)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// è§£ææ¶ˆæ¯å¹¶åŒæ­¥ç¼“å­˜</span></span><br><span class="line">        String[] parts = message.split(<span class="string">&quot;:&quot;</span>);</span><br><span class="line">        <span class="keyword">if</span> (parts.length == <span class="number">2</span>) &#123;</span><br><span class="line">            String operation = parts[<span class="number">0</span>];</span><br><span class="line">            String cacheKey = parts[<span class="number">1</span>];</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">if</span> (<span class="string">&quot;delete&quot;</span>.equals(operation)) &#123;</span><br><span class="line">                redisTemplate.delete(cacheKey);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="äº”ã€è¯»å†™åˆ†ç¦»ä¸åˆ†åº“åˆ†è¡¨ç­–ç•¥-ğŸ“Š"><a href="#äº”ã€è¯»å†™åˆ†ç¦»ä¸åˆ†åº“åˆ†è¡¨ç­–ç•¥-ğŸ“Š" class="headerlink" title="äº”ã€è¯»å†™åˆ†ç¦»ä¸åˆ†åº“åˆ†è¡¨ç­–ç•¥ ğŸ“Š"></a>äº”ã€è¯»å†™åˆ†ç¦»ä¸åˆ†åº“åˆ†è¡¨ç­–ç•¥ ğŸ“Š</h2><p>å½“æ•°æ®é‡è¾¾åˆ°ä¸€å®šè§„æ¨¡æ—¶ï¼Œå•ä¸€æ•°æ®åº“å¯èƒ½æ— æ³•æ»¡è¶³æ€§èƒ½éœ€æ±‚ï¼Œæ­¤æ—¶æˆ‘ä»¬éœ€è¦è€ƒè™‘è¯»å†™åˆ†ç¦»å’Œåˆ†åº“åˆ†è¡¨ç­–ç•¥ã€‚</p><h3 id="1-è¯»å†™åˆ†ç¦»å®ç°"><a href="#1-è¯»å†™åˆ†ç¦»å®ç°" class="headerlink" title="1. è¯»å†™åˆ†ç¦»å®ç°"></a>1. è¯»å†™åˆ†ç¦»å®ç°</h3><p>è¯»å†™åˆ†ç¦»æ˜¯æŒ‡å°†æ•°æ®åº“çš„è¯»æ“ä½œå’Œå†™æ“ä½œåˆ†ç¦»åˆ°ä¸åŒçš„æ•°æ®åº“å®ä¾‹ä¸Šï¼Œä»¥æé«˜ç³»ç»Ÿçš„å¹¶å‘å¤„ç†èƒ½åŠ›ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">datasource:</span></span><br><span class="line">    <span class="attr">master:</span></span><br><span class="line">      <span class="attr">driver-class-name:</span> <span class="string">com.mysql.cj.jdbc.Driver</span></span><br><span class="line">      <span class="attr">url:</span> <span class="string">jdbc:mysql://master-db:3306/test?useSSL=false&amp;serverTimezone=UTC</span></span><br><span class="line">      <span class="attr">username:</span> <span class="string">root</span></span><br><span class="line">      <span class="attr">password:</span> <span class="string">password</span></span><br><span class="line">    <span class="attr">slave1:</span></span><br><span class="line">      <span class="attr">driver-class-name:</span> <span class="string">com.mysql.cj.jdbc.Driver</span></span><br><span class="line">      <span class="attr">url:</span> <span class="string">jdbc:mysql://slave1-db:3306/test?useSSL=false&amp;serverTimezone=UTC</span></span><br><span class="line">      <span class="attr">username:</span> <span class="string">root</span></span><br><span class="line">      <span class="attr">password:</span> <span class="string">password</span></span><br><span class="line">    <span class="attr">slave2:</span></span><br><span class="line">      <span class="attr">driver-class-name:</span> <span class="string">com.mysql.cj.jdbc.Driver</span></span><br><span class="line">      <span class="attr">url:</span> <span class="string">jdbc:mysql://slave2-db:3306/test?useSSL=false&amp;serverTimezone=UTC</span></span><br><span class="line">      <span class="attr">username:</span> <span class="string">root</span></span><br><span class="line">      <span class="attr">password:</span> <span class="string">password</span></span><br><span class="line">    <span class="attr">type:</span> <span class="string">com.zaxxer.hikari.HikariDataSource</span></span><br></pre></td></tr></table></figure><p>å®ç°åŠ¨æ€æ•°æ®æºåˆ‡æ¢ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DynamicDataSource</span> <span class="keyword">extends</span> <span class="title">AbstractRoutingDataSource</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> Object <span class="title">determineCurrentLookupKey</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> DataSourceContextHolder.getDataSourceType();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DataSourceContextHolder</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> ThreadLocal&lt;String&gt; CONTEXT_HOLDER = <span class="keyword">new</span> ThreadLocal&lt;&gt;();</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">setDataSourceType</span><span class="params">(String dataSourceType)</span> </span>&#123;</span><br><span class="line">        CONTEXT_HOLDER.set(dataSourceType);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">getDataSourceType</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> CONTEXT_HOLDER.get();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">clearDataSourceType</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        CONTEXT_HOLDER.remove();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Aspect</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DataSourceAspect</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Pointcut(&quot;execution(* com.example.mapper.*.select*(..)) || execution(* com.example.mapper.*.get*(..)) || execution(* com.example.mapper.*.find*(..))&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">readPointCut</span><span class="params">()</span> </span>&#123;&#125;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Pointcut(&quot;execution(* com.example.mapper.*.insert*(..)) || execution(* com.example.mapper.*.update*(..)) || execution(* com.example.mapper.*.delete*(..))&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">writePointCut</span><span class="params">()</span> </span>&#123;&#125;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Before(&quot;readPointCut()&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">read</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">// ç®€å•çš„è½®è¯¢ç­–ç•¥</span></span><br><span class="line">        <span class="keyword">int</span> slaveIndex = ThreadLocalRandom.current().nextInt(<span class="number">2</span>);</span><br><span class="line">        DataSourceContextHolder.setDataSourceType(<span class="string">&quot;slave&quot;</span> + (slaveIndex + <span class="number">1</span>));</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Before(&quot;writePointCut()&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">write</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        DataSourceContextHolder.setDataSourceType(<span class="string">&quot;master&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@After(&quot;readPointCut() || writePointCut()&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">clear</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        DataSourceContextHolder.clearDataSourceType();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="2-åˆ†åº“åˆ†è¡¨ç­–ç•¥"><a href="#2-åˆ†åº“åˆ†è¡¨ç­–ç•¥" class="headerlink" title="2. åˆ†åº“åˆ†è¡¨ç­–ç•¥"></a>2. åˆ†åº“åˆ†è¡¨ç­–ç•¥</h3><p>å½“å•è¡¨æ•°æ®é‡è¿‡å¤§æ—¶ï¼Œæˆ‘ä»¬éœ€è¦è€ƒè™‘åˆ†åº“åˆ†è¡¨ç­–ç•¥ã€‚åˆ†åº“åˆ†è¡¨å¯ä»¥åˆ†ä¸ºæ°´å¹³åˆ†åº“åˆ†è¡¨å’Œå‚ç›´åˆ†åº“åˆ†è¡¨ä¸¤ç§æ–¹å¼ï¼š</p><h4 id="2-1-æ°´å¹³åˆ†è¡¨å®ç°ï¼ˆåŸºäºShardingSphereï¼‰"><a href="#2-1-æ°´å¹³åˆ†è¡¨å®ç°ï¼ˆåŸºäºShardingSphereï¼‰" class="headerlink" title="2.1 æ°´å¹³åˆ†è¡¨å®ç°ï¼ˆåŸºäºShardingSphereï¼‰"></a>2.1 æ°´å¹³åˆ†è¡¨å®ç°ï¼ˆåŸºäºShardingSphereï¼‰</h4><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">shardingsphere:</span></span><br><span class="line">    <span class="attr">datasource:</span></span><br><span class="line">      <span class="attr">names:</span> <span class="string">ds0,</span> <span class="string">ds1</span></span><br><span class="line">      <span class="attr">ds0:</span></span><br><span class="line">        <span class="attr">type:</span> <span class="string">com.zaxxer.hikari.HikariDataSource</span></span><br><span class="line">        <span class="attr">driver-class-name:</span> <span class="string">com.mysql.cj.jdbc.Driver</span></span><br><span class="line">        <span class="attr">jdbc-url:</span> <span class="string">jdbc:mysql://localhost:3306/db0?useSSL=false&amp;serverTimezone=UTC</span></span><br><span class="line">        <span class="attr">username:</span> <span class="string">root</span></span><br><span class="line">        <span class="attr">password:</span> <span class="string">password</span></span><br><span class="line">      <span class="attr">ds1:</span></span><br><span class="line">        <span class="attr">type:</span> <span class="string">com.zaxxer.hikari.HikariDataSource</span></span><br><span class="line">        <span class="attr">driver-class-name:</span> <span class="string">com.mysql.cj.jdbc.Driver</span></span><br><span class="line">        <span class="attr">jdbc-url:</span> <span class="string">jdbc:mysql://localhost:3306/db1?useSSL=false&amp;serverTimezone=UTC</span></span><br><span class="line">        <span class="attr">username:</span> <span class="string">root</span></span><br><span class="line">        <span class="attr">password:</span> <span class="string">password</span></span><br><span class="line">    <span class="attr">rules:</span></span><br><span class="line">      <span class="attr">sharding:</span></span><br><span class="line">        <span class="attr">tables:</span></span><br><span class="line">          <span class="attr">order:</span></span><br><span class="line">            <span class="attr">actual-data-nodes:</span> <span class="string">ds$&#123;0..1&#125;.order_$&#123;0..1&#125;</span></span><br><span class="line">            <span class="attr">database-strategy:</span></span><br><span class="line">              <span class="attr">inline:</span></span><br><span class="line">                <span class="attr">sharding-column:</span> <span class="string">user_id</span></span><br><span class="line">                <span class="attr">algorithm-expression:</span> <span class="string">ds$&#123;user_id</span> <span class="string">%</span> <span class="number">2</span><span class="string">&#125;</span></span><br><span class="line">            <span class="attr">table-strategy:</span></span><br><span class="line">              <span class="attr">inline:</span></span><br><span class="line">                <span class="attr">sharding-column:</span> <span class="string">order_id</span></span><br><span class="line">                <span class="attr">algorithm-expression:</span> <span class="string">order_$&#123;order_id</span> <span class="string">%</span> <span class="number">2</span><span class="string">&#125;</span></span><br><span class="line">            <span class="attr">key-generator:</span></span><br><span class="line">              <span class="attr">column:</span> <span class="string">order_id</span></span><br><span class="line">              <span class="attr">type:</span> <span class="string">SNOWFLAKE</span></span><br></pre></td></tr></table></figure><h4 id="2-2-å‚ç›´åˆ†åº“åˆ†è¡¨"><a href="#2-2-å‚ç›´åˆ†åº“åˆ†è¡¨" class="headerlink" title="2.2 å‚ç›´åˆ†åº“åˆ†è¡¨"></a>2.2 å‚ç›´åˆ†åº“åˆ†è¡¨</h4><p>å‚ç›´åˆ†åº“åˆ†è¡¨æ˜¯å°†è¡¨æŒ‰ç…§ä¸šåŠ¡åŠŸèƒ½æˆ–æ¨¡å—è¿›è¡Œæ‹†åˆ†ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å‚ç›´åˆ†è¡¨ç¤ºä¾‹ï¼šå°†ç”¨æˆ·è¡¨æ‹†åˆ†ä¸ºåŸºæœ¬ä¿¡æ¯è¡¨å’Œæ‰©å±•ä¿¡æ¯è¡¨</span></span><br><span class="line"><span class="meta">@Entity</span></span><br><span class="line"><span class="meta">@Table(name = &quot;user_base&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserBase</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Id</span></span><br><span class="line">    <span class="keyword">private</span> Long id;</span><br><span class="line">    <span class="keyword">private</span> String username;</span><br><span class="line">    <span class="keyword">private</span> String password;</span><br><span class="line">    <span class="keyword">private</span> String email;</span><br><span class="line">    <span class="comment">// å…¶ä»–å¸¸ç”¨å­—æ®µ...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Entity</span></span><br><span class="line"><span class="meta">@Table(name = &quot;user_ext&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserExt</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Id</span></span><br><span class="line">    <span class="keyword">private</span> Long id;</span><br><span class="line">    <span class="keyword">private</span> String nickname;</span><br><span class="line">    <span class="keyword">private</span> String avatar;</span><br><span class="line">    <span class="keyword">private</span> String bio;</span><br><span class="line">    <span class="comment">// å…¶ä»–ä¸å¸¸ç”¨å­—æ®µ...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserServiceImpl</span> <span class="keyword">implements</span> <span class="title">UserService</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> UserBaseRepository userBaseRepository;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> UserExtRepository userExtRepository;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="meta">@Transactional</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> UserDTO <span class="title">getUserDetail</span><span class="params">(Long id)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// åˆ†åˆ«æŸ¥è¯¢ä¸¤å¼ è¡¨ï¼Œç„¶ååˆå¹¶ç»“æœ</span></span><br><span class="line">        UserBase userBase = userBaseRepository.findById(id).orElse(<span class="keyword">null</span>);</span><br><span class="line">        UserExt userExt = userExtRepository.findById(id).orElse(<span class="keyword">null</span>);</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> (userBase == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        UserDTO userDTO = <span class="keyword">new</span> UserDTO();</span><br><span class="line">        <span class="comment">// å¤åˆ¶å±æ€§...</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> userDTO;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å…­ã€é«˜çº§ä¼˜åŒ–ï¼šå¼‚æ­¥å¤„ç†ä¸æ‰¹é‡æ“ä½œ-âš¡"><a href="#å…­ã€é«˜çº§ä¼˜åŒ–ï¼šå¼‚æ­¥å¤„ç†ä¸æ‰¹é‡æ“ä½œ-âš¡" class="headerlink" title="å…­ã€é«˜çº§ä¼˜åŒ–ï¼šå¼‚æ­¥å¤„ç†ä¸æ‰¹é‡æ“ä½œ âš¡"></a>å…­ã€é«˜çº§ä¼˜åŒ–ï¼šå¼‚æ­¥å¤„ç†ä¸æ‰¹é‡æ“ä½œ âš¡</h2><h3 id="1-å¼‚æ­¥æŸ¥è¯¢ä¸å¹¶è¡Œå¤„ç†"><a href="#1-å¼‚æ­¥æŸ¥è¯¢ä¸å¹¶è¡Œå¤„ç†" class="headerlink" title="1. å¼‚æ­¥æŸ¥è¯¢ä¸å¹¶è¡Œå¤„ç†"></a>1. å¼‚æ­¥æŸ¥è¯¢ä¸å¹¶è¡Œå¤„ç†</h3><p>å¯¹äºè€—æ—¶çš„æŸ¥è¯¢æ“ä½œï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å¼‚æ­¥å¤„ç†å’Œå¹¶è¡Œå¤„ç†æ¥æé«˜æ•ˆç‡ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">OrderServiceImpl</span> <span class="keyword">implements</span> <span class="title">OrderService</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> OrderMapper orderMapper;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> ProductMapper productMapper;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> UserMapper userMapper;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Async</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> CompletableFuture&lt;List&lt;Order&gt;&gt; findOrdersByUserIdAsync(Long userId) &#123;</span><br><span class="line">        List&lt;Order&gt; orders = orderMapper.findByUserId(userId);</span><br><span class="line">        <span class="keyword">return</span> CompletableFuture.completedFuture(orders);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> OrderDetailDTO <span class="title">getOrderDetail</span><span class="params">(Long orderId)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// å¹¶è¡ŒæŸ¥è¯¢è®¢å•ã€å•†å“å’Œç”¨æˆ·ä¿¡æ¯</span></span><br><span class="line">        CompletableFuture&lt;Order&gt; orderFuture = CompletableFuture.supplyAsync(() -&gt; </span><br><span class="line">            orderMapper.findById(orderId)</span><br><span class="line">        );</span><br><span class="line">        </span><br><span class="line">        CompletableFuture&lt;List&lt;Product&gt;&gt; productsFuture = orderFuture.thenApplyAsync(order -&gt; </span><br><span class="line">            productMapper.findByOrderId(orderId)</span><br><span class="line">        );</span><br><span class="line">        </span><br><span class="line">        CompletableFuture&lt;User&gt; userFuture = orderFuture.thenApplyAsync(order -&gt; </span><br><span class="line">            userMapper.findById(order.getUserId())</span><br><span class="line">        );</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// ç­‰å¾…æ‰€æœ‰æŸ¥è¯¢å®Œæˆå¹¶åˆå¹¶ç»“æœ</span></span><br><span class="line">        CompletableFuture&lt;OrderDetailDTO&gt; resultFuture = CompletableFuture.allOf(orderFuture, productsFuture, userFuture)</span><br><span class="line">            .thenApplyAsync(v -&gt; &#123;</span><br><span class="line">                OrderDetailDTO dto = <span class="keyword">new</span> OrderDetailDTO();</span><br><span class="line">                dto.setOrder(orderFuture.join());</span><br><span class="line">                dto.setProducts(productsFuture.join());</span><br><span class="line">                dto.setUser(userFuture.join());</span><br><span class="line">                <span class="keyword">return</span> dto;</span><br><span class="line">            &#125;);</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> resultFuture.join();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(<span class="string">&quot;è·å–è®¢å•è¯¦æƒ…å¤±è´¥&quot;</span>, e);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="2-æ‰¹é‡æ“ä½œä¼˜åŒ–"><a href="#2-æ‰¹é‡æ“ä½œä¼˜åŒ–" class="headerlink" title="2. æ‰¹é‡æ“ä½œä¼˜åŒ–"></a>2. æ‰¹é‡æ“ä½œä¼˜åŒ–</h3><p>æ‰¹é‡æ“ä½œå¯ä»¥æ˜¾è‘—å‡å°‘æ•°æ®åº“äº¤äº’æ¬¡æ•°ï¼Œæé«˜æ€§èƒ½ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BatchOperationService</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> JdbcTemplate jdbcTemplate;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Transactional</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">batchInsertUsers</span><span class="params">(List&lt;User&gt; users)</span> </span>&#123;</span><br><span class="line">        String sql = <span class="string">&quot;INSERT INTO user (name, email, age) VALUES (?, ?, ?)&quot;</span>;</span><br><span class="line">        </span><br><span class="line">        jdbcTemplate.batchUpdate(sql, <span class="keyword">new</span> BatchPreparedStatementSetter() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setValues</span><span class="params">(PreparedStatement ps, <span class="keyword">int</span> i)</span> <span class="keyword">throws</span> SQLException </span>&#123;</span><br><span class="line">                User user = users.get(i);</span><br><span class="line">                ps.setString(<span class="number">1</span>, user.getName());</span><br><span class="line">                ps.setString(<span class="number">2</span>, user.getEmail());</span><br><span class="line">                ps.setInt(<span class="number">3</span>, user.getAge());</span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getBatchSize</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                <span class="keyword">return</span> users.size();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Transactional</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">batchUpdateUsers</span><span class="params">(List&lt;User&gt; users)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// åˆ†æ‰¹å¤„ç†ï¼Œæ¯æ‰¹å¤„ç†1000æ¡</span></span><br><span class="line">        <span class="keyword">int</span> batchSize = <span class="number">1000</span>;</span><br><span class="line">        <span class="keyword">int</span> totalSize = users.size();</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; totalSize; i += batchSize) &#123;</span><br><span class="line">            <span class="keyword">int</span> endIndex = Math.min(i + batchSize, totalSize);</span><br><span class="line">            List&lt;User&gt; batchUsers = users.subList(i, endIndex);</span><br><span class="line">            </span><br><span class="line">            String sql = <span class="string">&quot;UPDATE user SET name = ?, email = ?, age = ? WHERE id = ?&quot;</span>;</span><br><span class="line">            jdbcTemplate.batchUpdate(sql, <span class="keyword">new</span> BatchPreparedStatementSetter() &#123;</span><br><span class="line">                <span class="meta">@Override</span></span><br><span class="line">                <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setValues</span><span class="params">(PreparedStatement ps, <span class="keyword">int</span> j)</span> <span class="keyword">throws</span> SQLException </span>&#123;</span><br><span class="line">                    User user = batchUsers.get(j);</span><br><span class="line">                    ps.setString(<span class="number">1</span>, user.getName());</span><br><span class="line">                    ps.setString(<span class="number">2</span>, user.getEmail());</span><br><span class="line">                    ps.setInt(<span class="number">3</span>, user.getAge());</span><br><span class="line">                    ps.setLong(<span class="number">4</span>, user.getId());</span><br><span class="line">                &#125;</span><br><span class="line">                </span><br><span class="line">                <span class="meta">@Override</span></span><br><span class="line">                <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getBatchSize</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                    <span class="keyword">return</span> batchUsers.size();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ä¸ƒã€æ€»ç»“ä¸æŒç»­ä¼˜åŒ–å»ºè®®-ğŸ“‹"><a href="#ä¸ƒã€æ€»ç»“ä¸æŒç»­ä¼˜åŒ–å»ºè®®-ğŸ“‹" class="headerlink" title="ä¸ƒã€æ€»ç»“ä¸æŒç»­ä¼˜åŒ–å»ºè®® ğŸ“‹"></a>ä¸ƒã€æ€»ç»“ä¸æŒç»­ä¼˜åŒ–å»ºè®® ğŸ“‹</h2><p>é€šè¿‡æœ¬æ–‡çš„ä»‹ç»ï¼Œæˆ‘ä»¬è¯¦ç»†è®²è§£äº†Javaæ•°æ®è®¿é—®å±‚ä¼˜åŒ–çš„å„ç§ç­–ç•¥å’Œæœ€ä½³å®è·µï¼ŒåŒ…æ‹¬SQLä¼˜åŒ–ã€ORMæ¡†æ¶ä¼˜åŒ–ã€å¤šçº§ç¼“å­˜æ¶æ„ã€è¯»å†™åˆ†ç¦»ä¸åˆ†åº“åˆ†è¡¨ã€å¼‚æ­¥å¤„ç†ä¸æ‰¹é‡æ“ä½œç­‰æ–¹é¢çš„å†…å®¹ã€‚</p><p>ä»¥ä¸‹æ˜¯ä¸€äº›æŒç»­ä¼˜åŒ–çš„å»ºè®®ï¼š</p><ol><li><p><strong>å»ºç«‹æ€§èƒ½åŸºå‡†</strong>ï¼šå®šæœŸè¿›è¡Œæ€§èƒ½æµ‹è¯•ï¼Œå»ºç«‹æ€§èƒ½åŸºå‡†ï¼Œä»¥ä¾¿åŠæ—¶å‘ç°æ€§èƒ½é—®é¢˜ã€‚</p></li><li><p><strong>ç›‘æ§ä¸å‘Šè­¦</strong>ï¼šå»ºç«‹å®Œå–„çš„æ•°æ®è®¿é—®å±‚ç›‘æ§ä½“ç³»ï¼ŒåŠæ—¶å‘ç°å’Œè§£å†³æ€§èƒ½é—®é¢˜ã€‚</p></li><li><p><strong>æŒç»­å­¦ä¹ ä¸å®è·µ</strong>ï¼šæ•°æ®åº“æŠ€æœ¯å’Œä¼˜åŒ–æ–¹æ³•åœ¨ä¸æ–­å‘å±•ï¼Œéœ€è¦æŒç»­å­¦ä¹ å’Œå®è·µã€‚</p></li><li><p><strong>ç»“åˆä¸šåŠ¡åœºæ™¯</strong>ï¼šä¸åŒçš„ä¸šåŠ¡åœºæ™¯æœ‰ä¸åŒçš„ä¼˜åŒ–éœ€æ±‚ï¼Œéœ€è¦æ ¹æ®å…·ä½“æƒ…å†µé€‰æ‹©åˆé€‚çš„ä¼˜åŒ–ç­–ç•¥ã€‚</p></li><li><p><strong>æ€§èƒ½ä¸ä»£ç å¯ç»´æŠ¤æ€§å¹³è¡¡</strong>ï¼šåœ¨è¿½æ±‚æ€§èƒ½çš„åŒæ—¶ï¼Œä¹Ÿè¦è€ƒè™‘ä»£ç çš„å¯ç»´æŠ¤æ€§ï¼Œé¿å…è¿‡åº¦ä¼˜åŒ–ã€‚</p></li></ol><p>æ•°æ®è®¿é—®å±‚ä¼˜åŒ–æ˜¯ä¸€ä¸ªæŒç»­çš„è¿‡ç¨‹ï¼Œéœ€è¦ä¸æ–­åœ°ç›‘æ§ã€åˆ†æå’Œä¼˜åŒ–ã€‚å¸Œæœ›æœ¬æ–‡èƒ½å¤Ÿä¸ºä½ æä¾›ä¸€äº›æœ‰ç”¨çš„æŒ‡å¯¼å’Œå¯å‘ã€‚å¦‚æœä½ æœ‰ä»»ä½•é—®é¢˜æˆ–å»ºè®®ï¼Œæ¬¢è¿åœ¨è¯„è®ºåŒºç•™è¨€è®¨è®ºï¼ğŸ˜Š</p>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;/assets/css/APlayer.min.css&quot;&gt;&lt;script src=&quot;/assets/js/APlayer.min.js&quot; cla</summary>
      
    
    
    
    
    <category term="Java" scheme="https://blog.zhuyizhuo.online/tags/Java/"/>
    
    <category term="æ•°æ®è®¿é—®" scheme="https://blog.zhuyizhuo.online/tags/%E6%95%B0%E6%8D%AE%E8%AE%BF%E9%97%AE/"/>
    
    <category term="æ€§èƒ½ä¼˜åŒ–" scheme="https://blog.zhuyizhuo.online/tags/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/"/>
    
    <category term="æ•°æ®åº“" scheme="https://blog.zhuyizhuo.online/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/"/>
    
  </entry>
  
  <entry>
    <title>2025å¹´AIå¼€å‘å·¥å…·å…¨æ™¯ï¼šæ·±åº¦å¯¹æ¯”ä¸æœªæ¥è¶‹åŠ¿</title>
    <link href="https://blog.zhuyizhuo.online/2025/01/15/ai/2025-ai-development-tools-comparison/"/>
    <id>https://blog.zhuyizhuo.online/2025/01/15/ai/2025-ai-development-tools-comparison/</id>
    <published>2025-01-14T16:00:00.000Z</published>
    <updated>2025-09-26T10:35:06.835Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="2025å¹´AIå¼€å‘å·¥å…·å…¨æ™¯ï¼šæ·±åº¦å¯¹æ¯”ä¸æœªæ¥è¶‹åŠ¿-ğŸ¤–ğŸ’»"><a href="#2025å¹´AIå¼€å‘å·¥å…·å…¨æ™¯ï¼šæ·±åº¦å¯¹æ¯”ä¸æœªæ¥è¶‹åŠ¿-ğŸ¤–ğŸ’»" class="headerlink" title="2025å¹´AIå¼€å‘å·¥å…·å…¨æ™¯ï¼šæ·±åº¦å¯¹æ¯”ä¸æœªæ¥è¶‹åŠ¿ ğŸ¤–ğŸ’»"></a>2025å¹´AIå¼€å‘å·¥å…·å…¨æ™¯ï¼šæ·±åº¦å¯¹æ¯”ä¸æœªæ¥è¶‹åŠ¿ ğŸ¤–ğŸ’»</h1><p>å¤§å®¶å¥½ï¼ğŸ‘‹ éšç€ç”Ÿæˆå¼AIæŠ€æœ¯çš„æŒç»­çªç ´ï¼ŒAIå¼€å‘å·¥å…·ç”Ÿæ€æ­£åœ¨ç»å†å‰æ‰€æœªæœ‰çš„å˜é©ã€‚2025å¹´ï¼ŒAIå¼€å‘å·¥å…·ä¸ä»…åœ¨åŠŸèƒ½ä¸Šæ›´åŠ å…¨é¢ï¼Œæ›´åœ¨æ™ºèƒ½åŒ–ã€ä¸ªæ€§åŒ–å’Œé›†æˆæ€§æ–¹é¢å®ç°äº†è´¨çš„é£è·ƒã€‚ä»Šå¤©ï¼Œæˆ‘å°†ä¸ºå¤§å®¶æ·±åº¦å‰–æ2025å¹´ä¸»æµAIå¼€å‘å·¥å…·çš„ç‰¹ç‚¹ã€ä¼˜åŠ¿ä¸é€‚ç”¨åœºæ™¯ï¼Œå¸®åŠ©å¼€å‘è€…åœ¨è¿™ä¸ªå¿«é€Ÿæ¼”è¿›çš„é¢†åŸŸä¸­æ‰¾åˆ°æœ€é€‚åˆè‡ªå·±çš„è§£å†³æ–¹æ¡ˆï¼ğŸš€</p><h2 id="ä¸€ã€æ™ºèƒ½ç¼–ç¨‹åŠ©æ‰‹ï¼šä»ä»£ç è¡¥å…¨åˆ°å…¨æµç¨‹åä½œ-ğŸ§‘ğŸ’»ğŸ¤ğŸ¤–"><a href="#ä¸€ã€æ™ºèƒ½ç¼–ç¨‹åŠ©æ‰‹ï¼šä»ä»£ç è¡¥å…¨åˆ°å…¨æµç¨‹åä½œ-ğŸ§‘ğŸ’»ğŸ¤ğŸ¤–" class="headerlink" title="ä¸€ã€æ™ºèƒ½ç¼–ç¨‹åŠ©æ‰‹ï¼šä»ä»£ç è¡¥å…¨åˆ°å…¨æµç¨‹åä½œ ğŸ§‘ğŸ’»ğŸ¤ğŸ¤–"></a>ä¸€ã€æ™ºèƒ½ç¼–ç¨‹åŠ©æ‰‹ï¼šä»ä»£ç è¡¥å…¨åˆ°å…¨æµç¨‹åä½œ ğŸ§‘ğŸ’»ğŸ¤ğŸ¤–</h2><p>2025å¹´çš„AIç¼–ç¨‹åŠ©æ‰‹å·²ç»è¶…è¶Šäº†ç®€å•çš„ä»£ç è¡¥å…¨åŠŸèƒ½ï¼Œè¿›åŒ–ä¸ºå…¨æµç¨‹çš„å¼€å‘åä½œä¼™ä¼´ã€‚</p><h3 id="2025å¹´ä¸»æµAIç¼–ç¨‹åŠ©æ‰‹æ·±åº¦å¯¹æ¯”"><a href="#2025å¹´ä¸»æµAIç¼–ç¨‹åŠ©æ‰‹æ·±åº¦å¯¹æ¯”" class="headerlink" title="2025å¹´ä¸»æµAIç¼–ç¨‹åŠ©æ‰‹æ·±åº¦å¯¹æ¯”"></a>2025å¹´ä¸»æµAIç¼–ç¨‹åŠ©æ‰‹æ·±åº¦å¯¹æ¯”</h3><table><thead><tr><th>å·¥å…·åç§°</th><th>æ ¸å¿ƒèƒ½åŠ›</th><th>æ™ºèƒ½æ°´å¹³</th><th>åä½œåŠŸèƒ½</th><th>å®šä»·æ¨¡å¼</th><th>æœ€ä½³é€‚ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td><strong>GitHub Copilot Pro</strong></td><td>ä»£ç ç”Ÿæˆã€æ¶æ„å»ºè®®ã€è‡ªåŠ¨æµ‹è¯•</td><td>L5çº§ï¼ˆä¸“å®¶çº§ï¼‰</td><td>å›¢é˜ŸçŸ¥è¯†å…±äº«ã€ä»£ç è¯„å®¡è¾…åŠ©</td><td>30ç¾å…ƒ/æœˆ</td><td>ä¼ä¸šçº§åº”ç”¨å¼€å‘ã€å¤æ‚ç³»ç»Ÿæ„å»º</td></tr><tr><td><strong>TabNine Ultra</strong></td><td>ä¸Šä¸‹æ–‡æ„ŸçŸ¥ç¼–ç ã€æ€§èƒ½ä¼˜åŒ–ã€å®‰å…¨æ‰«æ</td><td>L4çº§ï¼ˆé«˜çº§ï¼‰</td><td>å›¢é˜Ÿç¼–ç è§„èŒƒç»Ÿä¸€</td><td>25ç¾å…ƒ/æœˆ</td><td>å®‰å…¨å…³é”®å‹é¡¹ç›®ã€å¤šå›¢é˜Ÿåä½œ</td></tr><tr><td><strong>AWS CodeWhisperer X</strong></td><td>äº‘åŸç”Ÿå¼€å‘ã€æ— æœåŠ¡å™¨æ¶æ„ã€æˆæœ¬ä¼˜åŒ–</td><td>L5çº§ï¼ˆä¸“å®¶çº§ï¼‰</td><td>AWSèµ„æºæ™ºèƒ½é…ç½®</td><td>æŒ‰ä½¿ç”¨é‡è®¡è´¹</td><td>AWSäº‘åŸç”Ÿåº”ç”¨ã€å¤§è§„æ¨¡åˆ†å¸ƒå¼ç³»ç»Ÿ</td></tr><tr><td><strong>Google Gemini Code</strong></td><td>å¤šè¯­è¨€æ”¯æŒã€è·¨å¹³å°å¼€å‘ã€AIæ¨¡å‹é›†æˆ</td><td>L5çº§ï¼ˆä¸“å®¶çº§ï¼‰</td><td>è·¨å¹³å°å…¼å®¹æ€§æ£€æŸ¥</td><td>å…è´¹ç‰ˆ/å•†ä¸šç‰ˆ35ç¾å…ƒ/æœˆ</td><td>å¤šå¹³å°åº”ç”¨ã€AIé©±åŠ¨äº§å“å¼€å‘</td></tr><tr><td><strong>ChatGPT Dev Studio</strong></td><td>ä»£ç è§£é‡Šã€é‡æ„å»ºè®®ã€é”™è¯¯ä¿®å¤</td><td>L5çº§ï¼ˆä¸“å®¶çº§ï¼‰</td><td>å¼€å‘æµç¨‹æ™ºèƒ½è§„åˆ’</td><td>40ç¾å…ƒ/æœˆ</td><td>å¤æ‚é—®é¢˜è§£å†³ã€é—ç•™ç³»ç»Ÿç°ä»£åŒ–</td></tr><tr><td><strong>Claude DevTools</strong></td><td>é•¿ä¸Šä¸‹æ–‡ç†è§£ã€ç³»ç»Ÿçº§é‡æ„ã€æ–‡æ¡£ç”Ÿæˆ</td><td>L5çº§ï¼ˆä¸“å®¶çº§ï¼‰</td><td>æ¶æ„è®¾è®¡è¯„å®¡</td><td>ä¼ä¸šå®šåˆ¶</td><td>å¤§å‹ç³»ç»Ÿé‡æ„ã€æŠ€æœ¯å€ºåŠ¡ç®¡ç†</td></tr><tr><td><strong>Trae AI IDE</strong></td><td>ä¸€ä½“åŒ–å¼€å‘ç¯å¢ƒã€æ™ºèƒ½ç¼–ç ã€åä½œç¼–ç¨‹</td><td>L5çº§ï¼ˆä¸“å®¶çº§ï¼‰</td><td>å®æ—¶åä½œã€çŸ¥è¯†å…±äº«</td><td>å…è´¹ç‰ˆ/ä¼ä¸šç‰ˆ</td><td>å…¨æ ˆå¼€å‘ã€å›¢é˜Ÿåä½œé¡¹ç›®</td></tr><tr><td><strong>Joycode AI</strong></td><td>æ™ºèƒ½ç¼–ç ã€é¡¹ç›®ç®¡ç†é›†æˆã€æµç¨‹è‡ªåŠ¨åŒ–</td><td>L4çº§ï¼ˆé«˜çº§ï¼‰</td><td>å›¢é˜Ÿä»»åŠ¡åè°ƒã€è¿›åº¦è¿½è¸ª</td><td>å…è´¹ç‰ˆ/å•†ä¸šç‰ˆ</td><td>æ•æ·å¼€å‘ã€ä¸­å°å‹é¡¹ç›®</td></tr><tr><td><strong>Cursor AI</strong></td><td>ä¸“æ³¨ç¼–è¾‘å™¨ã€å¤šæ¨¡å‹æ”¯æŒã€ä»£ç å¯¼èˆª</td><td>L5çº§ï¼ˆä¸“å®¶çº§ï¼‰</td><td>æ’ä»¶ç”Ÿæ€ç³»ç»Ÿ</td><td>å…è´¹ç‰ˆ/ä¸“ä¸šç‰ˆ20ç¾å…ƒ/æœˆ</td><td>ä¸ªäººå¼€å‘è€…ã€å‰ç«¯å¼€å‘</td></tr><tr><td><strong>è±†åŒ…Devæ™ºèƒ½åŠ©æ‰‹</strong></td><td>ä¸­æ–‡ä¼˜åŒ–ã€å›½äº§åŒ–é€‚é…ã€å¤šæ¨¡æ€äº¤äº’</td><td>L4çº§ï¼ˆé«˜çº§ï¼‰</td><td>ä¼ä¸šçº§æƒé™ç®¡ç†</td><td>ä¼ä¸šå®šåˆ¶</td><td>å›½å†…ä¼ä¸šå¼€å‘ã€ä¸­æ–‡é¡¹ç›®</td></tr><tr><td><strong>CodeGeeX 5</strong></td><td>å¼€æºã€å¤šè¯­è¨€æ”¯æŒã€æœ¬åœ°éƒ¨ç½²</td><td>L4çº§ï¼ˆé«˜çº§ï¼‰</td><td>ç¤¾åŒºè´¡çŒ®</td><td>å¼€æºå…è´¹</td><td>å¼€æºé¡¹ç›®ã€éšç§æ•æ„Ÿåœºæ™¯</td></tr><tr><td><strong>Amazon Q Developer</strong></td><td>AWSæ·±åº¦é›†æˆã€ä»£ç ç†è§£ã€éƒ¨ç½²è‡ªåŠ¨åŒ–</td><td>L5çº§ï¼ˆä¸“å®¶çº§ï¼‰</td><td>å…¨æ ˆå¼€å‘å·¥ä½œæµ</td><td>35ç¾å…ƒ/æœˆ</td><td>AWSç”Ÿæ€ç³»ç»Ÿã€äº‘åŸç”Ÿå¼€å‘</td></tr></tbody></table><h3 id="æŠ€æœ¯äº®ç‚¹ä¸åˆ›æ–°åŠŸèƒ½"><a href="#æŠ€æœ¯äº®ç‚¹ä¸åˆ›æ–°åŠŸèƒ½" class="headerlink" title="æŠ€æœ¯äº®ç‚¹ä¸åˆ›æ–°åŠŸèƒ½"></a>æŠ€æœ¯äº®ç‚¹ä¸åˆ›æ–°åŠŸèƒ½</h3><p>2025å¹´çš„AIç¼–ç¨‹åŠ©æ‰‹æ™®éå…·å¤‡ä»¥ä¸‹é©å‘½æ€§åŠŸèƒ½ï¼š</p><ol><li><strong>æ¶æ„çº§æ™ºèƒ½å»ºè®®</strong>ï¼šä¸ä»…å…³æ³¨ä»£ç ç»†èŠ‚ï¼Œæ›´èƒ½æä¾›ç³»ç»Ÿæ¶æ„å±‚é¢çš„ä¼˜åŒ–å»ºè®®</li><li><strong>å¤šæ¨¡æ€ç†è§£</strong>ï¼šèƒ½å¤ŸåŒæ—¶å¤„ç†ä»£ç ã€æ–‡æ¡£ã€å›¾è¡¨ç­‰å¤šç§å½¢å¼çš„ä¿¡æ¯</li><li><strong>å›¢é˜ŸçŸ¥è¯†æ•´åˆ</strong>ï¼šå­¦ä¹ å›¢é˜Ÿçš„ç¼–ç é£æ ¼ã€æœ€ä½³å®è·µå’Œä¸šåŠ¡é€»è¾‘ï¼Œæä¾›é«˜åº¦ä¸ªæ€§åŒ–çš„å»ºè®®</li><li><strong>è‡ªåŠ¨å®‰å…¨å®¡è®¡</strong>ï¼šåœ¨ç¼–ç è¿‡ç¨‹ä¸­å®æ—¶æ£€æµ‹å®‰å…¨æ¼æ´å’Œåˆè§„æ€§é—®é¢˜</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ç¤ºä¾‹ï¼šä½¿ç”¨GitHub Copilot Proç”Ÿæˆå¾®æœåŠ¡æ¶æ„ä»£ç </span></span><br><span class="line"><span class="keyword">from</span> fastapi <span class="keyword">import</span> FastAPI, Depends, HTTPException</span><br><span class="line"><span class="keyword">from</span> sqlalchemy.orm <span class="keyword">import</span> Session</span><br><span class="line"><span class="keyword">from</span> typing <span class="keyword">import</span> <span class="type">List</span>, <span class="type">Optional</span></span><br><span class="line"><span class="keyword">import</span> logging</span><br><span class="line"><span class="keyword">from</span> contextlib <span class="keyword">import</span> asynccontextmanager</span><br><span class="line"></span><br><span class="line"><span class="comment"># è‡ªåŠ¨ç”Ÿæˆå¾®æœåŠ¡æ¶æ„ä»£ç ï¼ŒåŒ…å«å¯è§‚æµ‹æ€§ã€å®‰å…¨æ€§å’Œå¯æ‰©å±•æ€§è®¾è®¡</span></span><br><span class="line"><span class="meta">@asynccontextmanager</span></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">def</span> <span class="title">lifespan</span>(<span class="params">app: FastAPI</span>):</span></span><br><span class="line">    <span class="comment"># åˆå§‹åŒ–æ—¥å¿—ã€ç›‘æ§å’Œè¿½è¸ª</span></span><br><span class="line">    logging.basicConfig(level=logging.INFO)</span><br><span class="line">    <span class="comment"># å¯åŠ¨æ—¶æ³¨å†ŒæœåŠ¡åˆ°æœåŠ¡å‘ç°</span></span><br><span class="line">    register_service()</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        <span class="keyword">yield</span></span><br><span class="line">    <span class="keyword">finally</span>:</span><br><span class="line">        <span class="comment"># ä¼˜é›…å…³é—­</span></span><br><span class="line">        deregister_service()</span><br><span class="line"></span><br><span class="line">app = FastAPI(lifespan=lifespan)</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¾èµ–æ³¨å…¥ï¼šæ•°æ®åº“ä¼šè¯</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_db</span>():</span></span><br><span class="line">    db = SessionLocal()</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        <span class="keyword">yield</span> db</span><br><span class="line">    <span class="keyword">finally</span>:</span><br><span class="line">        db.close()</span><br><span class="line"></span><br><span class="line"><span class="comment"># APIè·¯ç”±ï¼Œè‡ªåŠ¨åŒ…å«è¾“å…¥éªŒè¯ã€é”™è¯¯å¤„ç†å’Œæ–‡æ¡£</span></span><br><span class="line"><span class="meta">@app.get(<span class="params"><span class="string">&quot;/api/v1/resources/&#123;resource_id&#125;&quot;</span></span>)</span></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">def</span> <span class="title">get_resource</span>(<span class="params"></span></span></span><br><span class="line"><span class="params"><span class="function">    resource_id: <span class="built_in">int</span>,</span></span></span><br><span class="line"><span class="params"><span class="function">    db: Session = Depends(<span class="params">get_db</span>),</span></span></span><br><span class="line"><span class="params"><span class="function">    <span class="comment"># è‡ªåŠ¨å¤„ç†è®¤è¯å’Œæˆæƒ</span></span></span></span><br><span class="line"><span class="params"><span class="function">    current_user: User = Depends(<span class="params">get_current_user</span>)</span></span></span><br><span class="line"><span class="params"><span class="function"></span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    è·å–èµ„æºè¯¦æƒ…ï¼Œè‡ªåŠ¨ç”ŸæˆOpenAPIæ–‡æ¡£</span></span><br><span class="line"><span class="string">    - æ”¯æŒç»†ç²’åº¦è®¿é—®æ§åˆ¶</span></span><br><span class="line"><span class="string">    - å®ç°è¯·æ±‚é™æµå’Œç†”æ–­</span></span><br><span class="line"><span class="string">    - è‡ªåŠ¨è®°å½•æ€§èƒ½æŒ‡æ ‡</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    resource = db.query(Resource).<span class="built_in">filter</span>(Resource.<span class="built_in">id</span> == resource_id).first()</span><br><span class="line">    <span class="keyword">if</span> resource <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">        <span class="keyword">raise</span> HTTPException(status_code=<span class="number">404</span>, detail=<span class="string">&quot;Resource not found&quot;</span>)</span><br><span class="line">    <span class="comment"># è‡ªåŠ¨è¿›è¡Œè®¿é—®æƒé™æ£€æŸ¥</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> has_access(current_user, resource):</span><br><span class="line">        <span class="keyword">raise</span> HTTPException(status_code=<span class="number">403</span>, detail=<span class="string">&quot;Access denied&quot;</span>)</span><br><span class="line">    <span class="keyword">return</span> resource</span><br><span class="line"></span><br><span class="line"><span class="comment"># è‡ªåŠ¨ç”Ÿæˆå•å…ƒæµ‹è¯•ã€é›†æˆæµ‹è¯•å’Œæ€§èƒ½æµ‹è¯•</span></span><br></pre></td></tr></table></figure><h2 id="äºŒã€AIå¼€å‘æ¡†æ¶ï¼šä»æ¨¡å‹è®­ç»ƒåˆ°éƒ¨ç½²çš„å…¨æ ˆæ”¯æŒ-ğŸ§ ğŸ› ï¸"><a href="#äºŒã€AIå¼€å‘æ¡†æ¶ï¼šä»æ¨¡å‹è®­ç»ƒåˆ°éƒ¨ç½²çš„å…¨æ ˆæ”¯æŒ-ğŸ§ ğŸ› ï¸" class="headerlink" title="äºŒã€AIå¼€å‘æ¡†æ¶ï¼šä»æ¨¡å‹è®­ç»ƒåˆ°éƒ¨ç½²çš„å…¨æ ˆæ”¯æŒ ğŸ§ ğŸ› ï¸"></a>äºŒã€AIå¼€å‘æ¡†æ¶ï¼šä»æ¨¡å‹è®­ç»ƒåˆ°éƒ¨ç½²çš„å…¨æ ˆæ”¯æŒ ğŸ§ ğŸ› ï¸</h2><p>2025å¹´çš„AIå¼€å‘æ¡†æ¶å·²ç»å®ç°äº†ä»æ¨¡å‹è®¾è®¡ã€è®­ç»ƒåˆ°éƒ¨ç½²çš„å…¨æµç¨‹è‡ªåŠ¨åŒ–ï¼Œå¤§å¹…é™ä½äº†AIåº”ç”¨å¼€å‘çš„é—¨æ§›ã€‚</p><h3 id="ä¸»æµAIå¼€å‘æ¡†æ¶å¯¹æ¯”"><a href="#ä¸»æµAIå¼€å‘æ¡†æ¶å¯¹æ¯”" class="headerlink" title="ä¸»æµAIå¼€å‘æ¡†æ¶å¯¹æ¯”"></a>ä¸»æµAIå¼€å‘æ¡†æ¶å¯¹æ¯”</h3><table><thead><tr><th>æ¡†æ¶åç§°</th><th>æ ¸å¿ƒä¼˜åŠ¿</th><th>è‡ªåŠ¨åŒ–ç¨‹åº¦</th><th>éƒ¨ç½²é€‰é¡¹</th><th>ç”Ÿæ€ç³»ç»Ÿ</th><th>å­¦ä¹ æ›²çº¿</th></tr></thead><tbody><tr><td><strong>PyTorch 3.0</strong></td><td>åŠ¨æ€è®¡ç®—å›¾ã€ç ”ç©¶å‹å¥½ã€æ¨¡å‹ä¸°å¯Œ</td><td>ä¸­é«˜</td><td>å¤šå¹³å°æ”¯æŒ</td><td>æå…¶ä¸°å¯Œ</td><td>ä¸­ç­‰</td></tr><tr><td><strong>TensorFlow 3.0</strong></td><td>é™æ€è®¡ç®—å›¾ã€ç”Ÿäº§ä¼˜åŒ–ã€åˆ†å¸ƒå¼è®­ç»ƒ</td><td>é«˜</td><td>äº‘è¾¹ç«¯ä¸€ä½“åŒ–</td><td>ä¼ä¸šçº§</td><td>è¾ƒé™¡</td></tr><tr><td><strong>Hugging Face Transformers X</strong></td><td>é¢„è®­ç»ƒæ¨¡å‹åº“ã€ä¸€é”®å¾®è°ƒã€æ¨¡å‹å…±äº«</td><td>æé«˜</td><td>å®¹å™¨åŒ–éƒ¨ç½²</td><td>å¼€å‘è€…å‹å¥½</td><td>å¹³ç¼“</td></tr><tr><td><strong>LangChain 4.0</strong></td><td>LLMåº”ç”¨ç¼–æ’ã€å¤šæ¨¡æ€é›†æˆã€Agentæ¡†æ¶</td><td>æé«˜</td><td>å¼¹æ€§æ‰©å±•</td><td>å¿«é€Ÿè¿­ä»£</td><td>å¹³ç¼“</td></tr><tr><td><strong>MXNet 2.0</strong></td><td>æ··åˆç²¾åº¦è®­ç»ƒã€å†…å­˜ä¼˜åŒ–ã€å¤šè¯­è¨€æ”¯æŒ</td><td>ä¸­é«˜</td><td>è·¨å¹³å°éƒ¨ç½²</td><td>å­¦æœ¯å¯¼å‘</td><td>è¾ƒé™¡</td></tr><tr><td><strong>JAX/Flax</strong></td><td>é«˜æ€§èƒ½è®¡ç®—ã€è‡ªåŠ¨å¾®åˆ†ã€å¯ç»„åˆå˜æ¢</td><td>ä¸­</td><td>å¤§è§„æ¨¡åˆ†å¸ƒå¼</td><td>ç ”ç©¶å‰æ²¿</td><td>é™¡å³­</td></tr></tbody></table><h3 id="å¼€å‘æ¡†æ¶çš„æ™ºèƒ½åŒ–æ¼”è¿›"><a href="#å¼€å‘æ¡†æ¶çš„æ™ºèƒ½åŒ–æ¼”è¿›" class="headerlink" title="å¼€å‘æ¡†æ¶çš„æ™ºèƒ½åŒ–æ¼”è¿›"></a>å¼€å‘æ¡†æ¶çš„æ™ºèƒ½åŒ–æ¼”è¿›</h3><p>2025å¹´çš„AIå¼€å‘æ¡†æ¶å‘ˆç°ä»¥ä¸‹æ˜¾è‘—ç‰¹ç‚¹ï¼š</p><ol><li><strong>è‡ªåŠ¨æ¶æ„æœç´¢</strong>ï¼šæ¡†æ¶èƒ½å¤Ÿæ ¹æ®ä»»åŠ¡éœ€æ±‚è‡ªåŠ¨æœç´¢æœ€ä¼˜çš„æ¨¡å‹æ¶æ„</li><li><strong>æ™ºèƒ½è¶…å‚æ•°ä¼˜åŒ–</strong>ï¼šè‡ªåŠ¨è°ƒæ•´è®­ç»ƒå‚æ•°ï¼Œæœ€å¤§åŒ–æ¨¡å‹æ€§èƒ½</li><li><strong>ä¸€é”®æ¨¡å‹å‹ç¼©</strong>ï¼šè‡ªåŠ¨åº”ç”¨é‡åŒ–ã€å‰ªæç­‰æŠ€æœ¯ï¼Œä¼˜åŒ–éƒ¨ç½²æ€§èƒ½</li><li><strong>ç«¯åˆ°ç«¯å·¥ä½œæµ</strong>ï¼šä»æ•°æ®å‡†å¤‡åˆ°æ¨¡å‹éƒ¨ç½²çš„å…¨æµç¨‹è‡ªåŠ¨åŒ–</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ç¤ºä¾‹ï¼šä½¿ç”¨Hugging Face Transformers Xè¿›è¡Œæ¨¡å‹å¾®è°ƒ</span></span><br><span class="line"><span class="keyword">from</span> transformers <span class="keyword">import</span> AutoModelForCausalLM, AutoTokenizer, TrainingArguments, BitsAndBytesConfig</span><br><span class="line"><span class="keyword">from</span> datasets <span class="keyword">import</span> load_dataset</span><br><span class="line"><span class="keyword">from</span> trl <span class="keyword">import</span> SFTTrainer</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ™ºèƒ½æ¨¡å‹é€‰æ‹©å’Œé…ç½®</span></span><br><span class="line">model_id = <span class="string">&quot;mistralai/Mistral-7B-v0.3&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è‡ªåŠ¨æ£€æµ‹ç¡¬ä»¶å¹¶ä¼˜åŒ–é…ç½®</span></span><br><span class="line">quantization_config = BitsAndBytesConfig(</span><br><span class="line">    load_in_4bit=<span class="literal">True</span>,</span><br><span class="line">    bnb_4bit_quant_type=<span class="string">&quot;nf4&quot;</span>,</span><br><span class="line">    bnb_4bit_use_double_quant=<span class="literal">True</span>,</span><br><span class="line">    bnb_4bit_compute_dtype=<span class="string">&quot;float16&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment"># è‡ªåŠ¨åŠ è½½æ¨¡å‹å’Œåˆ†è¯å™¨</span></span><br><span class="line">model = AutoModelForCausalLM.from_pretrained(</span><br><span class="line">    model_id,</span><br><span class="line">    quantization_config=quantization_config,</span><br><span class="line">    device_map=<span class="string">&quot;auto&quot;</span>,</span><br><span class="line">    trust_remote_code=<span class="literal">True</span>,</span><br><span class="line">    <span class="comment"># è‡ªåŠ¨åº”ç”¨æœ€ä½³å®è·µé…ç½®</span></span><br><span class="line">    use_cache=<span class="literal">False</span>,</span><br><span class="line">    attn_implementation=<span class="string">&quot;flash_attention_2&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">tokenizer = AutoTokenizer.from_pretrained(model_id)</span><br><span class="line"></span><br><span class="line"><span class="comment"># åŠ è½½å’Œé¢„å¤„ç†æ•°æ®</span></span><br><span class="line">dataset = load_dataset(<span class="string">&quot;your_dataset&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ™ºèƒ½è®­ç»ƒå‚æ•°é…ç½®</span></span><br><span class="line"><span class="comment"># æ ¹æ®æ¨¡å‹å¤§å°ã€æ•°æ®è§„æ¨¡å’Œç¡¬ä»¶è‡ªåŠ¨æ¨èæœ€ä½³å‚æ•°</span></span><br><span class="line">args = TrainingArguments(</span><br><span class="line">    output_dir=<span class="string">&quot;./results&quot;</span>,</span><br><span class="line">    num_train_epochs=<span class="number">3</span>,</span><br><span class="line">    <span class="comment"># è‡ªåŠ¨è®¡ç®—æœ€ä½³æ‰¹æ¬¡å¤§å°</span></span><br><span class="line">    per_device_train_batch_size=<span class="string">&quot;auto&quot;</span>,</span><br><span class="line">    gradient_accumulation_steps=<span class="string">&quot;auto&quot;</span>,</span><br><span class="line">    optim=<span class="string">&quot;paged_adamw_32bit&quot;</span>,</span><br><span class="line">    <span class="comment"># è‡ªåŠ¨å­¦ä¹ ç‡è°ƒåº¦</span></span><br><span class="line">    learning_rate=<span class="string">&quot;auto&quot;</span>,</span><br><span class="line">    <span class="comment"># è‡ªåŠ¨å¯ç”¨æ¢¯åº¦æ£€æŸ¥ç‚¹</span></span><br><span class="line">    gradient_checkpointing=<span class="string">&quot;auto&quot;</span>,</span><br><span class="line">    <span class="comment"># è‡ªåŠ¨å¯ç”¨FSDPæˆ–DDP</span></span><br><span class="line">    fsdp=<span class="string">&quot;auto&quot;</span>,</span><br><span class="line">    <span class="comment"># è‡ªåŠ¨å¯ç”¨æ··åˆç²¾åº¦è®­ç»ƒ</span></span><br><span class="line">    fp16=<span class="string">&quot;auto&quot;</span>,</span><br><span class="line">    logging_steps=<span class="number">10</span>,</span><br><span class="line">    save_strategy=<span class="string">&quot;epoch&quot;</span>,</span><br><span class="line">    <span class="comment"># è‡ªåŠ¨å¯ç”¨æ—©åœ</span></span><br><span class="line">    load_best_model_at_end=<span class="literal">True</span>,</span><br><span class="line">    metric_for_best_model=<span class="string">&quot;eval_loss&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ›å»ºè®­ç»ƒå™¨</span></span><br><span class="line"><span class="comment"># è‡ªåŠ¨åº”ç”¨æœ€æ–°çš„è®­ç»ƒæŠ€æœ¯</span></span><br><span class="line"> trainer = SFTTrainer(</span><br><span class="line">    model=model,</span><br><span class="line">    tokenizer=tokenizer,</span><br><span class="line">    args=args,</span><br><span class="line">    train_dataset=dataset[<span class="string">&quot;train&quot;</span>],</span><br><span class="line">    eval_dataset=dataset[<span class="string">&quot;test&quot;</span>],</span><br><span class="line">    <span class="comment"># è‡ªåŠ¨é€‰æ‹©åˆé€‚çš„æ•°æ®é¢„å¤„ç†ç­–ç•¥</span></span><br><span class="line">    dataset_text_field=<span class="string">&quot;text&quot;</span>,</span><br><span class="line">    <span class="comment"># è‡ªåŠ¨å¯ç”¨PEFTæŠ€æœ¯</span></span><br><span class="line">    peft_config=<span class="string">&quot;auto&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¼€å§‹è®­ç»ƒ</span></span><br><span class="line"> trainer.train()</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¸€é”®éƒ¨ç½²åˆ°å¤šç§ç¯å¢ƒ</span></span><br><span class="line"> trainer.push_to_hub(<span class="string">&quot;your_finetuned_model&quot;</span>)</span><br></pre></td></tr></table></figure><h2 id="ä¸‰ã€AIåº”ç”¨éƒ¨ç½²å¹³å°ï¼šäº‘è¾¹ç«¯ä¸€ä½“åŒ–çš„æ™ºèƒ½åŸºç¡€è®¾æ–½-â˜ï¸ğŸ—ï¸"><a href="#ä¸‰ã€AIåº”ç”¨éƒ¨ç½²å¹³å°ï¼šäº‘è¾¹ç«¯ä¸€ä½“åŒ–çš„æ™ºèƒ½åŸºç¡€è®¾æ–½-â˜ï¸ğŸ—ï¸" class="headerlink" title="ä¸‰ã€AIåº”ç”¨éƒ¨ç½²å¹³å°ï¼šäº‘è¾¹ç«¯ä¸€ä½“åŒ–çš„æ™ºèƒ½åŸºç¡€è®¾æ–½ â˜ï¸ğŸ—ï¸"></a>ä¸‰ã€AIåº”ç”¨éƒ¨ç½²å¹³å°ï¼šäº‘è¾¹ç«¯ä¸€ä½“åŒ–çš„æ™ºèƒ½åŸºç¡€è®¾æ–½ â˜ï¸ğŸ—ï¸</h2><p>2025å¹´çš„AIåº”ç”¨éƒ¨ç½²å¹³å°å·²ç»å®ç°äº†äº‘è¾¹ç«¯ä¸€ä½“åŒ–ï¼Œæ”¯æŒæ¨¡å‹åœ¨ä¸åŒç¯å¢ƒä¸­çš„æ— ç¼éƒ¨ç½²å’Œä¼˜åŒ–ã€‚</p><h3 id="ä¸»æµAIéƒ¨ç½²å¹³å°å¯¹æ¯”"><a href="#ä¸»æµAIéƒ¨ç½²å¹³å°å¯¹æ¯”" class="headerlink" title="ä¸»æµAIéƒ¨ç½²å¹³å°å¯¹æ¯”"></a>ä¸»æµAIéƒ¨ç½²å¹³å°å¯¹æ¯”</h3><table><thead><tr><th>å¹³å°åç§°</th><th>éƒ¨ç½²çµæ´»æ€§</th><th>æ¨¡å‹ä¼˜åŒ–</th><th>æˆæœ¬æ•ˆç‡</th><th>ç›‘æ§èƒ½åŠ›</th><th>å®‰å…¨ç‰¹æ€§</th></tr></thead><tbody><tr><td><strong>AWS SageMaker Studio</strong></td><td>æé«˜</td><td>è‡ªåŠ¨æ¨¡å‹å‹ç¼©ã€ç¼–è¯‘ä¼˜åŒ–</td><td>æŒ‰éœ€è®¡è´¹</td><td>å…¨é“¾è·¯ç›‘æ§</td><td>ä¼ä¸šçº§å®‰å…¨åˆè§„</td></tr><tr><td><strong>Google Vertex AI</strong></td><td>é«˜</td><td>è‡ªåŠ¨MLOpsã€A/Bæµ‹è¯•</td><td>åˆ†å±‚å®šä»·</td><td>å¯è§£é‡Šæ€§åˆ†æ</td><td>æ•°æ®åŠ å¯†ã€è®¿é—®æ§åˆ¶</td></tr><tr><td><strong>Azure AI Studio</strong></td><td>é«˜</td><td>æ¨¡å‹åŠ é€Ÿã€å®¹å™¨ä¼˜åŒ–</td><td>åŒ…å¹´åŒ…æœˆ/æŒ‰éœ€</td><td>å®æ—¶ç›‘æ§é¢„è­¦</td><td>èº«ä»½è®¤è¯ã€å¨èƒæ£€æµ‹</td></tr><tr><td><strong>Hugging Face Inference Hub</strong></td><td>æé«˜</td><td>è‡ªåŠ¨æ‰©ç¼©å®¹ã€ä¼˜åŒ–è·¯ç”±</td><td>æŒ‰è¯·æ±‚è®¡è´¹</td><td>æ€§èƒ½æŒ‡æ ‡è¿½è¸ª</td><td>APIå¯†é’¥ã€é€Ÿç‡é™åˆ¶</td></tr><tr><td><strong>NVIDIA Triton Inference Server</strong></td><td>é«˜</td><td>GPUä¼˜åŒ–ã€ä½å»¶è¿Ÿæ¨ç†</td><td>å¼€æºå…è´¹</td><td>è¯¦ç»†æ€§èƒ½åˆ†æ</td><td>è®¿é—®æ§åˆ¶ã€æ¨¡å‹åŠ å¯†</td></tr><tr><td><strong>Vercel AI SDK</strong></td><td>æé«˜</td><td>è¾¹ç¼˜ç¼“å­˜ã€CDNåŠ é€Ÿ</td><td>å…è´¹å±‚/é˜¶æ¢¯å®šä»·</td><td>åŸºæœ¬ç›‘æ§</td><td>è¾¹ç¼˜å®‰å…¨ã€æ•°æ®éš”ç¦»</td></tr></tbody></table><h3 id="éƒ¨ç½²å¹³å°çš„åˆ›æ–°ç‰¹æ€§"><a href="#éƒ¨ç½²å¹³å°çš„åˆ›æ–°ç‰¹æ€§" class="headerlink" title="éƒ¨ç½²å¹³å°çš„åˆ›æ–°ç‰¹æ€§"></a>éƒ¨ç½²å¹³å°çš„åˆ›æ–°ç‰¹æ€§</h3><p>2025å¹´çš„AIéƒ¨ç½²å¹³å°æ™®éå…·å¤‡ä»¥ä¸‹åˆ›æ–°ç‰¹æ€§ï¼š</p><ol><li><strong>æ™ºèƒ½è·¯ç”±ä¸è´Ÿè½½å‡è¡¡</strong>ï¼šæ ¹æ®è¯·æ±‚ç‰¹å¾å’Œæ¨¡å‹ç‰¹æ€§è‡ªåŠ¨é€‰æ‹©æœ€ä¼˜éƒ¨ç½²ç­–ç•¥</li><li><strong>åŠ¨æ€èµ„æºåˆ†é…</strong>ï¼šæ ¹æ®å®æ—¶æµé‡è‡ªåŠ¨è°ƒæ•´è®¡ç®—èµ„æºï¼Œä¼˜åŒ–æˆæœ¬å’Œæ€§èƒ½</li><li><strong>è¾¹ç¼˜AIåŠ é€Ÿ</strong>ï¼šåœ¨è¾¹ç¼˜è®¾å¤‡ä¸Šéƒ¨ç½²è½»é‡çº§æ¨¡å‹ï¼Œå®ç°ä½å»¶è¿Ÿå“åº”</li><li><strong>è”é‚¦å­¦ä¹ æ”¯æŒ</strong>ï¼šåœ¨ä¿æŠ¤æ•°æ®éšç§çš„å‰æä¸‹å®ç°æ¨¡å‹ååŒè®­ç»ƒ</li></ol><h2 id="å››ã€ä½ä»£ç -æ— ä»£ç AIå¹³å°ï¼šæ™®æƒ AIå¼€å‘çš„æ–°èŒƒå¼-ğŸ§©ğŸš€"><a href="#å››ã€ä½ä»£ç -æ— ä»£ç AIå¹³å°ï¼šæ™®æƒ AIå¼€å‘çš„æ–°èŒƒå¼-ğŸ§©ğŸš€" class="headerlink" title="å››ã€ä½ä»£ç /æ— ä»£ç AIå¹³å°ï¼šæ™®æƒ AIå¼€å‘çš„æ–°èŒƒå¼ ğŸ§©ğŸš€"></a>å››ã€ä½ä»£ç /æ— ä»£ç AIå¹³å°ï¼šæ™®æƒ AIå¼€å‘çš„æ–°èŒƒå¼ ğŸ§©ğŸš€</h2><p>ä½ä»£ç /æ— ä»£ç AIå¹³å°æ­£åœ¨è®©AIå¼€å‘å˜å¾—æ›´åŠ æ™®æƒ ï¼Œå³ä½¿æ²¡æœ‰æ·±åšçš„æŠ€æœ¯èƒŒæ™¯ï¼Œä¹Ÿèƒ½å¿«é€Ÿæ„å»ºå’Œéƒ¨ç½²AIåº”ç”¨ã€‚</p><h3 id="ä¸»æµä½ä»£ç -æ— ä»£ç AIå¹³å°å¯¹æ¯”"><a href="#ä¸»æµä½ä»£ç -æ— ä»£ç AIå¹³å°å¯¹æ¯”" class="headerlink" title="ä¸»æµä½ä»£ç /æ— ä»£ç AIå¹³å°å¯¹æ¯”"></a>ä¸»æµä½ä»£ç /æ— ä»£ç AIå¹³å°å¯¹æ¯”</h3><table><thead><tr><th>å¹³å°åç§°</th><th>æ˜“ç”¨æ€§</th><th>åŠŸèƒ½ä¸°å¯Œåº¦</th><th>é›†æˆèƒ½åŠ›</th><th>å®šä»·æ¨¡å¼</th><th>æœ€ä½³åº”ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td><strong>Microsoft Power Apps AI Builder</strong></td><td>æé«˜</td><td>ä¸­é«˜</td><td>å¾®è½¯ç”Ÿæ€æ·±åº¦é›†æˆ</td><td>æŒ‰ç”¨æˆ·/æŒ‰å®¹é‡</td><td>ä¼ä¸šå†…éƒ¨åº”ç”¨ã€ä¸šåŠ¡æµç¨‹è‡ªåŠ¨åŒ–</td></tr><tr><td><strong>Google AppSheet AI</strong></td><td>æé«˜</td><td>é«˜</td><td>Google Workspaceé›†æˆ</td><td>å…è´¹ç‰ˆ/å•†ä¸šç‰ˆ</td><td>è½»é‡çº§åº”ç”¨ã€å›¢é˜Ÿåä½œå·¥å…·</td></tr><tr><td><strong>OutSystems AI</strong></td><td>é«˜</td><td>æé«˜</td><td>ä¼ä¸šç³»ç»Ÿé›†æˆ</td><td>æŒ‰ç”¨æˆ·è®¢é˜…</td><td>å¤æ‚ä¼ä¸šåº”ç”¨ã€æ•°å­—åŒ–è½¬å‹</td></tr><tr><td><strong>Appian AI</strong></td><td>é«˜</td><td>æé«˜</td><td>æµç¨‹è‡ªåŠ¨åŒ–é›†æˆ</td><td>æŒ‰ç”¨æˆ·è®¢é˜…</td><td>ä¸šåŠ¡æµç¨‹ä¼˜åŒ–ã€å®¢æˆ·ä½“éªŒæå‡</td></tr><tr><td><strong>Zapier AI Actions</strong></td><td>æé«˜</td><td>ä¸­</td><td>5000+åº”ç”¨é›†æˆ</td><td>åˆ†å±‚å®šä»·</td><td>è·¨åº”ç”¨è‡ªåŠ¨åŒ–ã€å·¥ä½œæµä¼˜åŒ–</td></tr><tr><td><strong>Adalo AI</strong></td><td>æé«˜</td><td>ä¸­</td><td>åŸºç¡€APIé›†æˆ</td><td>åˆ†å±‚å®šä»·</td><td>ç§»åŠ¨åº”ç”¨ã€ç®€å•webåº”ç”¨</td></tr></tbody></table><h3 id="ä½ä»£ç å¹³å°çš„AIèµ‹èƒ½"><a href="#ä½ä»£ç å¹³å°çš„AIèµ‹èƒ½" class="headerlink" title="ä½ä»£ç å¹³å°çš„AIèµ‹èƒ½"></a>ä½ä»£ç å¹³å°çš„AIèµ‹èƒ½</h3><p>2025å¹´çš„ä½ä»£ç /æ— ä»£ç å¹³å°é€šè¿‡AIæŠ€æœ¯å®ç°äº†ä»¥ä¸‹çªç ´ï¼š</p><ol><li><strong>è‡ªç„¶è¯­è¨€å¼€å‘</strong>ï¼šé€šè¿‡è‡ªç„¶è¯­è¨€æè¿°å³å¯ç”Ÿæˆåº”ç”¨ä»£ç å’Œé€»è¾‘</li><li><strong>æ™ºèƒ½UIè®¾è®¡</strong>ï¼šè‡ªåŠ¨ç”Ÿæˆç¬¦åˆç”¨æˆ·ä½“éªŒçš„ç•Œé¢è®¾è®¡</li><li><strong>ä¸šåŠ¡æµç¨‹è‡ªåŠ¨åŒ–</strong>ï¼šè‡ªåŠ¨è¯†åˆ«å’Œä¼˜åŒ–ä¸šåŠ¡æµç¨‹</li><li><strong>æ™ºèƒ½æµ‹è¯•ä¸éƒ¨ç½²</strong>ï¼šè‡ªåŠ¨åŒ–æµ‹è¯•å’Œéƒ¨ç½²æµç¨‹ï¼Œç¡®ä¿åº”ç”¨è´¨é‡</li></ol><h2 id="äº”ã€AIå¼€å‘å·¥å…·é€‰æ‹©æŒ‡å—ï¼šå¦‚ä½•æ‰¾åˆ°æœ€é€‚åˆçš„è§£å†³æ–¹æ¡ˆ-ğŸ§"><a href="#äº”ã€AIå¼€å‘å·¥å…·é€‰æ‹©æŒ‡å—ï¼šå¦‚ä½•æ‰¾åˆ°æœ€é€‚åˆçš„è§£å†³æ–¹æ¡ˆ-ğŸ§" class="headerlink" title="äº”ã€AIå¼€å‘å·¥å…·é€‰æ‹©æŒ‡å—ï¼šå¦‚ä½•æ‰¾åˆ°æœ€é€‚åˆçš„è§£å†³æ–¹æ¡ˆ ğŸ§"></a>äº”ã€AIå¼€å‘å·¥å…·é€‰æ‹©æŒ‡å—ï¼šå¦‚ä½•æ‰¾åˆ°æœ€é€‚åˆçš„è§£å†³æ–¹æ¡ˆ ğŸ§</h2><p>åœ¨ä¼—å¤šçš„AIå¼€å‘å·¥å…·ä¸­ï¼Œå¦‚ä½•é€‰æ‹©æœ€é€‚åˆè‡ªå·±éœ€æ±‚çš„è§£å†³æ–¹æ¡ˆï¼Ÿä»¥ä¸‹æ˜¯2025å¹´çš„AIå¼€å‘å·¥å…·é€‰æ‹©æŒ‡å—ï¼š</p><h3 id="1-æ˜ç¡®å¼€å‘ç›®æ ‡ä¸åœºæ™¯"><a href="#1-æ˜ç¡®å¼€å‘ç›®æ ‡ä¸åœºæ™¯" class="headerlink" title="1. æ˜ç¡®å¼€å‘ç›®æ ‡ä¸åœºæ™¯"></a>1. æ˜ç¡®å¼€å‘ç›®æ ‡ä¸åœºæ™¯</h3><p>é¦–å…ˆè¦æ˜ç¡®ä½ çš„å¼€å‘ç›®æ ‡å’Œåº”ç”¨åœºæ™¯ï¼Œä¸åŒçš„å·¥å…·åœ¨ä¸åŒåœºæ™¯ä¸‹æœ‰å„è‡ªçš„ä¼˜åŠ¿ï¼š</p><ul><li><strong>ä¼ä¸šçº§åº”ç”¨å¼€å‘</strong>ï¼šé€‰æ‹©GitHub Copilot Proã€AWS CodeWhisperer Xç­‰ä¼ä¸šçº§å·¥å…·</li><li><strong>AIæ¨¡å‹ç ”ç©¶</strong>ï¼šé€‰æ‹©PyTorchã€JAX/Flaxç­‰ç ”ç©¶å‹å¥½çš„æ¡†æ¶</li><li><strong>å¿«é€ŸåŸå‹å¼€å‘</strong>ï¼šé€‰æ‹©ä½ä»£ç /æ— ä»£ç å¹³å°æˆ–Hugging Faceç­‰å¼€ç®±å³ç”¨çš„å·¥å…·</li></ul><h3 id="2-è¯„ä¼°å›¢é˜ŸæŠ€æœ¯èƒ½åŠ›"><a href="#2-è¯„ä¼°å›¢é˜ŸæŠ€æœ¯èƒ½åŠ›" class="headerlink" title="2. è¯„ä¼°å›¢é˜ŸæŠ€æœ¯èƒ½åŠ›"></a>2. è¯„ä¼°å›¢é˜ŸæŠ€æœ¯èƒ½åŠ›</h3><p>æ ¹æ®å›¢é˜Ÿçš„æŠ€æœ¯èƒ½åŠ›é€‰æ‹©åˆé€‚çš„å·¥å…·ï¼š</p><ul><li><strong>ä¸“ä¸šAIå›¢é˜Ÿ</strong>ï¼šå¯ä»¥é€‰æ‹©åŠŸèƒ½å¼ºå¤§ä½†å­¦ä¹ æ›²çº¿è¾ƒé™¡çš„å·¥å…·ï¼Œå¦‚TensorFlowã€PyTorchç­‰</li><li><strong>å…¨æ ˆå¼€å‘å›¢é˜Ÿ</strong>ï¼šå¯ä»¥é€‰æ‹©é›†æˆåº¦é«˜ã€æ˜“ç”¨æ€§å¥½çš„å·¥å…·ï¼Œå¦‚Hugging Faceã€LangChainç­‰</li><li><strong>ä¸šåŠ¡å›¢é˜Ÿ</strong>ï¼šå»ºè®®é€‰æ‹©ä½ä»£ç /æ— ä»£ç å¹³å°ï¼Œå¦‚Power Apps AI Builderã€AppSheet AIç­‰</li></ul><h3 id="3-è€ƒè™‘æˆæœ¬æ•ˆç›Š"><a href="#3-è€ƒè™‘æˆæœ¬æ•ˆç›Š" class="headerlink" title="3. è€ƒè™‘æˆæœ¬æ•ˆç›Š"></a>3. è€ƒè™‘æˆæœ¬æ•ˆç›Š</h3><p>AIå¼€å‘å·¥å…·çš„æˆæœ¬å·®å¼‚å¾ˆå¤§ï¼Œéœ€è¦è¿›è¡Œæˆæœ¬æ•ˆç›Šåˆ†æï¼š</p><ul><li><strong>å¼€æºå·¥å…·</strong>ï¼šåˆå§‹æˆæœ¬ä½ï¼Œä½†å¯èƒ½éœ€è¦æ›´å¤šçš„å®šåˆ¶å’Œç»´æŠ¤å·¥ä½œ</li><li><strong>å•†ä¸šå·¥å…·</strong>ï¼šåˆå§‹æˆæœ¬é«˜ï¼Œä½†é€šå¸¸æä¾›æ›´å…¨é¢çš„æ”¯æŒå’Œæ›´ä¸°å¯Œçš„åŠŸèƒ½</li><li><strong>äº‘æœåŠ¡</strong>ï¼šæŒ‰éœ€ä»˜è´¹ï¼Œçµæ´»åº¦é«˜ï¼Œä½†é•¿æœŸä½¿ç”¨æˆæœ¬å¯èƒ½è¾ƒé«˜</li></ul><h3 id="4-å…³æ³¨ç”Ÿæ€ç³»ç»Ÿä¸é›†æˆæ€§"><a href="#4-å…³æ³¨ç”Ÿæ€ç³»ç»Ÿä¸é›†æˆæ€§" class="headerlink" title="4. å…³æ³¨ç”Ÿæ€ç³»ç»Ÿä¸é›†æˆæ€§"></a>4. å…³æ³¨ç”Ÿæ€ç³»ç»Ÿä¸é›†æˆæ€§</h3><p>è¯„ä¼°å·¥å…·çš„ç”Ÿæ€ç³»ç»Ÿå’Œä¸ç°æœ‰ç³»ç»Ÿçš„é›†æˆèƒ½åŠ›ï¼š</p><ul><li><strong>ä¼ä¸šç°æœ‰æŠ€æœ¯æ ˆ</strong>ï¼šä¼˜å…ˆé€‰æ‹©èƒ½ä¸ç°æœ‰æŠ€æœ¯æ ˆè‰¯å¥½é›†æˆçš„å·¥å…·</li><li><strong>ç¬¬ä¸‰æ–¹æœåŠ¡æ”¯æŒ</strong>ï¼šè¯„ä¼°å·¥å…·æ”¯æŒçš„ç¬¬ä¸‰æ–¹æœåŠ¡æ•°é‡å’Œè´¨é‡</li><li><strong>ç¤¾åŒºæ´»è·ƒåº¦</strong>ï¼šé€‰æ‹©ç¤¾åŒºæ´»è·ƒçš„å·¥å…·ï¼Œè·å–æ›´å¤šçš„æ”¯æŒå’Œèµ„æº</li></ul><h2 id="å…­ã€æœªæ¥å±•æœ›ï¼šAIå¼€å‘å·¥å…·çš„å‘å±•è¶‹åŠ¿-ğŸ”®"><a href="#å…­ã€æœªæ¥å±•æœ›ï¼šAIå¼€å‘å·¥å…·çš„å‘å±•è¶‹åŠ¿-ğŸ”®" class="headerlink" title="å…­ã€æœªæ¥å±•æœ›ï¼šAIå¼€å‘å·¥å…·çš„å‘å±•è¶‹åŠ¿ ğŸ”®"></a>å…­ã€æœªæ¥å±•æœ›ï¼šAIå¼€å‘å·¥å…·çš„å‘å±•è¶‹åŠ¿ ğŸ”®</h2><p>å±•æœ›æœªæ¥ï¼ŒAIå¼€å‘å·¥å…·å°†ç»§ç»­å‘æ›´åŠ æ™ºèƒ½åŒ–ã€è‡ªåŠ¨åŒ–å’Œä¸ªæ€§åŒ–çš„æ–¹å‘å‘å±•ï¼š</p><h3 id="1-å¤šæ¨¡æ€å¼€å‘ç¯å¢ƒ"><a href="#1-å¤šæ¨¡æ€å¼€å‘ç¯å¢ƒ" class="headerlink" title="1. å¤šæ¨¡æ€å¼€å‘ç¯å¢ƒ"></a>1. å¤šæ¨¡æ€å¼€å‘ç¯å¢ƒ</h3><p>æœªæ¥çš„AIå¼€å‘ç¯å¢ƒå°†æ”¯æŒåŒæ—¶å¤„ç†æ–‡æœ¬ã€ä»£ç ã€å›¾åƒã€éŸ³é¢‘ç­‰å¤šç§æ¨¡æ€çš„ä¿¡æ¯ï¼Œæä¾›æ›´åŠ ä¸°å¯Œå’Œç›´è§‚çš„å¼€å‘ä½“éªŒã€‚</p><h3 id="2-è‡ªé€‚åº”å¼€å‘åŠ©æ‰‹"><a href="#2-è‡ªé€‚åº”å¼€å‘åŠ©æ‰‹" class="headerlink" title="2. è‡ªé€‚åº”å¼€å‘åŠ©æ‰‹"></a>2. è‡ªé€‚åº”å¼€å‘åŠ©æ‰‹</h3><p>AIå¼€å‘åŠ©æ‰‹å°†å˜å¾—æ›´åŠ æ™ºèƒ½ï¼Œèƒ½å¤Ÿæ ¹æ®å¼€å‘è€…çš„å·¥ä½œä¹ æƒ¯ã€æŠ€èƒ½æ°´å¹³å’Œé¡¹ç›®éœ€æ±‚æä¾›ä¸ªæ€§åŒ–çš„å»ºè®®å’Œå¸®åŠ©ã€‚</p><h3 id="3-å…¨ç”Ÿå‘½å‘¨æœŸè‡ªåŠ¨åŒ–"><a href="#3-å…¨ç”Ÿå‘½å‘¨æœŸè‡ªåŠ¨åŒ–" class="headerlink" title="3. å…¨ç”Ÿå‘½å‘¨æœŸè‡ªåŠ¨åŒ–"></a>3. å…¨ç”Ÿå‘½å‘¨æœŸè‡ªåŠ¨åŒ–</h3><p>ä»éœ€æ±‚åˆ†æã€ç³»ç»Ÿè®¾è®¡åˆ°ä»£ç å®ç°ã€æµ‹è¯•éƒ¨ç½²ï¼ŒAIå°†å®ç°å¼€å‘å…¨ç”Ÿå‘½å‘¨æœŸçš„è‡ªåŠ¨åŒ–ï¼Œå¤§å¹…æå‡å¼€å‘æ•ˆç‡ã€‚</p><h3 id="4-ååŒå¼å¼€å‘ä½“éªŒ"><a href="#4-ååŒå¼å¼€å‘ä½“éªŒ" class="headerlink" title="4. ååŒå¼å¼€å‘ä½“éªŒ"></a>4. ååŒå¼å¼€å‘ä½“éªŒ</h3><p>AIå°†ä¿ƒè¿›å¼€å‘è€…ä¹‹é—´çš„åä½œï¼Œå¸®åŠ©å›¢é˜Ÿæ›´å¥½åœ°å…±äº«çŸ¥è¯†ã€è§£å†³é—®é¢˜å’Œä¼˜åŒ–æµç¨‹ã€‚</p><h3 id="5-å®‰å…¨ä¸åˆè§„å†…ç½®"><a href="#5-å®‰å…¨ä¸åˆè§„å†…ç½®" class="headerlink" title="5. å®‰å…¨ä¸åˆè§„å†…ç½®"></a>5. å®‰å…¨ä¸åˆè§„å†…ç½®</h3><p>æœªæ¥çš„AIå¼€å‘å·¥å…·å°†å†…ç½®å®‰å…¨å’Œåˆè§„åŠŸèƒ½ï¼Œåœ¨å¼€å‘è¿‡ç¨‹ä¸­è‡ªåŠ¨æ£€æµ‹å’Œé¢„é˜²å®‰å…¨é—®é¢˜ï¼Œç¡®ä¿åº”ç”¨ç¬¦åˆç›¸å…³æ³•è§„è¦æ±‚ã€‚</p><h2 id="å†™åœ¨æœ€åï¼šä¸AIå…±åŒè¿›åŒ–ï¼Œæ‹¥æŠ±å¼€å‘æ–°èŒƒå¼-ğŸ’ƒ"><a href="#å†™åœ¨æœ€åï¼šä¸AIå…±åŒè¿›åŒ–ï¼Œæ‹¥æŠ±å¼€å‘æ–°èŒƒå¼-ğŸ’ƒ" class="headerlink" title="å†™åœ¨æœ€åï¼šä¸AIå…±åŒè¿›åŒ–ï¼Œæ‹¥æŠ±å¼€å‘æ–°èŒƒå¼ ğŸ’ƒ"></a>å†™åœ¨æœ€åï¼šä¸AIå…±åŒè¿›åŒ–ï¼Œæ‹¥æŠ±å¼€å‘æ–°èŒƒå¼ ğŸ’ƒ</h2><p>2025å¹´çš„AIå¼€å‘å·¥å…·å·²ç»ä¸å†æ˜¯ç®€å•çš„è¾…åŠ©å·¥å…·ï¼Œè€Œæ˜¯æˆä¸ºå¼€å‘è€…çš„æ™ºèƒ½ä¼™ä¼´å’Œåä½œå¯¹è±¡ã€‚é¢å¯¹è¿™ä¸€å˜é©ï¼Œæˆ‘ä»¬åº”è¯¥ä¿æŒå¼€æ”¾çš„å¿ƒæ€ï¼Œç§¯æå­¦ä¹ å’Œé€‚åº”æ–°çš„å·¥å…·å’Œæ–¹æ³•ï¼ŒåŒæ—¶ä¹Ÿè¦ä¿æŒå¯¹æ ¸å¿ƒæŠ€æœ¯çš„æŒæ¡å’Œå¯¹ä¸šåŠ¡æœ¬è´¨çš„ç†è§£ã€‚</p><p>é€‰æ‹©åˆé€‚çš„AIå¼€å‘å·¥å…·ï¼Œä¸ä»…èƒ½å¤Ÿæå‡å¼€å‘æ•ˆç‡ï¼Œæ›´èƒ½å¸®åŠ©æˆ‘ä»¬é‡Šæ”¾åˆ›é€ åŠ›ï¼Œä¸“æ³¨äºæ›´æœ‰ä»·å€¼çš„å·¥ä½œã€‚åœ¨è¿™ä¸ªAIä¸äººç±»åä½œçš„æ–°æ—¶ä»£ï¼Œè®©æˆ‘ä»¬å…±åŒè¿›åŒ–ï¼Œæ‹¥æŠ±å¼€å‘æ–°èŒƒå¼ï¼</p><p>ä½ åœ¨2025å¹´ä½¿ç”¨äº†å“ªäº›AIå¼€å‘å·¥å…·ï¼Ÿæœ‰ä»€ä¹ˆå®è´µçš„ä½¿ç”¨ç»éªŒï¼Ÿæ¬¢è¿åœ¨è¯„è®ºåŒºç•™è¨€åˆ†äº«ï¼</p><p>Happy AI Codingï¼ğŸ¤–ğŸ’»âœ¨</p>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;/assets/css/APlayer.min.css&quot;&gt;&lt;script src=&quot;/assets/js/APlayer.min.js&quot; cla</summary>
      
    
    
    
    
    <category term="æ™ºèƒ½ç¼–ç¨‹" scheme="https://blog.zhuyizhuo.online/tags/%E6%99%BA%E8%83%BD%E7%BC%96%E7%A8%8B/"/>
    
    <category term="å¯¹æ¯”åˆ†æ" scheme="https://blog.zhuyizhuo.online/tags/%E5%AF%B9%E6%AF%94%E5%88%86%E6%9E%90/"/>
    
    <category term="AIå¼€å‘å·¥å…·" scheme="https://blog.zhuyizhuo.online/tags/AI%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/"/>
    
    <category term="2025è¶‹åŠ¿" scheme="https://blog.zhuyizhuo.online/tags/2025%E8%B6%8B%E5%8A%BF/"/>
    
  </entry>
  
  <entry>
    <title>æŠ€æœ¯å›¾è°±ç½‘ç«™ä»‹ç»ï¼šç³»ç»ŸåŒ–å­¦ä¹ æŠ€æœ¯çš„æ–°æ–¹å¼</title>
    <link href="https://blog.zhuyizhuo.online/2024/10/26/tool/technical-graph-introduction/"/>
    <id>https://blog.zhuyizhuo.online/2024/10/26/tool/technical-graph-introduction/</id>
    <published>2024-10-25T16:00:00.000Z</published>
    <updated>2025-09-26T09:17:19.581Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="æŠ€æœ¯å›¾è°±ï¼šç³»ç»ŸåŒ–å­¦ä¹ æŠ€æœ¯çš„æ–°æ–¹å¼-ğŸš€"><a href="#æŠ€æœ¯å›¾è°±ï¼šç³»ç»ŸåŒ–å­¦ä¹ æŠ€æœ¯çš„æ–°æ–¹å¼-ğŸš€" class="headerlink" title="æŠ€æœ¯å›¾è°±ï¼šç³»ç»ŸåŒ–å­¦ä¹ æŠ€æœ¯çš„æ–°æ–¹å¼ ğŸš€"></a>æŠ€æœ¯å›¾è°±ï¼šç³»ç»ŸåŒ–å­¦ä¹ æŠ€æœ¯çš„æ–°æ–¹å¼ ğŸš€</h1><p>å˜¿ï¼Œäº²çˆ±çš„å¼€å‘è€…æœ‹å‹ä»¬ï¼ğŸ‘‹ ä½œä¸ºä¸€åé•¿æœŸåœ¨æŠ€æœ¯æµ·æ´‹ä¸­èˆªè¡Œçš„â€è€æ°´æ‰‹â€ï¼Œæˆ‘æ·±çŸ¥é¢å¯¹æµ©å¦‚çƒŸæµ·çš„æŠ€æœ¯çŸ¥è¯†æ—¶ï¼Œé‚£ç§æ—¢å…´å¥‹åˆè¿·èŒ«çš„å¤æ‚å¿ƒæƒ…ã€‚ä»Šå¤©ï¼Œæˆ‘è¦å‘å¤§å®¶éš†é‡ä»‹ç»æˆ‘çš„æœ€æ–°åŠ›ä½œâ€”â€”<strong>æŠ€æœ¯å›¾è°±</strong>ï¼ˆ<span class="exturl" data-url="aHR0cHM6Ly96aHV5aXpodW8uZ2l0aHViLmlvL3RlY2huaWNhbC1ncmFwaC1kb2MvJUVGJUJDJTg5JUVGJUJDJThDJUU0JUI4JTgwJUU0JUI4JUFBJUU4JTgzJUJEJUU4JUFFJUE5JUU0JUJEJUEwJUU1JTlDJUE4JUU2JThBJTgwJUU2JTlDJUFGJUU4JUJGJUI3JUU1JUFFJUFCJUU0JUI4JUFEJUU2JTg5JUJFJUU1JTg4JUIwJUU2JUI4JTg1JUU2JTk5JUIwJUU4JUI3JUFGJUU1JUJFJTg0JUU3JTlBJTg0JUU3JUE1JTlFJUU1JUE1JTg3JUU1JUI3JUE1JUU1JTg1JUI3JUVGJUJDJTgxJUYwJTlGJThFJTg5">https://zhuyizhuo.github.io/technical-graph-doc/ï¼‰ï¼Œä¸€ä¸ªèƒ½è®©ä½ åœ¨æŠ€æœ¯è¿·å®«ä¸­æ‰¾åˆ°æ¸…æ™°è·¯å¾„çš„ç¥å¥‡å·¥å…·ï¼ğŸ‰<i class="fa fa-external-link-alt"></i></span></p><h2 id="ä»€ä¹ˆæ˜¯æŠ€æœ¯å›¾è°±ï¼ŸğŸ¤”"><a href="#ä»€ä¹ˆæ˜¯æŠ€æœ¯å›¾è°±ï¼ŸğŸ¤”" class="headerlink" title="ä»€ä¹ˆæ˜¯æŠ€æœ¯å›¾è°±ï¼ŸğŸ¤”"></a>ä»€ä¹ˆæ˜¯æŠ€æœ¯å›¾è°±ï¼ŸğŸ¤”</h2><p>æŠ€æœ¯å›¾è°±ä¸ä»…ä»…æ˜¯ä¸€ä¸ªç®€å•çš„æŠ€æœ¯æ¸…å•ï¼Œå®ƒæ›´åƒæ˜¯ä¸€å¼ <strong>æŠ€æœ¯ä¸–ç•Œçš„å¯¼èˆªåœ°å›¾</strong>ğŸ—ºï¸ã€‚æƒ³è±¡ä¸€ä¸‹ï¼Œæ‰€æœ‰çš„æŠ€æœ¯çŸ¥è¯†ä¸å†æ˜¯é›¶æ•£çš„å­¤å²›ï¼Œè€Œæ˜¯é€šè¿‡å„ç§å…³è”è¿æ¥æˆä¸€ä¸ªå®Œæ•´çš„ç½‘ç»œã€‚åœ¨è¿™é‡Œï¼Œä½ å¯ä»¥çœ‹åˆ°ä»å‰ç«¯åˆ°åç«¯ï¼Œä»æ•°æ®åº“åˆ°äº‘è®¡ç®—ï¼Œå„ç§æŠ€æœ¯æ˜¯å¦‚ä½•ç›¸äº’å…³è”ã€ååŒå·¥ä½œçš„ã€‚</p><p><img data-src="https://images.unsplash.com/photo-1518770660439-4636190af475?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80" alt="æŠ€æœ¯çŸ¥è¯†ç½‘ç»œå›¾"></p><h2 id="è®¾è®¡ç†å¿µï¼šä¸‰ä½ä¸€ä½“çš„å­¦ä¹ å“²å­¦-ğŸ’¡"><a href="#è®¾è®¡ç†å¿µï¼šä¸‰ä½ä¸€ä½“çš„å­¦ä¹ å“²å­¦-ğŸ’¡" class="headerlink" title="è®¾è®¡ç†å¿µï¼šä¸‰ä½ä¸€ä½“çš„å­¦ä¹ å“²å­¦ ğŸ’¡"></a>è®¾è®¡ç†å¿µï¼šä¸‰ä½ä¸€ä½“çš„å­¦ä¹ å“²å­¦ ğŸ’¡</h2><p>æŠ€æœ¯å›¾è°±çš„è®¾è®¡èåˆäº†æˆ‘å¤šå¹´çš„å­¦ä¹ ç»éªŒï¼Œéµå¾ªä¸‰ä¸ªæ ¸å¿ƒåŸåˆ™ï¼š</p><h3 id="1-åˆ†å±‚å­¦ä¹ -ğŸ“š"><a href="#1-åˆ†å±‚å­¦ä¹ -ğŸ“š" class="headerlink" title="1. åˆ†å±‚å­¦ä¹  ğŸ“š"></a>1. åˆ†å±‚å­¦ä¹  ğŸ“š</h3><p>ä»åº•å±‚åŸç†åˆ°ä¸Šå±‚åº”ç”¨ï¼Œæ„å»ºå®Œæ•´çš„çŸ¥è¯†é‡‘å­—å¡”ã€‚æˆ‘ä»¬ä¸ä»…å…³æ³¨â€å¦‚ä½•ä½¿ç”¨æŸä¸ªAPIâ€ï¼Œæ›´æ·±å…¥æ¢è®¨â€ä¸ºä»€ä¹ˆè¿™ä¸ªæŠ€æœ¯ä¼šå‡ºç°â€ã€â€å®ƒè§£å†³äº†ä»€ä¹ˆé—®é¢˜â€ã€‚è¿™ç§ç”±å†…è€Œå¤–çš„å­¦ä¹ æ–¹å¼ï¼Œèƒ½è®©ä½ çš„çŸ¥è¯†æ ¹åŸºæ›´åŠ ç¨³å›ºï¼</p><h3 id="2-æ·±åº¦ä¼˜å…ˆ-â›ï¸"><a href="#2-æ·±åº¦ä¼˜å…ˆ-â›ï¸" class="headerlink" title="2. æ·±åº¦ä¼˜å…ˆ â›ï¸"></a>2. æ·±åº¦ä¼˜å…ˆ â›ï¸</h3><p>åœ¨å…³é”®é¢†åŸŸå½¢æˆæŠ€æœ¯æ·±åº¦ã€‚ä¸å…¶æµ…å°è¾„æ­¢åœ°äº†è§£100ç§æŠ€æœ¯ï¼Œä¸å¦‚åœ¨æ ¸å¿ƒé¢†åŸŸå»ºç«‹æ‰å®çš„çŸ¥è¯†å£å’ã€‚æŠ€æœ¯å›¾è°±ä¼šå¼•å¯¼ä½ åœ¨é‡è¦æŠ€æœ¯ä¸Šä¸æ–­æ·±å…¥ï¼Œæˆä¸ºçœŸæ­£çš„ä¸“å®¶ï¼</p><h3 id="3-å¹¿åº¦æ‹“å±•-ğŸŒ"><a href="#3-å¹¿åº¦æ‹“å±•-ğŸŒ" class="headerlink" title="3. å¹¿åº¦æ‹“å±• ğŸŒ"></a>3. å¹¿åº¦æ‹“å±• ğŸŒ</h3><p>äº†è§£ç›¸å…³æŠ€æœ¯ç”Ÿæ€ã€‚æŠ€æœ¯ä»æ¥ä¸æ˜¯å­¤ç«‹å­˜åœ¨çš„ï¼Œå°±åƒä¸€ä¸ªä¼˜ç§€çš„å¨å¸ˆä¸ä»…è¦ä¼šç‚’èœï¼Œè¿˜è¦äº†è§£é£Ÿæçš„ç‰¹æ€§å’Œæ­é…è§„å¾‹ã€‚æŠ€æœ¯å›¾è°±ä¼šå¸®ä½ ç†è§£ä¸€ä¸ªæŠ€æœ¯å¦‚ä½•ä¸å…¶ä»–æŠ€æœ¯ååŒå·¥ä½œï¼Œå½¢æˆå®Œæ•´çš„è§£å†³æ–¹æ¡ˆã€‚</p><h2 id="æŒç»­æ›´æ–°çš„æŠ€æœ¯æ ˆï¼šæ°¸ä¸è¿‡æ—¶çš„çŸ¥è¯†åº“-ğŸ”„"><a href="#æŒç»­æ›´æ–°çš„æŠ€æœ¯æ ˆï¼šæ°¸ä¸è¿‡æ—¶çš„çŸ¥è¯†åº“-ğŸ”„" class="headerlink" title="æŒç»­æ›´æ–°çš„æŠ€æœ¯æ ˆï¼šæ°¸ä¸è¿‡æ—¶çš„çŸ¥è¯†åº“ ğŸ”„"></a>æŒç»­æ›´æ–°çš„æŠ€æœ¯æ ˆï¼šæ°¸ä¸è¿‡æ—¶çš„çŸ¥è¯†åº“ ğŸ”„</h2><p>åœ¨è¿™ä¸ªæŠ€æœ¯è¿­ä»£æ¯”ç¿»è„¸è¿˜å¿«çš„æ—¶ä»£ï¼Œä¿æŒçŸ¥è¯†çš„æ—¶æ•ˆæ€§è‡³å…³é‡è¦ï¼æŠ€æœ¯å›¾è°±ä¼š<strong>å®šæœŸæ›´æ–°</strong>ï¼Œç¡®ä¿å®ƒåæ˜ æœ€æ–°çš„æŠ€æœ¯å‘å±•è¶‹åŠ¿ã€‚æ— è®ºæ˜¯å‰ç«¯çš„Reactã€Vueæ–°ç‰¹æ€§ï¼Œè¿˜æ˜¯åç«¯çš„å¾®æœåŠ¡ã€Serverlessæ¶æ„ï¼Œä½ éƒ½èƒ½åœ¨è¿™é‡Œæ‰¾åˆ°æœ€æ–°ã€æœ€å®ç”¨çš„ä¿¡æ¯ï¼â°</p><h2 id="å¦‚ä½•ä½¿ç”¨æŠ€æœ¯å›¾è°±ï¼Ÿè¶…ç®€å•æ“ä½œæŒ‡å—-ğŸ®"><a href="#å¦‚ä½•ä½¿ç”¨æŠ€æœ¯å›¾è°±ï¼Ÿè¶…ç®€å•æ“ä½œæŒ‡å—-ğŸ®" class="headerlink" title="å¦‚ä½•ä½¿ç”¨æŠ€æœ¯å›¾è°±ï¼Ÿè¶…ç®€å•æ“ä½œæŒ‡å— ğŸ®"></a>å¦‚ä½•ä½¿ç”¨æŠ€æœ¯å›¾è°±ï¼Ÿè¶…ç®€å•æ“ä½œæŒ‡å— ğŸ®</h2><p>ä½¿ç”¨æŠ€æœ¯å›¾è°±å°±åƒç©æ¸¸æˆä¸€æ ·ç®€å•æœ‰è¶£ï¼š</p><ol><li>è®¿é—®<span class="exturl" data-url="aHR0cHM6Ly96aHV5aXpodW8uZ2l0aHViLmlvL3RlY2huaWNhbC1ncmFwaC1kb2Mv">https://zhuyizhuo.github.io/technical-graph-doc/<i class="fa fa-external-link-alt"></i></span>ï¼Œå¼€å¯ä½ çš„æŠ€æœ¯æ¢é™©ä¹‹æ—…ï¼</li><li>åœ¨é¦–é¡µå¯ä»¥åƒçœ‹åœ°å›¾ä¸€æ ·æ¦‚è§ˆæ•´ä¸ªæŠ€æœ¯ä¸–ç•Œçš„ç»“æ„ ğŸŒ</li><li>ç‚¹å‡»å…·ä½“çš„æŠ€æœ¯èŠ‚ç‚¹ï¼Œå°±åƒæ‰“å¼€ä¸€ä¸ªå®ç®±ï¼Œé‡Œé¢è£…æ»¡äº†è¯¥æŠ€æœ¯çš„è¯¦ç»†ä¿¡æ¯å’Œå®è— ğŸ</li><li>é€šè¿‡å›¾è°±å¯¼èˆªï¼Œåƒèµ°è¿·å®«ä¸€æ ·æ¢ç´¢ä¸åŒæŠ€æœ¯ä¹‹é—´çš„å¥‡å¦™å…³è” ğŸ§©</li><li>å…³æ³¨GitHubä»“åº“ï¼ŒåŠæ—¶è·å–æœ€æ–°çš„æŠ€æœ¯æ›´æ–°ï¼Œä¸é”™è¿‡ä»»ä½•ä¸€ä¸ªé‡è¦çš„æŠ€æœ¯å˜é©ï¼</li></ol><h2 id="å¼€æºä¸è´¡çŒ®ï¼šè®©æˆ‘ä»¬ä¸€èµ·å»ºè®¾æŠ€æœ¯ä¸–ç•Œ-ğŸ‘«"><a href="#å¼€æºä¸è´¡çŒ®ï¼šè®©æˆ‘ä»¬ä¸€èµ·å»ºè®¾æŠ€æœ¯ä¸–ç•Œ-ğŸ‘«" class="headerlink" title="å¼€æºä¸è´¡çŒ®ï¼šè®©æˆ‘ä»¬ä¸€èµ·å»ºè®¾æŠ€æœ¯ä¸–ç•Œ ğŸ‘«"></a>å¼€æºä¸è´¡çŒ®ï¼šè®©æˆ‘ä»¬ä¸€èµ·å»ºè®¾æŠ€æœ¯ä¸–ç•Œ ğŸ‘«</h2><p>æŠ€æœ¯å›¾è°±æ˜¯ä¸€ä¸ªå¼€æºé¡¹ç›®ï¼Œå°±åƒä¸€ä¸ªå¼€æ”¾çš„èŠ±å›­ï¼Œéœ€è¦å¤§å®¶å…±åŒæµ‡çŒæ‰èƒ½ç»½æ”¾å¾—æ›´åŠ ç¾ä¸½ï¼å¦‚æœä½ æœ‰ä»»ä½•å»ºè®®æˆ–è€…æƒ³è¦è´¡çŒ®å†…å®¹ï¼Œæ¬¢è¿è®¿é—®<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL3podXlpemh1by90ZWNobmljYWwtZ3JhcGgtZG9j">GitHubä»“åº“<i class="fa fa-external-link-alt"></i></span>å‚ä¸è¿›æ¥ã€‚ä½ çš„æ¯ä¸€ä¸ªæƒ³æ³•å’Œè´¡çŒ®ï¼Œéƒ½èƒ½è®©è¿™ä¸ªé¡¹ç›®å˜å¾—æ›´åŠ å®Œå–„å’Œå®ç”¨ï¼ğŸ’ª</p><p><img data-src="https://images.unsplash.com/photo-1552664730-d307ca884978?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80" alt="å¼€æºåä½œ"></p><h2 id="å†™åœ¨æœ€åï¼šæŠ€æœ¯å­¦ä¹ æ˜¯ä¸€åœºç²¾å½©çš„æ—…ç¨‹-ğŸš‚"><a href="#å†™åœ¨æœ€åï¼šæŠ€æœ¯å­¦ä¹ æ˜¯ä¸€åœºç²¾å½©çš„æ—…ç¨‹-ğŸš‚" class="headerlink" title="å†™åœ¨æœ€åï¼šæŠ€æœ¯å­¦ä¹ æ˜¯ä¸€åœºç²¾å½©çš„æ—…ç¨‹ ğŸš‚"></a>å†™åœ¨æœ€åï¼šæŠ€æœ¯å­¦ä¹ æ˜¯ä¸€åœºç²¾å½©çš„æ—…ç¨‹ ğŸš‚</h2><p>åˆ›å»ºæŠ€æœ¯å›¾è°±çš„åˆè¡·ï¼Œæ˜¯å¸Œæœ›èƒ½å¤Ÿå¸®åŠ©æ›´å¤šçš„å¼€å‘è€…å»ºç«‹ç³»ç»ŸåŒ–çš„æŠ€æœ¯çŸ¥è¯†ä½“ç³»ï¼Œé¿å…åœ¨å­¦ä¹ è¿‡ç¨‹ä¸­è¿·å¤±æ–¹å‘ã€‚æŠ€æœ¯å­¦ä¹ ä¸æ˜¯ä¸€åœºçŸ­è·‘æ¯”èµ›ï¼Œè€Œæ˜¯ä¸€åœºç²¾å½©çš„é©¬æ‹‰æ¾ã€‚åœ¨è¿™æ¡æ¼«é•¿çš„é“è·¯ä¸Šï¼ŒæŠ€æœ¯å›¾è°±å°†æˆä¸ºä½ çš„å¿ å®ä¼™ä¼´å’Œå¯¼èˆªä»ªï¼</p><p>å¦‚æœä½ è§‰å¾—è¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œæ¬¢è¿åˆ†äº«ç»™æ›´å¤šçš„å¼€å‘è€…æœ‹å‹ã€‚è®©æˆ‘ä»¬ä¸€èµ·åœ¨æŠ€æœ¯çš„é“è·¯ä¸Šä¸æ–­è¿›æ­¥ï¼Œæ¢ç´¢æ›´å¹¿é˜”çš„æŠ€æœ¯ä¸–ç•Œï¼ğŸŒŸ</p><blockquote><p>é¡¹ç›®åœ°å€ï¼š<span class="exturl" data-url="aHR0cHM6Ly96aHV5aXpodW8uZ2l0aHViLmlvL3RlY2huaWNhbC1ncmFwaC1kb2Mv">https://zhuyizhuo.github.io/technical-graph-doc/<i class="fa fa-external-link-alt"></i></span> ğŸŒ<br>GitHubä»“åº“ï¼š<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL3podXlpemh1by90ZWNobmljYWwtZ3JhcGgtZG9j">https://github.com/zhuyizhuo/technical-graph-doc<i class="fa fa-external-link-alt"></i></span> ğŸ› ï¸<br>è®°å¾—ç»™ä¸ªStarå“¦ï¼â­</p></blockquote>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;/assets/css/APlayer.min.css&quot;&gt;&lt;script src=&quot;/assets/js/APlayer.min.js&quot; cla</summary>
      
    
    
    
    
    <category term="æŠ€æœ¯èµ„æº" scheme="https://blog.zhuyizhuo.online/tags/%E6%8A%80%E6%9C%AF%E8%B5%84%E6%BA%90/"/>
    
    <category term="å­¦ä¹ æ–¹æ³•" scheme="https://blog.zhuyizhuo.online/tags/%E5%AD%A6%E4%B9%A0%E6%96%B9%E6%B3%95/"/>
    
    <category term="æŠ€æœ¯å›¾è°±" scheme="https://blog.zhuyizhuo.online/tags/%E6%8A%80%E6%9C%AF%E5%9B%BE%E8%B0%B1/"/>
    
  </entry>
  
  <entry>
    <title>Javaå¾®æœåŠ¡æ²»ç†å¹³å°æ­å»ºæŒ‡å—</title>
    <link href="https://blog.zhuyizhuo.online/2024/10/18/cloud-native/2024-microservice-governance-guide/"/>
    <id>https://blog.zhuyizhuo.online/2024/10/18/cloud-native/2024-microservice-governance-guide/</id>
    <published>2024-10-17T16:00:00.000Z</published>
    <updated>2025-09-26T09:35:16.400Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="Javaå¾®æœåŠ¡æ²»ç†å¹³å°æ­å»ºæŒ‡å—-ğŸ—ï¸"><a href="#Javaå¾®æœåŠ¡æ²»ç†å¹³å°æ­å»ºæŒ‡å—-ğŸ—ï¸" class="headerlink" title="Javaå¾®æœåŠ¡æ²»ç†å¹³å°æ­å»ºæŒ‡å— ğŸ—ï¸"></a>Javaå¾®æœåŠ¡æ²»ç†å¹³å°æ­å»ºæŒ‡å— ğŸ—ï¸</h1><p>å¤§å®¶å¥½ï¼ğŸ‘‹ åœ¨å½“ä»Šçš„äº‘åŸç”Ÿæ—¶ä»£ï¼Œå¾®æœåŠ¡æ¶æ„å·²ç»æˆä¸ºæ„å»ºå¤§å‹åˆ†å¸ƒå¼ç³»ç»Ÿçš„ä¸»æµé€‰æ‹©ã€‚ç„¶è€Œï¼Œéšç€å¾®æœåŠ¡æ•°é‡çš„ä¸æ–­å¢åŠ ï¼Œå¦‚ä½•æœ‰æ•ˆåœ°ç®¡ç†å’Œæ²»ç†è¿™äº›æœåŠ¡æˆä¸ºäº†ä¸€ä¸ªå·¨å¤§çš„æŒ‘æˆ˜ã€‚ä»Šå¤©ï¼Œæˆ‘å°†å’Œå¤§å®¶åˆ†äº«å¦‚ä½•åŸºäºSpring Cloud Alibabaæ„å»ºä¸€ä¸ªå®Œæ•´çš„å¾®æœåŠ¡æ²»ç†å¹³å°ï¼Œå¸®åŠ©ä½ è§£å†³å¾®æœåŠ¡æ²»ç†ä¸­çš„å„ç§ç—›ç‚¹ã€‚</p><h2 id="ä¸€ã€å¾®æœåŠ¡æ²»ç†çš„é‡è¦æ€§ä¸æŒ‘æˆ˜-ğŸ¯"><a href="#ä¸€ã€å¾®æœåŠ¡æ²»ç†çš„é‡è¦æ€§ä¸æŒ‘æˆ˜-ğŸ¯" class="headerlink" title="ä¸€ã€å¾®æœåŠ¡æ²»ç†çš„é‡è¦æ€§ä¸æŒ‘æˆ˜ ğŸ¯"></a>ä¸€ã€å¾®æœåŠ¡æ²»ç†çš„é‡è¦æ€§ä¸æŒ‘æˆ˜ ğŸ¯</h2><h3 id="1-ä»€ä¹ˆæ˜¯å¾®æœåŠ¡æ²»ç†ï¼Ÿ"><a href="#1-ä»€ä¹ˆæ˜¯å¾®æœåŠ¡æ²»ç†ï¼Ÿ" class="headerlink" title="1. ä»€ä¹ˆæ˜¯å¾®æœåŠ¡æ²»ç†ï¼Ÿ"></a>1. ä»€ä¹ˆæ˜¯å¾®æœåŠ¡æ²»ç†ï¼Ÿ</h3><p>å¾®æœåŠ¡æ²»ç†æ˜¯æŒ‡å¯¹å¾®æœåŠ¡æ¶æ„ä¸­çš„å„ä¸ªæœåŠ¡è¿›è¡Œå…¨é¢ç®¡ç†å’Œæ§åˆ¶çš„è¿‡ç¨‹ï¼ŒåŒ…æ‹¬ï¼š</p><ul><li><strong>æœåŠ¡æ³¨å†Œä¸å‘ç°</strong>ï¼šç®¡ç†æœåŠ¡çš„ç”Ÿå‘½å‘¨æœŸå’Œç½‘ç»œä½ç½®</li><li><strong>é…ç½®ç®¡ç†</strong>ï¼šé›†ä¸­ç®¡ç†å’ŒåŠ¨æ€æ›´æ–°æœåŠ¡é…ç½®</li><li><strong>æµé‡ç®¡ç†</strong>ï¼šåŒ…æ‹¬è´Ÿè½½å‡è¡¡ã€é™æµã€ç†”æ–­ã€é™çº§ç­‰</li><li><strong>å®‰å…¨ç®¡ç†</strong>ï¼šè®¤è¯ã€æˆæƒã€åŠ å¯†é€šä¿¡ç­‰</li><li><strong>ç›‘æ§ä¸å‘Šè­¦</strong>ï¼šæ”¶é›†æŒ‡æ ‡ã€æ—¥å¿—ã€é“¾è·¯è¿½è¸ªæ•°æ®å¹¶è¿›è¡Œå‘Šè­¦</li><li><strong>ç°åº¦å‘å¸ƒä¸å›æ»š</strong>ï¼šæ§åˆ¶æ–°ç‰ˆæœ¬çš„å‘å¸ƒè¿‡ç¨‹</li></ul><h3 id="2-å¾®æœåŠ¡æ²»ç†é¢ä¸´çš„æŒ‘æˆ˜"><a href="#2-å¾®æœåŠ¡æ²»ç†é¢ä¸´çš„æŒ‘æˆ˜" class="headerlink" title="2. å¾®æœåŠ¡æ²»ç†é¢ä¸´çš„æŒ‘æˆ˜"></a>2. å¾®æœåŠ¡æ²»ç†é¢ä¸´çš„æŒ‘æˆ˜</h3><p>åœ¨å®è·µä¸­ï¼Œå¾®æœåŠ¡æ²»ç†é¢ä¸´ç€è¯¸å¤šæŒ‘æˆ˜ï¼š</p><ul><li><strong>æœåŠ¡æ•°é‡çˆ†ç‚¸</strong>ï¼šå¤§å‹ç³»ç»Ÿå¯èƒ½åŒ…å«æ•°ç™¾ç”šè‡³æ•°åƒä¸ªå¾®æœåŠ¡</li><li><strong>ç½‘ç»œå¤æ‚æ€§</strong>ï¼šæœåŠ¡é—´è°ƒç”¨å…³ç³»å¤æ‚ï¼Œç½‘ç»œæ•…éšœéš¾ä»¥æ’æŸ¥</li><li><strong>æ•°æ®ä¸€è‡´æ€§</strong>ï¼šåˆ†å¸ƒå¼ç³»ç»Ÿçš„æ•°æ®ä¸€è‡´æ€§ä¿éšœå›°éš¾</li><li><strong>å®‰å…¨é£é™©</strong>ï¼šæœåŠ¡æš´éœ²é¢å¢åŠ ï¼Œå®‰å…¨é£é™©éšä¹‹å¢åŠ </li><li><strong>è¿ç»´å¤æ‚åº¦</strong>ï¼šä¼ ç»Ÿè¿ç»´æ–¹å¼éš¾ä»¥åº”å¯¹å¤§è§„æ¨¡å¾®æœåŠ¡é›†ç¾¤</li></ul><h3 id="3-Spring-Cloud-Alibabaçš„ä¼˜åŠ¿"><a href="#3-Spring-Cloud-Alibabaçš„ä¼˜åŠ¿" class="headerlink" title="3. Spring Cloud Alibabaçš„ä¼˜åŠ¿"></a>3. Spring Cloud Alibabaçš„ä¼˜åŠ¿</h3><p>Spring Cloud Alibabaæ˜¯é˜¿é‡Œå·´å·´å¼€æºçš„å¾®æœåŠ¡è§£å†³æ–¹æ¡ˆï¼Œå®ƒç»“åˆäº†Spring Cloudçš„ç”Ÿæ€ä¼˜åŠ¿å’Œé˜¿é‡Œå·´å·´åœ¨å¾®æœåŠ¡é¢†åŸŸçš„å®è·µç»éªŒï¼Œå…·æœ‰ä»¥ä¸‹ä¼˜åŠ¿ï¼š</p><ul><li><strong>æœ¬åœŸåŒ–æ”¯æŒ</strong>ï¼šå®Œå…¨é€‚é…å›½å†…çš„äº‘æœåŠ¡ç¯å¢ƒ</li><li><strong>ç»„ä»¶ä¸°å¯Œ</strong>ï¼šæä¾›äº†å®Œæ•´çš„å¾®æœåŠ¡æ²»ç†ç»„ä»¶æ ˆ</li><li><strong>æ€§èƒ½ä¼˜ç§€</strong>ï¼šç»è¿‡å¤§è§„æ¨¡ç”Ÿäº§ç¯å¢ƒéªŒè¯</li><li><strong>ç¤¾åŒºæ´»è·ƒ</strong>ï¼šæŒç»­æ›´æ–°å’Œå®Œå–„</li></ul><h2 id="äºŒã€åŸºäºSpring-Cloud-Alibabaæ„å»ºå®Œæ•´å¾®æœåŠ¡æ¶æ„-ğŸ› ï¸"><a href="#äºŒã€åŸºäºSpring-Cloud-Alibabaæ„å»ºå®Œæ•´å¾®æœåŠ¡æ¶æ„-ğŸ› ï¸" class="headerlink" title="äºŒã€åŸºäºSpring Cloud Alibabaæ„å»ºå®Œæ•´å¾®æœåŠ¡æ¶æ„ ğŸ› ï¸"></a>äºŒã€åŸºäºSpring Cloud Alibabaæ„å»ºå®Œæ•´å¾®æœåŠ¡æ¶æ„ ğŸ› ï¸</h2><h3 id="1-æŠ€æœ¯æ ˆé€‰å‹"><a href="#1-æŠ€æœ¯æ ˆé€‰å‹" class="headerlink" title="1. æŠ€æœ¯æ ˆé€‰å‹"></a>1. æŠ€æœ¯æ ˆé€‰å‹</h3><p>åœ¨æ­å»ºå¾®æœåŠ¡æ²»ç†å¹³å°ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦ç¡®å®šæŠ€æœ¯æ ˆé€‰å‹ï¼š</p><ul><li><strong>åŸºç¡€æ¡†æ¶</strong>ï¼šSpring Boot 3.2.x + Spring Cloud 2023.x</li><li><strong>å¾®æœåŠ¡æ²»ç†</strong>ï¼šSpring Cloud Alibaba 2023.x</li><li><strong>æ³¨å†Œä¸­å¿ƒ</strong>ï¼šNacos</li><li><strong>é…ç½®ä¸­å¿ƒ</strong>ï¼šNacos Config</li><li><strong>ç½‘å…³</strong>ï¼šSpring Cloud Gateway</li><li><strong>æœåŠ¡è°ƒç”¨</strong>ï¼šDubbo/Spring Cloud OpenFeign</li><li><strong>ç†”æ–­å™¨</strong>ï¼šSentinel</li><li><strong>é“¾è·¯è¿½è¸ª</strong>ï¼šSkyWalking</li><li><strong>ç›‘æ§å‘Šè­¦</strong>ï¼šPrometheus + Grafana</li><li><strong>å®¹å™¨åŒ–</strong>ï¼šDocker + Kubernetes</li></ul><h3 id="2-ç³»ç»Ÿæ¶æ„è®¾è®¡"><a href="#2-ç³»ç»Ÿæ¶æ„è®¾è®¡" class="headerlink" title="2. ç³»ç»Ÿæ¶æ„è®¾è®¡"></a>2. ç³»ç»Ÿæ¶æ„è®¾è®¡</h3><p>ä¸‹é¢æ˜¯æˆ‘ä»¬å°†è¦æ„å»ºçš„å¾®æœåŠ¡æ²»ç†å¹³å°çš„æ•´ä½“æ¶æ„è®¾è®¡ï¼š</p><p><img data-src="https://images.unsplash.com/photo-1558494949-ef010cbdcc31?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80" alt="å¾®æœåŠ¡æ²»ç†å¹³å°æ¶æ„å›¾"></p><p>è¿™ä¸ªæ¶æ„åŒ…å«ä»¥ä¸‹æ ¸å¿ƒç»„ä»¶ï¼š</p><ol><li><strong>æ¥å…¥å±‚</strong>ï¼šAPIç½‘å…³ç»Ÿä¸€å…¥å£ï¼Œè´Ÿè´£è·¯ç”±è½¬å‘ã€è®¤è¯æˆæƒç­‰</li><li><strong>æœåŠ¡å±‚</strong>ï¼šå„ç§ä¸šåŠ¡å¾®æœåŠ¡ï¼Œå®ç°å…·ä½“ä¸šåŠ¡åŠŸèƒ½</li><li><strong>åŸºç¡€è®¾æ–½å±‚</strong>ï¼šæä¾›æœåŠ¡æ²»ç†çš„å„ç§åŸºç¡€è®¾æ–½</li><li><strong>æ•°æ®å±‚</strong>ï¼šå„ç±»æ•°æ®åº“å’Œç¼“å­˜</li><li><strong>ç›‘æ§å±‚</strong>ï¼šè´Ÿè´£ç›‘æ§å’Œå‘Šè­¦</li></ol><h3 id="3-é¡¹ç›®ç»“æ„è®¾è®¡"><a href="#3-é¡¹ç›®ç»“æ„è®¾è®¡" class="headerlink" title="3. é¡¹ç›®ç»“æ„è®¾è®¡"></a>3. é¡¹ç›®ç»“æ„è®¾è®¡</h3><p>ä¸ºäº†ä¾¿äºç®¡ç†ï¼Œæˆ‘ä»¬å¯ä»¥é‡‡ç”¨æ¨¡å—åŒ–çš„é¡¹ç›®ç»“æ„ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">microservice-platform/</span><br><span class="line">â”œâ”€â”€ microservice-common/           # å…¬å…±æ¨¡å—</span><br><span class="line">â”œâ”€â”€ microservice-gateway/          # ç½‘å…³æœåŠ¡</span><br><span class="line">â”œâ”€â”€ microservice-auth/             # è®¤è¯æˆæƒæœåŠ¡</span><br><span class="line">â”œâ”€â”€ microservice-order/            # è®¢å•æœåŠ¡</span><br><span class="line">â”œâ”€â”€ microservice-product/          # å•†å“æœåŠ¡</span><br><span class="line">â”œâ”€â”€ microservice-user/             # ç”¨æˆ·æœåŠ¡</span><br><span class="line">â”œâ”€â”€ microservice-search/           # æœç´¢æœåŠ¡</span><br><span class="line">â””â”€â”€ microservice-config/           # é…ç½®ç®¡ç†æ¨¡å—</span><br></pre></td></tr></table></figure><h2 id="ä¸‰ã€å®ç°æ ¸å¿ƒæ²»ç†ç»„ä»¶çš„å…·ä½“æ­¥éª¤-ğŸ”"><a href="#ä¸‰ã€å®ç°æ ¸å¿ƒæ²»ç†ç»„ä»¶çš„å…·ä½“æ­¥éª¤-ğŸ”" class="headerlink" title="ä¸‰ã€å®ç°æ ¸å¿ƒæ²»ç†ç»„ä»¶çš„å…·ä½“æ­¥éª¤ ğŸ”"></a>ä¸‰ã€å®ç°æ ¸å¿ƒæ²»ç†ç»„ä»¶çš„å…·ä½“æ­¥éª¤ ğŸ”</h2><h3 id="1-æœåŠ¡æ³¨å†Œä¸å‘ç°ï¼ˆNacosï¼‰"><a href="#1-æœåŠ¡æ³¨å†Œä¸å‘ç°ï¼ˆNacosï¼‰" class="headerlink" title="1. æœåŠ¡æ³¨å†Œä¸å‘ç°ï¼ˆNacosï¼‰"></a>1. æœåŠ¡æ³¨å†Œä¸å‘ç°ï¼ˆNacosï¼‰</h3><p>Nacosæ˜¯ä¸€ä¸ªæ›´æ˜“äºæ„å»ºäº‘åŸç”Ÿåº”ç”¨çš„åŠ¨æ€æœåŠ¡å‘ç°ã€é…ç½®ç®¡ç†å’ŒæœåŠ¡ç®¡ç†å¹³å°ã€‚</p><p><strong>1.1 å®‰è£…å’Œå¯åŠ¨Nacos</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ä¸‹è½½Nacos</span></span><br><span class="line">wget https://github.com/alibaba/nacos/releases/download/2.3.0/nacos-server-2.3.0.tar.gz</span><br><span class="line"></span><br><span class="line">tar -zxvf nacos-server-2.3.0.tar.gz</span><br><span class="line"><span class="built_in">cd</span> nacos/bin</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¯åŠ¨Nacosï¼ˆå•æœºæ¨¡å¼ï¼‰</span></span><br><span class="line">sh startup.sh -m standalone</span><br></pre></td></tr></table></figure><p><strong>1.2 åœ¨å¾®æœåŠ¡ä¸­é›†æˆNacos</strong></p><p>é¦–å…ˆï¼Œæ·»åŠ ä¾èµ–ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.alibaba.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-starter-alibaba-nacos-discovery<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ç„¶åï¼Œåœ¨<code>application.yml</code>ä¸­é…ç½®Nacosï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">application:</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">microservice-order</span></span><br><span class="line">  <span class="attr">cloud:</span></span><br><span class="line">    <span class="attr">nacos:</span></span><br><span class="line">      <span class="attr">discovery:</span></span><br><span class="line">        <span class="attr">server-addr:</span> <span class="string">localhost:8848</span></span><br><span class="line">        <span class="attr">namespace:</span> <span class="string">dev</span></span><br><span class="line">        <span class="attr">group:</span> <span class="string">DEFAULT_GROUP</span></span><br></pre></td></tr></table></figure><p>æœ€åï¼Œåœ¨å¯åŠ¨ç±»ä¸Šæ·»åŠ <code>@EnableDiscoveryClient</code>æ³¨è§£ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@SpringBootApplication</span></span><br><span class="line"><span class="meta">@EnableDiscoveryClient</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">OrderServiceApplication</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        SpringApplication.run(OrderServiceApplication.class, args);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="2-é…ç½®ä¸­å¿ƒï¼ˆNacos-Configï¼‰"><a href="#2-é…ç½®ä¸­å¿ƒï¼ˆNacos-Configï¼‰" class="headerlink" title="2. é…ç½®ä¸­å¿ƒï¼ˆNacos Configï¼‰"></a>2. é…ç½®ä¸­å¿ƒï¼ˆNacos Configï¼‰</h3><p>Nacos Configæä¾›äº†ç»Ÿä¸€çš„é…ç½®ç®¡ç†åŠŸèƒ½ï¼Œæ”¯æŒåŠ¨æ€åˆ·æ–°é…ç½®ã€‚</p><p><strong>2.1 æ·»åŠ ä¾èµ–</strong></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.alibaba.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-starter-alibaba-nacos-config<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>2.2 åˆ›å»ºbootstrap.ymlé…ç½®æ–‡ä»¶</strong></p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">application:</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">microservice-order</span></span><br><span class="line">  <span class="attr">cloud:</span></span><br><span class="line">    <span class="attr">nacos:</span></span><br><span class="line">      <span class="attr">config:</span></span><br><span class="line">        <span class="attr">server-addr:</span> <span class="string">localhost:8848</span></span><br><span class="line">        <span class="attr">namespace:</span> <span class="string">dev</span></span><br><span class="line">        <span class="attr">group:</span> <span class="string">DEFAULT_GROUP</span></span><br><span class="line">        <span class="attr">file-extension:</span> <span class="string">yaml</span></span><br></pre></td></tr></table></figure><p><strong>2.3 åœ¨Nacosæ§åˆ¶å°åˆ›å»ºé…ç½®</strong></p><p>åœ¨Nacosæ§åˆ¶å°åˆ›å»º<code>microservice-order.yaml</code>é…ç½®ï¼Œå¹¶æ·»åŠ é…ç½®å†…å®¹ã€‚</p><p><strong>2.4 åœ¨ä»£ç ä¸­ä½¿ç”¨é…ç½®</strong></p><p>ä½¿ç”¨<code>@Value</code>æ³¨è§£æˆ–<code>@ConfigurationProperties</code>æ³¨è§£è·å–é…ç½®ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RefreshScope</span> <span class="comment">// æ”¯æŒåŠ¨æ€åˆ·æ–°é…ç½®</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">OrderController</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Value(&quot;$&#123;order.service.version&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String version;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@GetMapping(&quot;/version&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getVersion</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> version;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="3-APIç½‘å…³ï¼ˆSpring-Cloud-Gatewayï¼‰"><a href="#3-APIç½‘å…³ï¼ˆSpring-Cloud-Gatewayï¼‰" class="headerlink" title="3. APIç½‘å…³ï¼ˆSpring Cloud Gatewayï¼‰"></a>3. APIç½‘å…³ï¼ˆSpring Cloud Gatewayï¼‰</h3><p>Spring Cloud Gatewayæä¾›äº†è·¯ç”±è½¬å‘ã€è¯·æ±‚è¿‡æ»¤ç­‰åŠŸèƒ½ï¼Œæ˜¯å¾®æœåŠ¡æ¶æ„ä¸­çš„é‡è¦ç»„ä»¶ã€‚</p><p><strong>3.1 æ·»åŠ ä¾èµ–</strong></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-starter-gateway<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.alibaba.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-starter-alibaba-nacos-discovery<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>3.2 é…ç½®è·¯ç”±è§„åˆ™</strong></p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">cloud:</span></span><br><span class="line">    <span class="attr">gateway:</span></span><br><span class="line">      <span class="attr">routes:</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">id:</span> <span class="string">order-service</span></span><br><span class="line">          <span class="attr">uri:</span> <span class="string">lb://microservice-order</span></span><br><span class="line">          <span class="attr">predicates:</span></span><br><span class="line">            <span class="bullet">-</span> <span class="string">Path=/api/order/**</span></span><br><span class="line">          <span class="attr">filters:</span></span><br><span class="line">            <span class="bullet">-</span> <span class="string">StripPrefix=1</span></span><br><span class="line">        <span class="bullet">-</span> <span class="attr">id:</span> <span class="string">product-service</span></span><br><span class="line">          <span class="attr">uri:</span> <span class="string">lb://microservice-product</span></span><br><span class="line">          <span class="attr">predicates:</span></span><br><span class="line">            <span class="bullet">-</span> <span class="string">Path=/api/product/**</span></span><br><span class="line">          <span class="attr">filters:</span></span><br><span class="line">            <span class="bullet">-</span> <span class="string">StripPrefix=1</span></span><br></pre></td></tr></table></figure><p><strong>3.3 æ·»åŠ å…¨å±€è¿‡æ»¤å™¨</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AuthGlobalFilter</span> <span class="keyword">implements</span> <span class="title">GlobalFilter</span>, <span class="title">Ordered</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Mono&lt;Void&gt; <span class="title">filter</span><span class="params">(ServerWebExchange exchange, GatewayFilterChain chain)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// å®ç°è®¤è¯æˆæƒé€»è¾‘</span></span><br><span class="line">        String token = exchange.getRequest().getHeaders().getFirst(<span class="string">&quot;Authorization&quot;</span>);</span><br><span class="line">        <span class="keyword">if</span> (token == <span class="keyword">null</span> || !token.startsWith(<span class="string">&quot;Bearer &quot;</span>)) &#123;</span><br><span class="line">            exchange.getResponse().setStatusCode(HttpStatus.UNAUTHORIZED);</span><br><span class="line">            <span class="keyword">return</span> exchange.getResponse().setComplete();</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// éªŒè¯token...</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> chain.filter(exchange);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getOrder</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> -<span class="number">100</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="4-æœåŠ¡è°ƒç”¨ï¼ˆDubbo-Spring-Cloud-OpenFeignï¼‰"><a href="#4-æœåŠ¡è°ƒç”¨ï¼ˆDubbo-Spring-Cloud-OpenFeignï¼‰" class="headerlink" title="4. æœåŠ¡è°ƒç”¨ï¼ˆDubbo/Spring Cloud OpenFeignï¼‰"></a>4. æœåŠ¡è°ƒç”¨ï¼ˆDubbo/Spring Cloud OpenFeignï¼‰</h3><p><strong>4.1 ä½¿ç”¨Spring Cloud OpenFeign</strong></p><p>æ·»åŠ ä¾èµ–ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-starter-openfeign<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p>åˆ›å»ºFeignå®¢æˆ·ç«¯ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@FeignClient(name = &quot;microservice-product&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">ProductClient</span> </span>&#123;</span><br><span class="line">    <span class="meta">@GetMapping(&quot;/products/&#123;id&#125;&quot;)</span></span><br><span class="line">    <span class="function">Product <span class="title">getProductById</span><span class="params">(<span class="meta">@PathVariable(&quot;id&quot;)</span> Long id)</span></span>;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@PostMapping(&quot;/products/inventory&quot;)</span></span><br><span class="line">    <span class="function">Boolean <span class="title">reduceInventory</span><span class="params">(<span class="meta">@RequestBody</span> InventoryDTO inventoryDTO)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨å¯åŠ¨ç±»ä¸Šæ·»åŠ <code>@EnableFeignClients</code>æ³¨è§£ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@SpringBootApplication</span></span><br><span class="line"><span class="meta">@EnableDiscoveryClient</span></span><br><span class="line"><span class="meta">@EnableFeignClients</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">OrderServiceApplication</span> </span>&#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>4.2 ä½¿ç”¨Dubbo</strong>ï¼ˆå¯é€‰ï¼‰</p><p>å¦‚æœå¯¹æ€§èƒ½æœ‰æ›´é«˜è¦æ±‚ï¼Œå¯ä»¥ä½¿ç”¨Dubboè¿›è¡ŒæœåŠ¡è°ƒç”¨ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.alibaba.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-starter-dubbo<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å®šä¹‰æœåŠ¡æ¥å£ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">ProductService</span> </span>&#123;</span><br><span class="line">    <span class="function">Product <span class="title">getProduct</span><span class="params">(Long id)</span></span>;</span><br><span class="line">    <span class="function">Boolean <span class="title">reduceInventory</span><span class="params">(Long productId, Integer quantity)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æœåŠ¡æä¾›è€…å®ç°ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@DubboService</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ProductServiceImpl</span> <span class="keyword">implements</span> <span class="title">ProductService</span> </span>&#123;</span><br><span class="line">    <span class="comment">// å®ç°æœåŠ¡æ¥å£</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æœåŠ¡æ¶ˆè´¹è€…è°ƒç”¨ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">OrderService</span> </span>&#123;</span><br><span class="line">    <span class="meta">@DubboReference</span></span><br><span class="line">    <span class="keyword">private</span> ProductService productService;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// ä½¿ç”¨productServiceè°ƒç”¨æœåŠ¡</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å››ã€è¯¦è§£é«˜çº§æ²»ç†æ–¹æ¡ˆï¼šé™æµã€ç†”æ–­ä¸é™çº§-ğŸ›¡ï¸"><a href="#å››ã€è¯¦è§£é«˜çº§æ²»ç†æ–¹æ¡ˆï¼šé™æµã€ç†”æ–­ä¸é™çº§-ğŸ›¡ï¸" class="headerlink" title="å››ã€è¯¦è§£é«˜çº§æ²»ç†æ–¹æ¡ˆï¼šé™æµã€ç†”æ–­ä¸é™çº§ ğŸ›¡ï¸"></a>å››ã€è¯¦è§£é«˜çº§æ²»ç†æ–¹æ¡ˆï¼šé™æµã€ç†”æ–­ä¸é™çº§ ğŸ›¡ï¸</h2><h3 id="1-æµé‡æ§åˆ¶ï¼ˆSentinelï¼‰"><a href="#1-æµé‡æ§åˆ¶ï¼ˆSentinelï¼‰" class="headerlink" title="1. æµé‡æ§åˆ¶ï¼ˆSentinelï¼‰"></a>1. æµé‡æ§åˆ¶ï¼ˆSentinelï¼‰</h3><p>Sentinelæ˜¯é˜¿é‡Œå·´å·´å¼€æºçš„æµé‡æ§åˆ¶å’Œç†”æ–­é™çº§ç»„ä»¶ï¼Œå…·æœ‰å¼ºå¤§çš„æµé‡æ§åˆ¶ã€ç†”æ–­é™çº§ã€ç³»ç»Ÿè´Ÿè½½ä¿æŠ¤ç­‰åŠŸèƒ½ã€‚</p><p><strong>1.1 æ·»åŠ ä¾èµ–</strong></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.alibaba.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-starter-alibaba-sentinel<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-starter-gateway<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.alibaba.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-alibaba-sentinel-gateway<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>1.2 é…ç½®Sentinel</strong></p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">cloud:</span></span><br><span class="line">    <span class="attr">sentinel:</span></span><br><span class="line">      <span class="attr">transport:</span></span><br><span class="line">        <span class="attr">dashboard:</span> <span class="string">localhost:8080</span></span><br><span class="line">        <span class="attr">port:</span> <span class="number">8719</span></span><br><span class="line">      <span class="attr">datasource:</span></span><br><span class="line">        <span class="attr">ds:</span></span><br><span class="line">          <span class="attr">nacos:</span></span><br><span class="line">            <span class="attr">server-addr:</span> <span class="string">localhost:8848</span></span><br><span class="line">            <span class="attr">dataId:</span> <span class="string">sentinel-rules</span></span><br><span class="line">            <span class="attr">groupId:</span> <span class="string">DEFAULT_GROUP</span></span><br><span class="line">            <span class="attr">rule-type:</span> <span class="string">flow</span></span><br></pre></td></tr></table></figure><p><strong>1.3 å®šä¹‰é™æµè§„åˆ™</strong></p><p>åœ¨Nacosä¸­åˆ›å»º<code>sentinel-rules</code>é…ç½®ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="attr">&quot;resource&quot;</span>: <span class="string">&quot;microservice-order&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;limitApp&quot;</span>: <span class="string">&quot;default&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;grade&quot;</span>: <span class="number">1</span>,</span><br><span class="line">    <span class="attr">&quot;count&quot;</span>: <span class="number">100</span>,</span><br><span class="line">    <span class="attr">&quot;strategy&quot;</span>: <span class="number">0</span>,</span><br><span class="line">    <span class="attr">&quot;controlBehavior&quot;</span>: <span class="number">0</span>,</span><br><span class="line">    <span class="attr">&quot;clusterMode&quot;</span>: <span class="literal">false</span></span><br><span class="line">  &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure><p><strong>1.4 ä½¿ç”¨æ³¨è§£å®šä¹‰èµ„æº</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">OrderServiceImpl</span> <span class="keyword">implements</span> <span class="title">OrderService</span> </span>&#123;</span><br><span class="line">    <span class="meta">@SentinelResource(value = &quot;createOrder&quot;, blockHandler = &quot;handleBlock&quot;, fallback = &quot;handleFallback&quot;)</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Order <span class="title">createOrder</span><span class="params">(OrderDTO orderDTO)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// åˆ›å»ºè®¢å•é€»è¾‘</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// å¤„ç†é™æµé€»è¾‘</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Order <span class="title">handleBlock</span><span class="params">(OrderDTO orderDTO, BlockException ex)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// é™æµå¤„ç†</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Order().setMessage(<span class="string">&quot;å½“å‰è¯·æ±‚è¿‡å¤šï¼Œè¯·ç¨åå†è¯•&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// å¤„ç†é™çº§é€»è¾‘</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Order <span class="title">handleFallback</span><span class="params">(OrderDTO orderDTO, Throwable throwable)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// é™çº§å¤„ç†</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Order().setMessage(<span class="string">&quot;ç³»ç»Ÿç¹å¿™ï¼Œè¯·ç¨åå†è¯•&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="2-é“¾è·¯è¿½è¸ªï¼ˆSkyWalkingï¼‰"><a href="#2-é“¾è·¯è¿½è¸ªï¼ˆSkyWalkingï¼‰" class="headerlink" title="2. é“¾è·¯è¿½è¸ªï¼ˆSkyWalkingï¼‰"></a>2. é“¾è·¯è¿½è¸ªï¼ˆSkyWalkingï¼‰</h3><p>SkyWalkingæ˜¯ä¸€ä¸ªå¼€æºçš„å¯è§‚æµ‹æ€§å¹³å°ï¼Œæä¾›åˆ†å¸ƒå¼è¿½è¸ªã€æœåŠ¡ç½‘æ ¼é¥æµ‹åˆ†æã€åº¦é‡èšåˆå’Œå¯è§†åŒ–ä¸€ä½“åŒ–è§£å†³æ–¹æ¡ˆã€‚</p><p><strong>2.1 å®‰è£…å’Œå¯åŠ¨SkyWalking</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ä¸‹è½½SkyWalking</span></span><br><span class="line">wget https://dlcdn.apache.org/skywalking/9.7.0/apache-skywalking-apm-9.7.0.tar.gz</span><br><span class="line"></span><br><span class="line">tar -zxvf apache-skywalking-apm-9.7.0.tar.gz</span><br><span class="line"><span class="built_in">cd</span> apache-skywalking-apm-bin/bin</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¯åŠ¨SkyWalking OAPæœåŠ¡</span></span><br><span class="line">sh startup.sh</span><br></pre></td></tr></table></figure><p><strong>2.2 é…ç½®å¾®æœåŠ¡æ¥å…¥SkyWalking</strong></p><p>æ·»åŠ JVMå‚æ•°ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">-javaagent:/path/to/skywalking-agent/skywalking-agent.jar</span><br><span class="line">-Dskywalking.agent.service_name=microservice-order</span><br><span class="line">-Dskywalking.collector.backend_service=localhost:11800</span><br></pre></td></tr></table></figure><h3 id="3-åˆ†å¸ƒå¼äº‹åŠ¡ï¼ˆSeataï¼‰"><a href="#3-åˆ†å¸ƒå¼äº‹åŠ¡ï¼ˆSeataï¼‰" class="headerlink" title="3. åˆ†å¸ƒå¼äº‹åŠ¡ï¼ˆSeataï¼‰"></a>3. åˆ†å¸ƒå¼äº‹åŠ¡ï¼ˆSeataï¼‰</h3><p>åœ¨å¾®æœåŠ¡æ¶æ„ä¸­ï¼Œä¿è¯æ•°æ®ä¸€è‡´æ€§æ˜¯ä¸€ä¸ªæŒ‘æˆ˜ã€‚Seataæ˜¯é˜¿é‡Œå·´å·´å¼€æºçš„åˆ†å¸ƒå¼äº‹åŠ¡è§£å†³æ–¹æ¡ˆã€‚</p><p><strong>3.1 å®‰è£…å’Œé…ç½®Seata Server</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ä¸‹è½½Seata</span></span><br><span class="line">wget https://github.com/seata/seata/releases/download/v2.0.0/seata-server-2.0.0.tar.gz</span><br><span class="line"></span><br><span class="line">tar -zxvf seata-server-2.0.0.tar.gz</span><br><span class="line"><span class="built_in">cd</span> seata-server-2.0.0</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¯åŠ¨Seata Server</span></span><br><span class="line">sh bin/seata-server.sh -p 8091 -h 127.0.0.1</span><br></pre></td></tr></table></figure><p><strong>3.2 é…ç½®å¾®æœåŠ¡æ¥å…¥Seata</strong></p><p>æ·»åŠ ä¾èµ–ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.alibaba.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-starter-alibaba-seata<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p>é…ç½®Seataï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">seata:</span></span><br><span class="line">  <span class="attr">application-id:</span> <span class="string">$&#123;spring.application.name&#125;</span></span><br><span class="line">  <span class="attr">tx-service-group:</span> <span class="string">my_test_tx_group</span></span><br><span class="line">  <span class="attr">service:</span></span><br><span class="line">    <span class="attr">vgroup-mapping:</span></span><br><span class="line">      <span class="attr">my_test_tx_group:</span> <span class="string">default</span></span><br><span class="line">    <span class="attr">grouplist:</span></span><br><span class="line">      <span class="attr">default:</span> <span class="string">localhost:8091</span></span><br><span class="line">  <span class="attr">registry:</span></span><br><span class="line">    <span class="attr">type:</span> <span class="string">nacos</span></span><br><span class="line">    <span class="attr">nacos:</span></span><br><span class="line">      <span class="attr">server-addr:</span> <span class="string">localhost:8848</span></span><br><span class="line">      <span class="attr">namespace:</span> <span class="string">&quot;&quot;</span></span><br><span class="line">      <span class="attr">group:</span> <span class="string">DEFAULT_GROUP</span></span><br><span class="line">      <span class="attr">application:</span> <span class="string">seata-server</span></span><br></pre></td></tr></table></figure><p><strong>3.3 ä½¿ç”¨Seataè¿›è¡Œäº‹åŠ¡ç®¡ç†</strong></p><p>åœ¨ä¸šåŠ¡æ–¹æ³•ä¸Šæ·»åŠ <code>@GlobalTransactional</code>æ³¨è§£ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">OrderServiceImpl</span> <span class="keyword">implements</span> <span class="title">OrderService</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> OrderMapper orderMapper;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> ProductClient productClient;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@GlobalTransactional</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Order <span class="title">createOrder</span><span class="params">(OrderDTO orderDTO)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// åˆ›å»ºè®¢å•</span></span><br><span class="line">        Order order = <span class="keyword">new</span> Order();</span><br><span class="line">        order.setUserId(orderDTO.getUserId());</span><br><span class="line">        order.setProductId(orderDTO.getProductId());</span><br><span class="line">        order.setQuantity(orderDTO.getQuantity());</span><br><span class="line">        orderMapper.insert(order);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// æ‰£å‡åº“å­˜</span></span><br><span class="line">        <span class="keyword">boolean</span> success = productClient.reduceInventory(</span><br><span class="line">            <span class="keyword">new</span> InventoryDTO().setProductId(orderDTO.getProductId())</span><br><span class="line">                             .setQuantity(orderDTO.getQuantity())</span><br><span class="line">        );</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> (!success) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> RuntimeException(<span class="string">&quot;æ‰£å‡åº“å­˜å¤±è´¥&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> order;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="äº”ã€å¤§è§„æ¨¡å¾®æœåŠ¡é›†ç¾¤çš„ç›‘æ§ä¸å‘Šè­¦å®è·µ-ğŸ“Š"><a href="#äº”ã€å¤§è§„æ¨¡å¾®æœåŠ¡é›†ç¾¤çš„ç›‘æ§ä¸å‘Šè­¦å®è·µ-ğŸ“Š" class="headerlink" title="äº”ã€å¤§è§„æ¨¡å¾®æœåŠ¡é›†ç¾¤çš„ç›‘æ§ä¸å‘Šè­¦å®è·µ ğŸ“Š"></a>äº”ã€å¤§è§„æ¨¡å¾®æœåŠ¡é›†ç¾¤çš„ç›‘æ§ä¸å‘Šè­¦å®è·µ ğŸ“Š</h2><h3 id="1-ç›‘æ§ä½“ç³»æ¶æ„"><a href="#1-ç›‘æ§ä½“ç³»æ¶æ„" class="headerlink" title="1. ç›‘æ§ä½“ç³»æ¶æ„"></a>1. ç›‘æ§ä½“ç³»æ¶æ„</h3><p>ä¸€ä¸ªå®Œæ•´çš„å¾®æœåŠ¡ç›‘æ§ä½“ç³»åº”åŒ…æ‹¬ä»¥ä¸‹å‡ ä¸ªæ–¹é¢ï¼š</p><ul><li><strong>æŒ‡æ ‡ç›‘æ§</strong>ï¼šæ”¶é›†å’Œå±•ç¤ºç³»ç»Ÿè¿è¡ŒæŒ‡æ ‡</li><li><strong>æ—¥å¿—ç®¡ç†</strong>ï¼šé›†ä¸­æ”¶é›†ã€å­˜å‚¨å’Œåˆ†ææ—¥å¿—</li><li><strong>é“¾è·¯è¿½è¸ª</strong>ï¼šè¿½è¸ªè¯·æ±‚çš„å®Œæ•´è°ƒç”¨é“¾è·¯</li><li><strong>å¥åº·æ£€æŸ¥</strong>ï¼šç›‘æ§æœåŠ¡çš„å¥åº·çŠ¶æ€</li><li><strong>å‘Šè­¦é€šçŸ¥</strong>ï¼šåŠæ—¶å‘ç°å’Œé€šçŸ¥é—®é¢˜</li></ul><h3 id="2-åŸºäºPrometheuså’ŒGrafanaçš„æŒ‡æ ‡ç›‘æ§"><a href="#2-åŸºäºPrometheuså’ŒGrafanaçš„æŒ‡æ ‡ç›‘æ§" class="headerlink" title="2. åŸºäºPrometheuså’ŒGrafanaçš„æŒ‡æ ‡ç›‘æ§"></a>2. åŸºäºPrometheuså’ŒGrafanaçš„æŒ‡æ ‡ç›‘æ§</h3><p><strong>2.1 éƒ¨ç½²Prometheus</strong></p><p>åˆ›å»ºPrometheusé…ç½®æ–‡ä»¶<code>prometheus.yml</code>ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">global:</span></span><br><span class="line">  <span class="attr">scrape_interval:</span> <span class="string">15s</span></span><br><span class="line">  <span class="attr">evaluation_interval:</span> <span class="string">15s</span></span><br><span class="line"></span><br><span class="line"><span class="attr">scrape_configs:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">job_name:</span> <span class="string">&#x27;spring-actuator&#x27;</span></span><br><span class="line">    <span class="attr">metrics_path:</span> <span class="string">&#x27;/actuator/prometheus&#x27;</span></span><br><span class="line">    <span class="attr">scrape_interval:</span> <span class="string">5s</span></span><br><span class="line">    <span class="attr">static_configs:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">targets:</span> [<span class="string">&#x27;localhost:8080&#x27;</span>, <span class="string">&#x27;localhost:8081&#x27;</span>]  <span class="comment"># å¾®æœåŠ¡å®ä¾‹åœ°å€</span></span><br></pre></td></tr></table></figure><p>å¯åŠ¨Prometheusï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -d -p 9090:9090 -v /path/to/prometheus.yml:/etc/prometheus/prometheus.yml prom/prometheus</span><br></pre></td></tr></table></figure><p><strong>2.2 é…ç½®å¾®æœåŠ¡æš´éœ²æŒ‡æ ‡</strong></p><p>æ·»åŠ ä¾èµ–ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-actuator<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>io.micrometer<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>micrometer-registry-prometheus<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p>é…ç½®Actuatorï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">management:</span></span><br><span class="line">  <span class="attr">endpoints:</span></span><br><span class="line">    <span class="attr">web:</span></span><br><span class="line">      <span class="attr">exposure:</span></span><br><span class="line">        <span class="attr">include:</span> <span class="string">prometheus,health,info,metrics</span></span><br><span class="line">  <span class="attr">endpoint:</span></span><br><span class="line">    <span class="attr">health:</span></span><br><span class="line">      <span class="attr">show-details:</span> <span class="string">always</span></span><br><span class="line">  <span class="attr">metrics:</span></span><br><span class="line">    <span class="attr">export:</span></span><br><span class="line">      <span class="attr">prometheus:</span></span><br><span class="line">        <span class="attr">enabled:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><p><strong>2.3 éƒ¨ç½²Grafanaå¹¶é…ç½®Dashboard</strong></p><p>å¯åŠ¨Grafanaï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -d -p 3000:3000 grafana/grafana</span><br></pre></td></tr></table></figure><p>åœ¨Grafanaä¸­æ·»åŠ Prometheusæ•°æ®æºï¼Œå¹¶å¯¼å…¥Spring Bootç›¸å…³çš„Dashboardï¼ˆæ¨èä½¿ç”¨IDä¸º12856çš„Dashboardï¼‰ã€‚</p><h3 id="3-åŸºäºELKçš„æ—¥å¿—ç®¡ç†"><a href="#3-åŸºäºELKçš„æ—¥å¿—ç®¡ç†" class="headerlink" title="3. åŸºäºELKçš„æ—¥å¿—ç®¡ç†"></a>3. åŸºäºELKçš„æ—¥å¿—ç®¡ç†</h3><p><strong>3.1 éƒ¨ç½²ELK Stack</strong></p><p>ä½¿ç”¨Docker Composeéƒ¨ç½²ELK Stackï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">version:</span> <span class="string">&#x27;3&#x27;</span></span><br><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">elasticsearch:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">elasticsearch:8.10.0</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;9200:9200&quot;</span></span><br><span class="line">    <span class="attr">environment:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">discovery.type=single-node</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">ES_JAVA_OPTS=-Xms512m</span> <span class="string">-Xmx512m</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">xpack.security.enabled=false</span></span><br><span class="line">  <span class="attr">logstash:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">logstash:8.10.0</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;5044:5044&quot;</span></span><br><span class="line">    <span class="attr">volumes:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">./logstash.conf:/usr/share/logstash/pipeline/logstash.conf</span></span><br><span class="line">    <span class="attr">depends_on:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">elasticsearch</span></span><br><span class="line">  <span class="attr">kibana:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">kibana:8.10.0</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">&quot;5601:5601&quot;</span></span><br><span class="line">    <span class="attr">depends_on:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">elasticsearch</span></span><br></pre></td></tr></table></figure><p><strong>3.2 é…ç½®å¾®æœåŠ¡è¾“å‡ºç»“æ„åŒ–æ—¥å¿—</strong></p><p>æ·»åŠ Logbacké…ç½®ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">appender</span> <span class="attr">name</span>=<span class="string">&quot;LOGSTASH&quot;</span> <span class="attr">class</span>=<span class="string">&quot;net.logstash.logback.appender.LogstashTcpSocketAppender&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">destination</span>&gt;</span>localhost:5044<span class="tag">&lt;/<span class="name">destination</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">encoder</span> <span class="attr">class</span>=<span class="string">&quot;net.logstash.logback.encoder.LogstashEncoder&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">customFields</span>&gt;</span>&#123;</span><br><span class="line">        &quot;app_name&quot;:&quot;$&#123;spring.application.name&#125;&quot;,</span><br><span class="line">        &quot;environment&quot;:&quot;$&#123;spring.profiles.active&#125;&quot;</span><br><span class="line">      &#125;<span class="tag">&lt;/<span class="name">customFields</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">encoder</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">appender</span>&gt;</span></span><br><span class="line">  </span><br><span class="line">  <span class="tag">&lt;<span class="name">root</span> <span class="attr">level</span>=<span class="string">&quot;INFO&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">appender-ref</span> <span class="attr">ref</span>=<span class="string">&quot;LOGSTASH&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">appender-ref</span> <span class="attr">ref</span>=<span class="string">&quot;CONSOLE&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">root</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="4-å‘Šè­¦ç³»ç»Ÿé…ç½®"><a href="#4-å‘Šè­¦ç³»ç»Ÿé…ç½®" class="headerlink" title="4. å‘Šè­¦ç³»ç»Ÿé…ç½®"></a>4. å‘Šè­¦ç³»ç»Ÿé…ç½®</h3><p><strong>4.1 åœ¨Prometheusä¸­é…ç½®å‘Šè­¦è§„åˆ™</strong></p><p>åˆ›å»ºå‘Šè­¦è§„åˆ™æ–‡ä»¶<code>alerts.yml</code>ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">groups:</span></span><br><span class="line"><span class="bullet">-</span> <span class="attr">name:</span> <span class="string">spring-boot-alerts</span></span><br><span class="line">  <span class="attr">rules:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">alert:</span> <span class="string">HighCpuUsage</span></span><br><span class="line">    <span class="attr">expr:</span> <span class="number">100</span> <span class="bullet">-</span> <span class="string">(avg</span> <span class="string">by(instance)</span> <span class="string">(irate(node_cpu_seconds_total&#123;mode=&quot;idle&quot;&#125;[5m]))</span> <span class="string">*</span> <span class="number">100</span><span class="string">)</span> <span class="string">&gt;</span> <span class="number">80</span></span><br><span class="line">    <span class="attr">for:</span> <span class="string">5m</span></span><br><span class="line">    <span class="attr">labels:</span></span><br><span class="line">      <span class="attr">severity:</span> <span class="string">warning</span></span><br><span class="line">    <span class="attr">annotations:</span></span><br><span class="line">      <span class="attr">summary:</span> <span class="string">&quot;High CPU usage detected&quot;</span></span><br><span class="line">      <span class="attr">description:</span> <span class="string">&quot;CPU usage is above 80% for 5 minutes&quot;</span></span><br><span class="line">  </span><br><span class="line">  <span class="bullet">-</span> <span class="attr">alert:</span> <span class="string">ServiceDown</span></span><br><span class="line">    <span class="attr">expr:</span> <span class="string">up</span> <span class="string">==</span> <span class="number">0</span></span><br><span class="line">    <span class="attr">for:</span> <span class="string">1m</span></span><br><span class="line">    <span class="attr">labels:</span></span><br><span class="line">      <span class="attr">severity:</span> <span class="string">critical</span></span><br><span class="line">    <span class="attr">annotations:</span></span><br><span class="line">      <span class="attr">summary:</span> <span class="string">&quot;Service is down&quot;</span></span><br><span class="line">      <span class="attr">description:</span> <span class="string">&quot;Service <span class="template-variable">&#123;&#123; $labels.instance &#125;&#125;</span> has been down for 1 minute&quot;</span></span><br></pre></td></tr></table></figure><p>åœ¨Prometheusé…ç½®æ–‡ä»¶ä¸­å¼•ç”¨å‘Šè­¦è§„åˆ™ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">rule_files:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">&quot;alerts.yml&quot;</span></span><br></pre></td></tr></table></figure><p><strong>4.2 é…ç½®Alertmanager</strong></p><p>åˆ›å»ºAlertmanageré…ç½®æ–‡ä»¶<code>alertmanager.yml</code>ï¼š</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">route:</span></span><br><span class="line">  <span class="attr">receiver:</span> <span class="string">&#x27;email-notifications&#x27;</span></span><br><span class="line"><span class="attr">receivers:</span></span><br><span class="line"><span class="bullet">-</span> <span class="attr">name:</span> <span class="string">&#x27;email-notifications&#x27;</span></span><br><span class="line">  <span class="attr">email_configs:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">to:</span> <span class="string">&#x27;admin@example.com&#x27;</span></span><br><span class="line">    <span class="attr">from:</span> <span class="string">&#x27;alertmanager@example.com&#x27;</span></span><br><span class="line">    <span class="attr">smarthost:</span> <span class="string">&#x27;smtp.example.com:587&#x27;</span></span><br><span class="line">    <span class="attr">auth_username:</span> <span class="string">&#x27;alertmanager&#x27;</span></span><br><span class="line">    <span class="attr">auth_password:</span> <span class="string">&#x27;password&#x27;</span></span><br></pre></td></tr></table></figure><p>å¯åŠ¨Alertmanagerï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -d -p 9093:9093 -v /path/to/alertmanager.yml:/etc/alertmanager/alertmanager.yml prom/alertmanager</span><br></pre></td></tr></table></figure><h2 id="å…­ã€æ€»ç»“ä¸æœ€ä½³å®è·µå»ºè®®-ğŸ“"><a href="#å…­ã€æ€»ç»“ä¸æœ€ä½³å®è·µå»ºè®®-ğŸ“" class="headerlink" title="å…­ã€æ€»ç»“ä¸æœ€ä½³å®è·µå»ºè®® ğŸ“"></a>å…­ã€æ€»ç»“ä¸æœ€ä½³å®è·µå»ºè®® ğŸ“</h2><p>é€šè¿‡æœ¬æ–‡çš„ä»‹ç»ï¼Œæˆ‘ä»¬è¯¦ç»†è®²è§£äº†å¦‚ä½•åŸºäºSpring Cloud Alibabaæ„å»ºä¸€ä¸ªå®Œæ•´çš„å¾®æœåŠ¡æ²»ç†å¹³å°ï¼ŒåŒ…æ‹¬æœåŠ¡æ³¨å†Œå‘ç°ã€é…ç½®ç®¡ç†ã€APIç½‘å…³ã€æœåŠ¡è°ƒç”¨ã€æµé‡æ§åˆ¶ã€é“¾è·¯è¿½è¸ªã€åˆ†å¸ƒå¼äº‹åŠ¡ä»¥åŠç›‘æ§å‘Šè­¦ç­‰æ ¸å¿ƒç»„ä»¶çš„å®ç°æ–¹æ³•ã€‚</p><p>ä»¥ä¸‹æ˜¯ä¸€äº›åœ¨å®è·µä¸­æ€»ç»“çš„æœ€ä½³å®è·µå»ºè®®ï¼š</p><ol><li><p><strong>ä»å°è§„æ¨¡å¼€å§‹ï¼Œé€æ­¥æ‰©å±•</strong>ï¼šä¸è¦ä¸€å¼€å§‹å°±å°è¯•æ„å»ºä¸€ä¸ªéå¸¸å¤æ‚çš„å¾®æœåŠ¡ç³»ç»Ÿï¼Œåº”è¯¥ä»å°è§„æ¨¡å¼€å§‹ï¼Œç§¯ç´¯ç»éªŒåå†é€æ­¥æ‰©å±•ã€‚</p></li><li><p><strong>ç»Ÿä¸€æŠ€æœ¯æ ˆå’Œè§„èŒƒ</strong>ï¼šåœ¨å›¢é˜Ÿå†…éƒ¨ç»Ÿä¸€æŠ€æœ¯æ ˆå’Œå¼€å‘è§„èŒƒï¼Œå‡å°‘æ²Ÿé€šæˆæœ¬å’Œç»´æŠ¤éš¾åº¦ã€‚</p></li><li><p><strong>è‡ªåŠ¨åŒ–éƒ¨ç½²å’Œè¿ç»´</strong>ï¼šå°½å¯èƒ½å®ç°è‡ªåŠ¨åŒ–éƒ¨ç½²ã€è‡ªåŠ¨åŒ–æµ‹è¯•å’Œè‡ªåŠ¨åŒ–è¿ç»´ï¼Œæé«˜å¼€å‘å’Œè¿ç»´æ•ˆç‡ã€‚</p></li><li><p><strong>é‡è§†å®‰å…¨</strong>ï¼šåœ¨å¾®æœåŠ¡æ¶æ„ä¸­ï¼Œå®‰å…¨é—®é¢˜æ›´åŠ çªå‡ºï¼Œåº”è¯¥é‡è§†è®¤è¯æˆæƒã€æ•°æ®åŠ å¯†ã€è®¿é—®æ§åˆ¶ç­‰å®‰å…¨æªæ–½ã€‚</p></li><li><p><strong>æŒç»­ä¼˜åŒ–</strong>ï¼šå¾®æœåŠ¡æ²»ç†æ˜¯ä¸€ä¸ªæŒç»­çš„è¿‡ç¨‹ï¼Œéœ€è¦ä¸æ–­åœ°ç›‘æ§ã€åˆ†æå’Œä¼˜åŒ–ç³»ç»Ÿæ€§èƒ½å’Œç¨³å®šæ€§ã€‚</p></li></ol><p>å¾®æœåŠ¡æ²»ç†æ˜¯ä¸€ä¸ªå¤æ‚è€Œåºå¤§çš„è¯é¢˜ï¼Œæœ¬æ–‡åªæ˜¯ä»‹ç»äº†å…¶ä¸­çš„ä¸€éƒ¨åˆ†å†…å®¹ã€‚å¸Œæœ›æœ¬æ–‡èƒ½å¤Ÿä¸ºä½ æ„å»ºè‡ªå·±çš„å¾®æœåŠ¡æ²»ç†å¹³å°æä¾›ä¸€äº›å‚è€ƒå’Œå¸®åŠ©ã€‚å¦‚æœä½ æœ‰ä»»ä½•é—®é¢˜æˆ–å»ºè®®ï¼Œæ¬¢è¿åœ¨è¯„è®ºåŒºç•™è¨€è®¨è®ºï¼ğŸ˜Š</p>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;/assets/css/APlayer.min.css&quot;&gt;&lt;script src=&quot;/assets/js/APlayer.min.js&quot; cla</summary>
      
    
    
    
    
    <category term="å¾®æœåŠ¡" scheme="https://blog.zhuyizhuo.online/tags/%E5%BE%AE%E6%9C%8D%E5%8A%A1/"/>
    
    <category term="SpringCloud" scheme="https://blog.zhuyizhuo.online/tags/SpringCloud/"/>
    
    <category term="æœåŠ¡æ²»ç†" scheme="https://blog.zhuyizhuo.online/tags/%E6%9C%8D%E5%8A%A1%E6%B2%BB%E7%90%86/"/>
    
    <category term="æ¶æ„è®¾è®¡" scheme="https://blog.zhuyizhuo.online/tags/%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1/"/>
    
  </entry>
  
  <entry>
    <title>Spring Boot 3.xæ–°ç‰¹æ€§è½åœ°å®è·µ</title>
    <link href="https://blog.zhuyizhuo.online/2024/07/22/spring-boot/2024-spring-boot-3-new-features/"/>
    <id>https://blog.zhuyizhuo.online/2024/07/22/spring-boot/2024-spring-boot-3-new-features/</id>
    <published>2024-07-21T16:00:00.000Z</published>
    <updated>2025-09-26T09:35:16.411Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="Spring-Boot-3-xæ–°ç‰¹æ€§è½åœ°å®è·µ-ğŸš€"><a href="#Spring-Boot-3-xæ–°ç‰¹æ€§è½åœ°å®è·µ-ğŸš€" class="headerlink" title="Spring Boot 3.xæ–°ç‰¹æ€§è½åœ°å®è·µ ğŸš€"></a>Spring Boot 3.xæ–°ç‰¹æ€§è½åœ°å®è·µ ğŸš€</h1><p>å¤§å®¶å¥½ï¼ğŸ‘‹ éšç€Spring Boot 3.xçš„æ­£å¼å‘å¸ƒï¼Œæˆ‘ä»¬è¿æ¥äº†è®¸å¤šä»¤äººæ¿€åŠ¨çš„æ–°ç‰¹æ€§å’Œæ”¹è¿›ã€‚ä½œä¸ºä¸€åSpringç”Ÿæ€çš„å¿ å®ç”¨æˆ·ï¼Œæˆ‘åœ¨å¤šä¸ªé¡¹ç›®ä¸­å®Œæˆäº†ä»Spring Boot 2.xåˆ°3.xçš„å‡çº§ï¼Œå¹¶ç§¯ç´¯äº†ä¸€äº›å®è´µçš„ç»éªŒã€‚ä»Šå¤©ï¼Œæˆ‘å°†å’Œå¤§å®¶åˆ†äº«Spring Boot 3.xçš„æ ¸å¿ƒæ–°ç‰¹æ€§ä»¥åŠè½åœ°å®è·µä¸­çš„æœ€ä½³æ–¹æ¡ˆã€‚</p><h2 id="ä¸€ã€Spring-Boot-3-xçš„æ ¸å¿ƒæ–°ç‰¹æ€§-ğŸŒŸ"><a href="#ä¸€ã€Spring-Boot-3-xçš„æ ¸å¿ƒæ–°ç‰¹æ€§-ğŸŒŸ" class="headerlink" title="ä¸€ã€Spring Boot 3.xçš„æ ¸å¿ƒæ–°ç‰¹æ€§ ğŸŒŸ"></a>ä¸€ã€Spring Boot 3.xçš„æ ¸å¿ƒæ–°ç‰¹æ€§ ğŸŒŸ</h2><h3 id="1-åŸºäºJava-17çš„æœ€ä½è¦æ±‚"><a href="#1-åŸºäºJava-17çš„æœ€ä½è¦æ±‚" class="headerlink" title="1. åŸºäºJava 17çš„æœ€ä½è¦æ±‚"></a>1. åŸºäºJava 17çš„æœ€ä½è¦æ±‚</h3><p>Spring Boot 3.xå°†æœ€ä½æ”¯æŒçš„Javaç‰ˆæœ¬æå‡åˆ°äº†Java 17ï¼Œè¿™æ„å‘³ç€æˆ‘ä»¬å¯ä»¥äº«å—Java 17å¸¦æ¥çš„æ‰€æœ‰æ–°ç‰¹æ€§å’Œæ€§èƒ½æ”¹è¿›ï¼š</p><ul><li>å¯†å°ç±»ï¼ˆSealed Classesï¼‰</li><li>æ¨¡å¼åŒ¹é…ï¼ˆPattern Matchingï¼‰</li><li>æ–‡æœ¬å—ï¼ˆText Blocksï¼‰</li><li>æ”¹è¿›çš„åƒåœ¾æ”¶é›†å™¨</li><li>æ€§èƒ½ä¼˜åŒ–</li></ul><h3 id="2-å…¨é¢æ”¯æŒJakarta-EE-10"><a href="#2-å…¨é¢æ”¯æŒJakarta-EE-10" class="headerlink" title="2. å…¨é¢æ”¯æŒJakarta EE 10"></a>2. å…¨é¢æ”¯æŒJakarta EE 10</h3><p>Spring Boot 3.xå…¨é¢æ”¯æŒJakarta EE 10ï¼Œè¿™æ˜¯Java EEçš„æ–°ä¸€ä»£æ¼”è¿›ç‰ˆæœ¬ã€‚ä¸»è¦å˜åŒ–åŒ…æ‹¬ï¼š</p><ul><li>åŒ…åä»<code>javax.*</code>è¿ç§»åˆ°<code>jakarta.*</code></li><li>Servlet API 6.0æ”¯æŒ</li><li>JPA 3.1æ”¯æŒ</li><li>Bean Validation 3.0æ”¯æŒ</li></ul><h3 id="3-åŸç”Ÿé•œåƒæ”¯æŒï¼ˆGraalVMï¼‰"><a href="#3-åŸç”Ÿé•œåƒæ”¯æŒï¼ˆGraalVMï¼‰" class="headerlink" title="3. åŸç”Ÿé•œåƒæ”¯æŒï¼ˆGraalVMï¼‰"></a>3. åŸç”Ÿé•œåƒæ”¯æŒï¼ˆGraalVMï¼‰</h3><p>Spring Boot 3.xæä¾›äº†å¯¹GraalVMåŸç”Ÿé•œåƒçš„å®˜æ–¹æ”¯æŒï¼Œè¿™æ˜¯ä¸€ä¸ªé‡å¤§çªç ´ï¼š</p><ul><li>å¯åŠ¨æ—¶é—´æ˜¾è‘—å‡å°‘ï¼ˆæ¯«ç§’çº§å¯åŠ¨ï¼‰</li><li>å†…å­˜å ç”¨å¤§å¹…é™ä½</li><li>é€‚åˆå®¹å™¨åŒ–å’ŒServerlessç¯å¢ƒ</li><li>æ”¯æŒAOTç¼–è¯‘ä¼˜åŒ–</li></ul><h3 id="4-æ ¸å¿ƒå®¹å™¨æ”¹è¿›"><a href="#4-æ ¸å¿ƒå®¹å™¨æ”¹è¿›" class="headerlink" title="4. æ ¸å¿ƒå®¹å™¨æ”¹è¿›"></a>4. æ ¸å¿ƒå®¹å™¨æ”¹è¿›</h3><p>Spring Boot 3.xå¯¹æ ¸å¿ƒå®¹å™¨è¿›è¡Œäº†å¤šé¡¹æ”¹è¿›ï¼š</p><ul><li>è‡ªåŠ¨é…ç½®ç±»çš„æ¡ä»¶è¯„ä¼°ä¼˜åŒ–</li><li>æ”¹è¿›çš„é…ç½®å±æ€§å¤„ç†</li><li>æ›´å¼ºå¤§çš„å¯åŠ¨æ—¥å¿—</li><li>å¢å¼ºçš„é”™è¯¯è¯Šæ–­èƒ½åŠ›</li></ul><h3 id="5-Webå±‚æ›´æ–°"><a href="#5-Webå±‚æ›´æ–°" class="headerlink" title="5. Webå±‚æ›´æ–°"></a>5. Webå±‚æ›´æ–°</h3><p>Webå±‚ä¹Ÿè¿æ¥äº†å¤šé¡¹é‡è¦æ›´æ–°ï¼š</p><ul><li>Spring MVCå’ŒWebFluxçš„æ€§èƒ½ä¼˜åŒ–</li><li>æ”¹è¿›çš„æµ‹è¯•æ”¯æŒ</li><li>æ–°å¢çš„HTTP/3æ”¯æŒ</li><li>å“åº”å¼APIå¢å¼º</li></ul><h2 id="äºŒã€ä»Spring-Boot-2-xå‡çº§åˆ°3-xçš„å®æˆ˜ç»éªŒ-ğŸ“š"><a href="#äºŒã€ä»Spring-Boot-2-xå‡çº§åˆ°3-xçš„å®æˆ˜ç»éªŒ-ğŸ“š" class="headerlink" title="äºŒã€ä»Spring Boot 2.xå‡çº§åˆ°3.xçš„å®æˆ˜ç»éªŒ ğŸ“š"></a>äºŒã€ä»Spring Boot 2.xå‡çº§åˆ°3.xçš„å®æˆ˜ç»éªŒ ğŸ“š</h2><h3 id="1-å‡çº§å‰çš„å‡†å¤‡å·¥ä½œ"><a href="#1-å‡çº§å‰çš„å‡†å¤‡å·¥ä½œ" class="headerlink" title="1. å‡çº§å‰çš„å‡†å¤‡å·¥ä½œ"></a>1. å‡çº§å‰çš„å‡†å¤‡å·¥ä½œ</h3><p>åœ¨å¼€å§‹å‡çº§ä¹‹å‰ï¼Œåšå¥½å……åˆ†çš„å‡†å¤‡å·¥ä½œè‡³å…³é‡è¦ï¼š</p><p><strong>1.1 æ£€æŸ¥å½“å‰é¡¹ç›®ä¾èµ–</strong></p><p>ä½¿ç”¨<code>mvn dependency:tree</code>æˆ–Gradleçš„ä¾èµ–æŠ¥å‘ŠåŠŸèƒ½ï¼Œæ£€æŸ¥é¡¹ç›®ä¸­æ˜¯å¦æœ‰ä¸Spring Boot 3.xä¸å…¼å®¹çš„ç¬¬ä¸‰æ–¹åº“ã€‚</p><p><strong>1.2 æ›´æ–°å¼€å‘ç¯å¢ƒ</strong></p><p>ç¡®ä¿ä½ çš„å¼€å‘ç¯å¢ƒæ»¡è¶³ä»¥ä¸‹è¦æ±‚ï¼š</p><ul><li>JDK 17æˆ–æ›´é«˜ç‰ˆæœ¬</li><li>Maven 3.8.6+æˆ–Gradle 7.5+</li><li>å…¼å®¹çš„IDEç‰ˆæœ¬ï¼ˆIntelliJ IDEA 2022.3+, Eclipse 2022-12+, VSCodeæœ€æ–°ç‰ˆï¼‰</li></ul><p><strong>1.3 åˆ›å»ºåˆ†æ”¯å’Œå¤‡ä»½</strong></p><p>åœ¨å‡çº§å‰åˆ›å»ºä¸“é—¨çš„å‡çº§åˆ†æ”¯ï¼Œå¹¶å¯¹é‡è¦æ•°æ®è¿›è¡Œå¤‡ä»½ï¼Œä»¥é˜²ä¸‡ä¸€ã€‚</p><h3 id="2-å‡çº§çš„å…·ä½“æ­¥éª¤"><a href="#2-å‡çº§çš„å…·ä½“æ­¥éª¤" class="headerlink" title="2. å‡çº§çš„å…·ä½“æ­¥éª¤"></a>2. å‡çº§çš„å…·ä½“æ­¥éª¤</h3><p><strong>2.1 ä¿®æ”¹Spring Bootç‰ˆæœ¬</strong></p><p>é¦–å…ˆï¼Œæ›´æ–°é¡¹ç›®ä¸­çš„Spring Bootç‰ˆæœ¬ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- Maven --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">parent</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-parent<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.2.4<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">relativePath</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">parent</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- Gradle --&gt;</span></span><br><span class="line">plugins &#123;</span><br><span class="line">    id &#x27;org.springframework.boot&#x27; version &#x27;3.2.4&#x27;</span><br><span class="line">    id &#x27;io.spring.dependency-management&#x27; version &#x27;1.1.4&#x27;</span><br><span class="line">    // å…¶ä»–æ’ä»¶</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>2.2 å¤„ç†javaxåˆ°jakartaçš„åŒ…åå˜æ›´</strong></p><p>è¿™æ˜¯å‡çº§è¿‡ç¨‹ä¸­æœ€ç¹çä½†ä¹Ÿæ˜¯æœ€é‡è¦çš„ä¸€æ­¥ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ—§ä»£ç </span></span><br><span class="line"><span class="keyword">import</span> javax.persistence.Entity;</span><br><span class="line"><span class="keyword">import</span> javax.validation.constraints.NotNull;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ–°ä»£ç </span></span><br><span class="line"><span class="keyword">import</span> jakarta.persistence.Entity;</span><br><span class="line"><span class="keyword">import</span> jakarta.validation.constraints.NotNull;</span><br><span class="line"><span class="keyword">import</span> jakarta.servlet.http.HttpServletRequest;</span><br></pre></td></tr></table></figure><p>ä½ å¯ä»¥ä½¿ç”¨IDEçš„æ‰¹é‡æ›¿æ¢åŠŸèƒ½æ¥åŠ é€Ÿè¿™ä¸ªè¿‡ç¨‹ï¼Œä½†è¦æ³¨æ„ä»”ç»†æ£€æŸ¥ï¼Œé¿å…æ›¿æ¢é”™è¯¯ã€‚</p><p><strong>2.3 æ›´æ–°Spring Cloudç‰ˆæœ¬ï¼ˆå¦‚æœä½¿ç”¨ï¼‰</strong></p><p>å¦‚æœä½ çš„é¡¹ç›®ä½¿ç”¨äº†Spring Cloudï¼Œéœ€è¦å°†å…¶æ›´æ–°åˆ°ä¸Spring Boot 3.xå…¼å®¹çš„ç‰ˆæœ¬ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">spring-cloud.version</span>&gt;</span>2023.0.0<span class="tag">&lt;/<span class="name">spring-cloud.version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">dependencyManagement</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.cloud<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-cloud-dependencies<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;spring-cloud.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">type</span>&gt;</span>pom<span class="tag">&lt;/<span class="name">type</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">scope</span>&gt;</span>import<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencyManagement</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>2.4 ä¿®å¤å·²å¼ƒç”¨çš„APIå’Œé…ç½®</strong></p><p>Spring Boot 3.xç§»é™¤äº†è®¸å¤šåœ¨2.xä¸­å·²å¼ƒç”¨çš„APIå’Œé…ç½®é¡¹ã€‚ä½¿ç”¨IDEçš„è­¦å‘ŠåŠŸèƒ½æˆ–é™æ€ä»£ç åˆ†æå·¥å…·æ¥è¯†åˆ«å¹¶ä¿®å¤è¿™äº›é—®é¢˜ã€‚</p><p><strong>2.5 è¿è¡Œæµ‹è¯•å¹¶è¿›è¡Œå¿…è¦çš„è°ƒæ•´</strong></p><p>åœ¨å®Œæˆä¸Šè¿°æ­¥éª¤åï¼Œè¿è¡Œé¡¹ç›®çš„æµ‹è¯•å¥—ä»¶ï¼Œå¹¶æ ¹æ®æµ‹è¯•ç»“æœè¿›è¡Œå¿…è¦çš„è°ƒæ•´ã€‚ç‰¹åˆ«æ³¨æ„ä»¥ä¸‹å‡ ç‚¹ï¼š</p><ul><li>è‡ªåŠ¨é…ç½®è¡Œä¸ºçš„å˜åŒ–</li><li>ä¾èµ–åº“çš„å…¼å®¹æ€§é—®é¢˜</li><li>é…ç½®å±æ€§çš„å˜åŒ–</li></ul><h3 id="3-å¸¸è§é—®é¢˜åŠè§£å†³æ–¹æ¡ˆ"><a href="#3-å¸¸è§é—®é¢˜åŠè§£å†³æ–¹æ¡ˆ" class="headerlink" title="3. å¸¸è§é—®é¢˜åŠè§£å†³æ–¹æ¡ˆ"></a>3. å¸¸è§é—®é¢˜åŠè§£å†³æ–¹æ¡ˆ</h3><p>åœ¨å‡çº§è¿‡ç¨‹ä¸­ï¼Œä½ å¯èƒ½ä¼šé‡åˆ°ä»¥ä¸‹å¸¸è§é—®é¢˜ï¼š</p><p><strong>3.1 ç¬¬ä¸‰æ–¹åº“å…¼å®¹æ€§é—®é¢˜</strong></p><p><strong>é—®é¢˜</strong>ï¼šæŸäº›ç¬¬ä¸‰æ–¹åº“å°šæœªæ”¯æŒSpring Boot 3.xæˆ–Jakarta EE 10ã€‚</p><p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p><ul><li>æ£€æŸ¥åº“çš„æœ€æ–°ç‰ˆæœ¬æ˜¯å¦æ”¯æŒSpring Boot 3.x</li><li>å¯»æ‰¾æ›¿ä»£æ–¹æ¡ˆæˆ–ä¸´æ—¶è§£å†³æ–¹æ¡ˆ</li><li>å¦‚æœæ˜¯å¼€æºåº“ï¼Œå¯ä»¥è€ƒè™‘è´¡çŒ®ä»£ç å¸®åŠ©å…¶æ”¯æŒSpring Boot 3.x</li></ul><p><strong>3.2 é…ç½®å±æ€§å˜åŒ–</strong></p><p><strong>é—®é¢˜</strong>ï¼šä¸€äº›é…ç½®å±æ€§çš„åç§°æˆ–é»˜è®¤å€¼å‘ç”Ÿäº†å˜åŒ–ã€‚</p><p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p><ul><li>ä½¿ç”¨<code>spring-boot-properties-migrator</code>ä¾èµ–æ¥å¸®åŠ©è¯†åˆ«å’Œè¿ç§»é…ç½®å±æ€§</li><li>æŸ¥é˜…Spring Boot 3.xçš„å®˜æ–¹æ–‡æ¡£ï¼Œäº†è§£é…ç½®å±æ€§çš„å˜åŒ–</li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-properties-migrator<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">scope</span>&gt;</span>runtime<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>3.3 æµ‹è¯•å¤±è´¥</strong></p><p><strong>é—®é¢˜</strong>ï¼šå‡çº§åï¼Œä¸€äº›æµ‹è¯•ç”¨ä¾‹å¤±è´¥ã€‚</p><p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p><ul><li>æ£€æŸ¥æµ‹è¯•ä¸­ä½¿ç”¨çš„APIæ˜¯å¦å·²è¢«ç§»é™¤æˆ–æ›´æ”¹</li><li>æ›´æ–°æµ‹è¯•ä¾èµ–ç‰ˆæœ¬</li><li>è°ƒæ•´æµ‹è¯•ç­–ç•¥ï¼Œé€‚åº”Spring Boot 3.xçš„å˜åŒ–</li></ul><h2 id="ä¸‰ã€GraalVMåŸç”Ÿé•œåƒåœ¨ç”Ÿäº§ç¯å¢ƒçš„åº”ç”¨æ¡ˆä¾‹-ğŸ­"><a href="#ä¸‰ã€GraalVMåŸç”Ÿé•œåƒåœ¨ç”Ÿäº§ç¯å¢ƒçš„åº”ç”¨æ¡ˆä¾‹-ğŸ­" class="headerlink" title="ä¸‰ã€GraalVMåŸç”Ÿé•œåƒåœ¨ç”Ÿäº§ç¯å¢ƒçš„åº”ç”¨æ¡ˆä¾‹ ğŸ­"></a>ä¸‰ã€GraalVMåŸç”Ÿé•œåƒåœ¨ç”Ÿäº§ç¯å¢ƒçš„åº”ç”¨æ¡ˆä¾‹ ğŸ­</h2><h3 id="1-GraalVMåŸç”Ÿé•œåƒçš„ä¼˜åŠ¿"><a href="#1-GraalVMåŸç”Ÿé•œåƒçš„ä¼˜åŠ¿" class="headerlink" title="1. GraalVMåŸç”Ÿé•œåƒçš„ä¼˜åŠ¿"></a>1. GraalVMåŸç”Ÿé•œåƒçš„ä¼˜åŠ¿</h3><p>GraalVMåŸç”Ÿé•œåƒä¸ºSpring Bootåº”ç”¨å¸¦æ¥äº†æ˜¾è‘—çš„ä¼˜åŠ¿ï¼š</p><ul><li><strong>å¯åŠ¨æ—¶é—´æå¿«</strong>ï¼šä»æ•°åç§’å‡å°‘åˆ°æ•°ç™¾æ¯«ç§’</li><li><strong>å†…å­˜å ç”¨æä½</strong>ï¼šé€šå¸¸æ¯”JVMæ¨¡å¼å‡å°‘50%-80%</li><li><strong>å³æ—¶å°±ç»ª</strong>ï¼šå¯åŠ¨åç«‹å³è¾¾åˆ°æœ€ä½³æ€§èƒ½çŠ¶æ€</li><li><strong>å®¹å™¨å‹å¥½</strong>ï¼šç‰¹åˆ«é€‚åˆKuberneteså’ŒServerlessç¯å¢ƒ</li></ul><h3 id="2-æ„å»ºåŸç”Ÿé•œåƒçš„é…ç½®ä¸å®è·µ"><a href="#2-æ„å»ºåŸç”Ÿé•œåƒçš„é…ç½®ä¸å®è·µ" class="headerlink" title="2. æ„å»ºåŸç”Ÿé•œåƒçš„é…ç½®ä¸å®è·µ"></a>2. æ„å»ºåŸç”Ÿé•œåƒçš„é…ç½®ä¸å®è·µ</h3><p><strong>2.1 æ·»åŠ Spring BootåŸç”Ÿé•œåƒæ”¯æŒ</strong></p><p>è¦ä¸ºSpring Bootåº”ç”¨æ·»åŠ GraalVMåŸç”Ÿé•œåƒæ”¯æŒï¼Œéœ€è¦æ·»åŠ ä»¥ä¸‹ä¾èµ–å’Œæ’ä»¶ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- æ·»åŠ GraalVMåŸç”Ÿé•œåƒæ”¯æŒ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-aot<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">scope</span>&gt;</span>developmentOnly<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- æ·»åŠ åŸç”Ÿé•œåƒæ„å»ºæ’ä»¶ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.graalvm.buildtools<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>native-maven-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>2.2 æ„å»ºåŸç”Ÿé•œåƒ</strong></p><p>ä½¿ç”¨Mavenæˆ–Gradleæ„å»ºåŸç”Ÿé•œåƒï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Maven</span></span><br><span class="line">mvn -Pnative native:compile</span><br><span class="line"></span><br><span class="line"><span class="comment"># Gradle</span></span><br><span class="line">gradle nativeCompile</span><br></pre></td></tr></table></figure><p><strong>2.3 å¸¸è§é—®é¢˜åŠè§£å†³æ–¹æ¡ˆ</strong></p><p>åœ¨æ„å»ºå’Œè¿è¡ŒåŸç”Ÿé•œåƒæ—¶ï¼Œå¯èƒ½ä¼šé‡åˆ°ä¸€äº›å¸¸è§é—®é¢˜ï¼š</p><p><strong>åå°„é—®é¢˜</strong></p><p>GraalVMåŸç”Ÿé•œåƒåœ¨ç¼–è¯‘æ—¶éœ€è¦çŸ¥é“æ‰€æœ‰åå°„ä½¿ç”¨çš„ç±»å’Œæ–¹æ³•ã€‚Spring Bootçš„AOTå¤„ç†å™¨ä¼šè‡ªåŠ¨å¤„ç†å¤§éƒ¨åˆ†æƒ…å†µï¼Œä½†æœ‰äº›æƒ…å†µä¸‹ä½ å¯èƒ½éœ€è¦æ‰‹åŠ¨é…ç½®ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@SpringBootApplication</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyApplication</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        SpringApplication.run(MyApplication.class, args);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// æ·»åŠ åå°„é…ç½®</span></span><br><span class="line">    <span class="meta">@NativeHint(</span></span><br><span class="line"><span class="meta">        types = @TypeHint(</span></span><br><span class="line"><span class="meta">            types = &#123;com.example.MyClass.class&#125;,</span></span><br><span class="line"><span class="meta">            access = &#123;AccessBits.DECLARED_METHODS, AccessBits.DECLARED_FIELDS&#125;</span></span><br><span class="line"><span class="meta">        )</span></span><br><span class="line"><span class="meta">    )</span></span><br><span class="line">    <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">NativeConfiguration</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>èµ„æºæ–‡ä»¶è®¿é—®é—®é¢˜</strong></p><p>åŸç”Ÿé•œåƒé»˜è®¤ä¸ä¼šåŒ…å«æ‰€æœ‰èµ„æºæ–‡ä»¶ï¼Œéœ€è¦æ˜¾å¼é…ç½®ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@NativeHint(</span></span><br><span class="line"><span class="meta">    resources = @ResourceHint(</span></span><br><span class="line"><span class="meta">        patterns = &#123;&quot;static/**&quot;, &quot;templates/**&quot;, &quot;application*.properties&quot;&#125;</span></span><br><span class="line"><span class="meta">    )</span></span><br><span class="line"><span class="meta">)</span></span><br></pre></td></tr></table></figure><h3 id="3-ç”Ÿäº§ç¯å¢ƒåº”ç”¨æ¡ˆä¾‹"><a href="#3-ç”Ÿäº§ç¯å¢ƒåº”ç”¨æ¡ˆä¾‹" class="headerlink" title="3. ç”Ÿäº§ç¯å¢ƒåº”ç”¨æ¡ˆä¾‹"></a>3. ç”Ÿäº§ç¯å¢ƒåº”ç”¨æ¡ˆä¾‹</h3><p><strong>3.1 å¾®æœåŠ¡ç½‘å…³ä¼˜åŒ–</strong></p><p><strong>èƒŒæ™¯</strong>ï¼šæŸå…¬å¸çš„APIç½‘å…³åŸºäºSpring Cloud Gatewayæ„å»ºï¼Œåœ¨Kubernetesç¯å¢ƒä¸­éƒ¨ç½²ï¼Œéœ€è¦å¿«é€Ÿå¯åŠ¨å’Œä½å†…å­˜å ç”¨ã€‚</p><p><strong>ä¼˜åŒ–æ–¹æ¡ˆ</strong>ï¼šå°†APIç½‘å…³è¿ç§»åˆ°GraalVMåŸç”Ÿé•œåƒ</p><p><strong>å®æ–½æ•ˆæœ</strong>ï¼š</p><ul><li>å¯åŠ¨æ—¶é—´ä»45ç§’å‡å°‘åˆ°0.8ç§’</li><li>å†…å­˜å ç”¨ä»512MBå‡å°‘åˆ°128MB</li><li>è‡ªåŠ¨æ‰©ç¼©å®¹å“åº”é€Ÿåº¦æå‡äº†50å€</li><li>å®¹å™¨é•œåƒå¤§å°ä»250MBå‡å°‘åˆ°80MB</li></ul><p><strong>3.2 æ— æœåŠ¡å™¨å‡½æ•°ä¼˜åŒ–</strong></p><p><strong>èƒŒæ™¯</strong>ï¼šæŸç”µå•†å¹³å°çš„æ— æœåŠ¡å™¨å‡½æ•°åŸºäºSpring Cloud Functionæ„å»ºï¼Œå†·å¯åŠ¨æ—¶é—´é•¿å½±å“ç”¨æˆ·ä½“éªŒã€‚</p><p><strong>ä¼˜åŒ–æ–¹æ¡ˆ</strong>ï¼šä½¿ç”¨GraalVMåŸç”Ÿé•œåƒæ„å»ºæ— æœåŠ¡å™¨å‡½æ•°</p><p><strong>å®æ–½æ•ˆæœ</strong>ï¼š</p><ul><li>å†·å¯åŠ¨æ—¶é—´ä»3-5ç§’å‡å°‘åˆ°0.3-0.5ç§’</li><li>å‡½æ•°æ‰§è¡Œæˆæœ¬é™ä½äº†65%</li><li>ç”¨æˆ·æ»¡æ„åº¦æå‡äº†40%</li></ul><h2 id="å››ã€Java-17-21ä¸Spring-Boot-3-xçš„æœ€ä½³ç»„åˆ-ğŸ¤"><a href="#å››ã€Java-17-21ä¸Spring-Boot-3-xçš„æœ€ä½³ç»„åˆ-ğŸ¤" class="headerlink" title="å››ã€Java 17/21ä¸Spring Boot 3.xçš„æœ€ä½³ç»„åˆ ğŸ¤"></a>å››ã€Java 17/21ä¸Spring Boot 3.xçš„æœ€ä½³ç»„åˆ ğŸ¤</h2><h3 id="1-Java-17-vs-Java-21"><a href="#1-Java-17-vs-Java-21" class="headerlink" title="1. Java 17 vs Java 21"></a>1. Java 17 vs Java 21</h3><p>Spring Boot 3.xæ”¯æŒJava 17åŠä»¥ä¸Šç‰ˆæœ¬ï¼Œè€ŒJava 21ä½œä¸ºæœ€æ–°çš„é•¿æœŸæ”¯æŒç‰ˆæœ¬ï¼ˆLTSï¼‰ï¼Œæä¾›äº†æ›´å¤šçš„æ–°ç‰¹æ€§å’Œæ”¹è¿›ã€‚</p><table><thead><tr><th>ç‰¹æ€§</th><th>Java 17</th><th>Java 21</th></tr></thead><tbody><tr><td>å¯†å°ç±»</td><td>âœ…</td><td>âœ…</td></tr><tr><td>æ¨¡å¼åŒ¹é…</td><td>âœ…</td><td>âœ…ï¼ˆå¢å¼ºï¼‰</td></tr><tr><td>è™šæ‹Ÿçº¿ç¨‹</td><td>âŒ</td><td>âœ…</td></tr><tr><td>ç»“æ„åŒ–å¹¶å‘</td><td>âŒ</td><td>âœ…</td></tr><tr><td>å­—ç¬¦ä¸²æ¨¡æ¿</td><td>âŒ</td><td>âœ…ï¼ˆé¢„è§ˆï¼‰</td></tr><tr><td>è®°å½•æ¨¡å¼</td><td>âŒ</td><td>âœ…ï¼ˆé¢„è§ˆï¼‰</td></tr></tbody></table><h3 id="2-æ€§èƒ½å¯¹æ¯”"><a href="#2-æ€§èƒ½å¯¹æ¯”" class="headerlink" title="2. æ€§èƒ½å¯¹æ¯”"></a>2. æ€§èƒ½å¯¹æ¯”</h3><p>Java 21åœ¨æ€§èƒ½æ–¹é¢æœ‰æ˜¾è‘—æå‡ï¼Œç‰¹åˆ«æ˜¯åœ¨åƒåœ¾æ”¶é›†å’Œå†…å­˜ç®¡ç†æ–¹é¢ï¼š</p><table><thead><tr><th>æ€§èƒ½æŒ‡æ ‡</th><th>Java 17</th><th>Java 21</th><th>æå‡å¹…åº¦</th></tr></thead><tbody><tr><td>å¯åŠ¨æ—¶é—´</td><td>åŸºå‡†</td><td>åŸºå‡†-15%</td><td>~15%</td></tr><tr><td>å†…å­˜å ç”¨</td><td>åŸºå‡†</td><td>åŸºå‡†-20%</td><td>~20%</td></tr><tr><td>ååé‡</td><td>åŸºå‡†</td><td>åŸºå‡†+10%</td><td>~10%</td></tr><tr><td>GCæš‚åœæ—¶é—´</td><td>åŸºå‡†</td><td>åŸºå‡†-30%</td><td>~30%</td></tr></tbody></table><h3 id="3-æœ€ä½³å®è·µå»ºè®®"><a href="#3-æœ€ä½³å®è·µå»ºè®®" class="headerlink" title="3. æœ€ä½³å®è·µå»ºè®®"></a>3. æœ€ä½³å®è·µå»ºè®®</h3><p>åŸºäºæˆ‘çš„å®è·µç»éªŒï¼Œæˆ‘æ¨èä»¥ä¸‹æœ€ä½³ç»„åˆç­–ç•¥ï¼š</p><p><strong>3.1 æ–°é¡¹ç›®</strong></p><p>å¯¹äºæ–°é¡¹ç›®ï¼Œå»ºè®®ç›´æ¥ä½¿ç”¨<strong>Spring Boot 3.2+å’ŒJava 21</strong>ï¼Œè¿™æ ·å¯ä»¥å……åˆ†åˆ©ç”¨æœ€æ–°çš„ç‰¹æ€§å’Œæ€§èƒ½æ”¹è¿›ã€‚</p><p><strong>3.2 ç°æœ‰é¡¹ç›®</strong></p><p>å¯¹äºç°æœ‰é¡¹ç›®ï¼š</p><ul><li>å¦‚æœæ­£åœ¨ä½¿ç”¨Java 11æˆ–æ›´æ—©ç‰ˆæœ¬ï¼Œå»ºè®®å…ˆå‡çº§åˆ°Java 17ï¼Œç„¶åå†å‡çº§åˆ°Spring Boot 3.x</li><li>å¦‚æœå·²ç»åœ¨ä½¿ç”¨Java 17ï¼Œå¯ä»¥ç›´æ¥å‡çº§åˆ°Spring Boot 3.x</li><li>åœ¨ç¨³å®šè¿è¡Œä¸€æ®µæ—¶é—´åï¼Œå†è€ƒè™‘å‡çº§åˆ°Java 21</li></ul><p><strong>3.3 é…ç½®ä¼˜åŒ–å»ºè®®</strong></p><p>ä¸ºäº†å……åˆ†å‘æŒ¥Java 17/21å’ŒSpring Boot 3.xçš„æ€§èƒ½ä¼˜åŠ¿ï¼Œä»¥ä¸‹æ˜¯ä¸€äº›é…ç½®ä¼˜åŒ–å»ºè®®ï¼š</p><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># JVMå‚æ•°ä¼˜åŒ–</span></span><br><span class="line"><span class="meta">-XX</span>:<span class="string">+UseG1GC</span></span><br><span class="line"><span class="meta">-XX</span>:<span class="string">+ParallelRefProcEnabled</span></span><br><span class="line"><span class="meta">-XX</span>:<span class="string">+UseStringDeduplication</span></span><br><span class="line"><span class="meta">-XX</span>:<span class="string">+UnlockExperimentalVMOptions</span></span><br><span class="line"><span class="meta">-XX</span>:<span class="string">G1NewSizePercent=20</span></span><br><span class="line"><span class="meta">-XX</span>:<span class="string">MaxGCPauseMillis=200</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"># Spring Booté…ç½®ä¼˜åŒ–</span></span><br><span class="line"><span class="meta">spring.main.lazy-initialization</span>=<span class="string">true</span></span><br><span class="line"><span class="meta">spring.jackson.serialization.fail-on-empty-beans</span>=<span class="string">false</span></span><br><span class="line"><span class="meta">server.tomcat.connection-timeout</span>=<span class="string">30000</span></span><br><span class="line"><span class="meta">server.tomcat.max-threads</span>=<span class="string">200</span></span><br></pre></td></tr></table></figure><h2 id="äº”ã€æ€»ç»“ä¸å±•æœ›-ğŸ”®"><a href="#äº”ã€æ€»ç»“ä¸å±•æœ›-ğŸ”®" class="headerlink" title="äº”ã€æ€»ç»“ä¸å±•æœ› ğŸ”®"></a>äº”ã€æ€»ç»“ä¸å±•æœ› ğŸ”®</h2><p>Spring Boot 3.xçš„å‘å¸ƒæ ‡å¿—ç€Springç”Ÿæ€ç³»ç»Ÿçš„ä¸€æ¬¡é‡å¤§é£è·ƒï¼Œå®ƒä¸ä»…å¸¦æ¥äº†è®¸å¤šä»¤äººæ¿€åŠ¨çš„æ–°ç‰¹æ€§ï¼Œè¿˜æ˜¾è‘—æå‡äº†æ€§èƒ½å’Œå¯æ‰©å±•æ€§ã€‚é€šè¿‡æœ¬æ–‡åˆ†äº«çš„å‡çº§ç»éªŒå’Œæœ€ä½³å®è·µï¼Œå¸Œæœ›èƒ½å¤Ÿå¸®åŠ©å¤§å®¶é¡ºåˆ©å®Œæˆä»Spring Boot 2.xåˆ°3.xçš„è¿‡æ¸¡ã€‚</p><p>ç‰¹åˆ«å€¼å¾—ä¸€æçš„æ˜¯GraalVMåŸç”Ÿé•œåƒæ”¯æŒï¼Œå®ƒä¸ºSpring Bootåº”ç”¨å¼€è¾Ÿäº†æ–°çš„å¯èƒ½æ€§ï¼Œç‰¹åˆ«æ˜¯åœ¨å®¹å™¨åŒ–å’ŒServerlessç¯å¢ƒä¸­ã€‚éšç€Java 21æˆä¸ºæ–°çš„LTSç‰ˆæœ¬ï¼Œè™šæ‹Ÿçº¿ç¨‹ç­‰ç‰¹æ€§å°†è¿›ä¸€æ­¥æå‡Spring Bootåº”ç”¨çš„æ€§èƒ½å’Œå¯æ‰©å±•æ€§ã€‚</p><p>å‡çº§åˆ°Spring Boot 3.xä¸ä»…ä»…æ˜¯ç‰ˆæœ¬çš„æ›´æ–°ï¼Œæ›´æ˜¯ä¸€æ¬¡æŠ€æœ¯æ ˆçš„ç°ä»£åŒ–å‡çº§ã€‚å®ƒä¸ºæˆ‘ä»¬æ„å»ºæ›´é«˜æ•ˆã€æ›´å¯é ã€æ›´å…·å¯æ‰©å±•æ€§çš„åº”ç”¨æä¾›äº†æ›´å¼ºå¤§çš„å·¥å…·å’Œæ¡†æ¶ã€‚è®©æˆ‘ä»¬ä¸€èµ·æ‹¥æŠ±Spring Boot 3.xå¸¦æ¥çš„æ–°æœºé‡ï¼</p><p>å¦‚æœä½ åœ¨å‡çº§è¿‡ç¨‹ä¸­æœ‰ä»»ä½•é—®é¢˜æˆ–ç»éªŒåˆ†äº«ï¼Œæ¬¢è¿åœ¨è¯„è®ºåŒºç•™è¨€è®¨è®ºï¼ğŸ˜Š</p>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;/assets/css/APlayer.min.css&quot;&gt;&lt;script src=&quot;/assets/js/APlayer.min.js&quot; cla</summary>
      
    
    
    
    
    <category term="SpringBoot" scheme="https://blog.zhuyizhuo.online/tags/SpringBoot/"/>
    
    <category term="æ–°ç‰¹æ€§" scheme="https://blog.zhuyizhuo.online/tags/%E6%96%B0%E7%89%B9%E6%80%A7/"/>
    
    <category term="å‡çº§å®è·µ" scheme="https://blog.zhuyizhuo.online/tags/%E5%8D%87%E7%BA%A7%E5%AE%9E%E8%B7%B5/"/>
    
    <category term="GraalVM" scheme="https://blog.zhuyizhuo.online/tags/GraalVM/"/>
    
  </entry>
  
  <entry>
    <title>2024å¹´AIå¹³å°åŠå·¥å…·å…¨æ™¯å›¾ï¼šåŠŸèƒ½ã€å¯¹æ¯”ä¸å…è´¹æ–¹æ¡ˆ</title>
    <link href="https://blog.zhuyizhuo.online/2024/05/18/ai/2024-ai-platforms-tools-comparison/"/>
    <id>https://blog.zhuyizhuo.online/2024/05/18/ai/2024-ai-platforms-tools-comparison/</id>
    <published>2024-05-17T16:00:00.000Z</published>
    <updated>2025-09-26T09:53:22.242Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="2024å¹´AIå¹³å°åŠå·¥å…·å…¨æ™¯å›¾ï¼šåŠŸèƒ½ã€å¯¹æ¯”ä¸å…è´¹æ–¹æ¡ˆ-ğŸ¤–ğŸŒ"><a href="#2024å¹´AIå¹³å°åŠå·¥å…·å…¨æ™¯å›¾ï¼šåŠŸèƒ½ã€å¯¹æ¯”ä¸å…è´¹æ–¹æ¡ˆ-ğŸ¤–ğŸŒ" class="headerlink" title="2024å¹´AIå¹³å°åŠå·¥å…·å…¨æ™¯å›¾ï¼šåŠŸèƒ½ã€å¯¹æ¯”ä¸å…è´¹æ–¹æ¡ˆ ğŸ¤–ğŸŒ"></a>2024å¹´AIå¹³å°åŠå·¥å…·å…¨æ™¯å›¾ï¼šåŠŸèƒ½ã€å¯¹æ¯”ä¸å…è´¹æ–¹æ¡ˆ ğŸ¤–ğŸŒ</h1><p>å¤§å®¶å¥½ï¼ğŸ‘‹ éšç€äººå·¥æ™ºèƒ½æŠ€æœ¯çš„å¿«é€Ÿè¿­ä»£ï¼Œå¸‚é¢ä¸Šæ¶Œç°å‡ºäº†å¤§é‡AIå¹³å°å’Œå·¥å…·ï¼Œè®©äººçœ¼èŠ±ç¼­ä¹±ã€‚ä»Šå¤©ï¼Œæˆ‘å°†ä¸ºå¤§å®¶ç³»ç»Ÿæ¢³ç†2024å¹´ä¸»æµçš„AIå¹³å°åŠå·¥å…·ï¼Œä»å¤šä¸ªç»´åº¦è¿›è¡Œå¯¹æ¯”åˆ†æï¼Œå¸®åŠ©ä½ æ‰¾åˆ°æœ€é€‚åˆè‡ªå·±éœ€æ±‚çš„AIè§£å†³æ–¹æ¡ˆï¼ğŸš€</p><h2 id="ä¸€ã€AIç¼–ç¨‹åŠ©æ‰‹ï¼šæå‡å¼€å‘æ•ˆç‡çš„åˆ©å™¨-ğŸ’»"><a href="#ä¸€ã€AIç¼–ç¨‹åŠ©æ‰‹ï¼šæå‡å¼€å‘æ•ˆç‡çš„åˆ©å™¨-ğŸ’»" class="headerlink" title="ä¸€ã€AIç¼–ç¨‹åŠ©æ‰‹ï¼šæå‡å¼€å‘æ•ˆç‡çš„åˆ©å™¨ ğŸ’»"></a>ä¸€ã€AIç¼–ç¨‹åŠ©æ‰‹ï¼šæå‡å¼€å‘æ•ˆç‡çš„åˆ©å™¨ ğŸ’»</h2><p>AIç¼–ç¨‹åŠ©æ‰‹å·²ç»æˆä¸ºå¼€å‘è€…çš„æ ‡é…å·¥å…·ï¼Œå®ƒä»¬èƒ½æ˜¾è‘—æå‡ç¼–ç æ•ˆç‡ã€æ”¹å–„ä»£ç è´¨é‡ã€‚</p><h3 id="ä¸»æµAIç¼–ç¨‹åŠ©æ‰‹å¯¹æ¯”è¡¨"><a href="#ä¸»æµAIç¼–ç¨‹åŠ©æ‰‹å¯¹æ¯”è¡¨" class="headerlink" title="ä¸»æµAIç¼–ç¨‹åŠ©æ‰‹å¯¹æ¯”è¡¨"></a>ä¸»æµAIç¼–ç¨‹åŠ©æ‰‹å¯¹æ¯”è¡¨</h3><table><thead><tr><th>å¹³å°/å·¥å…·</th><th>æ ¸å¿ƒåŠŸèƒ½</th><th>æ”¯æŒè¯­è¨€</th><th>æ˜¯å¦å…è´¹</th><th>é€‚ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td><strong>GitHub Copilot</strong></td><td>ä»£ç ç”Ÿæˆã€æ³¨é‡Šç”Ÿæˆã€ä¸Šä¸‹æ–‡ç†è§£</td><td>å¤šè¯­è¨€</td><td>æ”¶è´¹ï¼ˆ10ç¾å…ƒ/æœˆï¼‰</td><td>å…¨æ ˆå¼€å‘ã€å¿«é€ŸåŸå‹</td></tr><tr><td><strong>TabNine</strong></td><td>æ™ºèƒ½ä»£ç è¡¥å…¨ã€å›¢é˜Ÿä»£ç é£æ ¼åŒ¹é…</td><td>å¤šè¯­è¨€</td><td>åŸºç¡€ç‰ˆå…è´¹ï¼Œä¸“ä¸šç‰ˆæ”¶è´¹</td><td>æ—¥å¸¸ç¼–ç ã€æ–°æ‰‹å­¦ä¹ </td></tr><tr><td><strong>CodeWhisperer</strong></td><td>äº‘æœåŠ¡ä»£ç ç”Ÿæˆã€å®‰å…¨æ‰«æ</td><td>å¤šè¯­è¨€</td><td>ä¸ªäººå…è´¹ï¼Œä¼ä¸šæ”¶è´¹</td><td>AWSäº‘å¼€å‘ã€å®‰å…¨ç¼–ç </td></tr><tr><td><strong>ChatGPT/GPT-4</strong></td><td>ä»£ç ç”Ÿæˆã€è§£é‡Šã€è°ƒè¯•</td><td>å¤šè¯­è¨€</td><td>åŸºç¡€ç‰ˆå…è´¹ï¼Œé«˜çº§åŠŸèƒ½æ”¶è´¹</td><td>ä»£ç å­¦ä¹ ã€é—®é¢˜è§£å†³</td></tr><tr><td><strong>Claude 3</strong></td><td>é•¿ä»£ç ç†è§£ã€ä»£ç ä¼˜åŒ–å»ºè®®</td><td>å¤šè¯­è¨€</td><td>æœ‰é™å…è´¹ï¼Œè¶…å‡ºè®¡è´¹</td><td>å¤æ‚ç³»ç»Ÿé‡æ„ã€ä»£ç å®¡æŸ¥</td></tr></tbody></table><h3 id="å®è·µæ¡ˆä¾‹ï¼šå¦‚ä½•é€‰æ‹©åˆé€‚çš„AIç¼–ç¨‹åŠ©æ‰‹ï¼Ÿ"><a href="#å®è·µæ¡ˆä¾‹ï¼šå¦‚ä½•é€‰æ‹©åˆé€‚çš„AIç¼–ç¨‹åŠ©æ‰‹ï¼Ÿ" class="headerlink" title="å®è·µæ¡ˆä¾‹ï¼šå¦‚ä½•é€‰æ‹©åˆé€‚çš„AIç¼–ç¨‹åŠ©æ‰‹ï¼Ÿ"></a>å®è·µæ¡ˆä¾‹ï¼šå¦‚ä½•é€‰æ‹©åˆé€‚çš„AIç¼–ç¨‹åŠ©æ‰‹ï¼Ÿ</h3><ul><li>å¦‚æœä½ æ˜¯ä¸ªäººå¼€å‘è€…æˆ–å°å›¢é˜Ÿï¼Œå¯ä»¥è€ƒè™‘ <strong>GitHub Copilot</strong> æˆ– <strong>TabNine</strong>ï¼Œå®ƒä»¬æä¾›äº†å…¨é¢çš„ç¼–ç è¾…åŠ©åŠŸèƒ½ã€‚</li><li>å¦‚æœä½ ä¸»è¦åœ¨AWSäº‘ä¸Šå¼€å‘ï¼Œ<strong>CodeWhisperer</strong> çš„äº‘æœåŠ¡é›†æˆä¼šæ˜¯å¾ˆå¥½çš„é€‰æ‹©ã€‚</li><li>å¯¹äºå­¦ç”Ÿå’Œæ–°æ‰‹ï¼Œ<strong>TabNineåŸºç¡€ç‰ˆ</strong> å’Œ <strong>ChatGPTå…è´¹ç‰ˆ</strong> æ˜¯ä¸é”™çš„å…¥é—¨é€‰æ‹©ã€‚</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ç¤ºä¾‹ï¼šä½¿ç”¨AIç¼–ç¨‹åŠ©æ‰‹ç”Ÿæˆæ•°æ®å¤„ç†ä»£ç </span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">process_data</span>(<span class="params">df, column_name, operation</span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    æ ¹æ®æŒ‡å®šæ“ä½œå¤„ç†DataFrameä¸­çš„ç‰¹å®šåˆ—</span></span><br><span class="line"><span class="string">    å‚æ•°:</span></span><br><span class="line"><span class="string">        df: pandas DataFrame</span></span><br><span class="line"><span class="string">        column_name: è¦å¤„ç†çš„åˆ—å</span></span><br><span class="line"><span class="string">        operation: å¤„ç†æ“ä½œ (&#x27;normalize&#x27;, &#x27;standardize&#x27;, &#x27;log_transform&#x27;)</span></span><br><span class="line"><span class="string">    è¿”å›:</span></span><br><span class="line"><span class="string">        å¤„ç†åçš„DataFrame</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line">    <span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">    </span><br><span class="line">    result_df = df.copy()</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> operation == <span class="string">&#x27;normalize&#x27;</span>:</span><br><span class="line">        min_val = result_df[column_name].<span class="built_in">min</span>()</span><br><span class="line">        max_val = result_df[column_name].<span class="built_in">max</span>()</span><br><span class="line">        result_df[<span class="string">f&#x27;<span class="subst">&#123;column_name&#125;</span>_normalized&#x27;</span>] = \</span><br><span class="line">            (result_df[column_name] - min_val) / (max_val - min_val)</span><br><span class="line">    <span class="keyword">elif</span> operation == <span class="string">&#x27;standardize&#x27;</span>:</span><br><span class="line">        mean_val = result_df[column_name].mean()</span><br><span class="line">        std_val = result_df[column_name].std()</span><br><span class="line">        result_df[<span class="string">f&#x27;<span class="subst">&#123;column_name&#125;</span>_standardized&#x27;</span>] = \</span><br><span class="line">            (result_df[column_name] - mean_val) / std_val</span><br><span class="line">    <span class="keyword">elif</span> operation == <span class="string">&#x27;log_transform&#x27;</span>:</span><br><span class="line">        result_df[<span class="string">f&#x27;<span class="subst">&#123;column_name&#125;</span>_log&#x27;</span>] = np.log1p(result_df[column_name])</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> result_df</span><br></pre></td></tr></table></figure><h2 id="äºŒã€å¤§è¯­è¨€æ¨¡å‹å¹³å°ï¼šä¼ä¸šçº§AIåº”ç”¨çš„åŸºç¡€-ğŸ§ "><a href="#äºŒã€å¤§è¯­è¨€æ¨¡å‹å¹³å°ï¼šä¼ä¸šçº§AIåº”ç”¨çš„åŸºç¡€-ğŸ§ " class="headerlink" title="äºŒã€å¤§è¯­è¨€æ¨¡å‹å¹³å°ï¼šä¼ä¸šçº§AIåº”ç”¨çš„åŸºç¡€ ğŸ§ "></a>äºŒã€å¤§è¯­è¨€æ¨¡å‹å¹³å°ï¼šä¼ä¸šçº§AIåº”ç”¨çš„åŸºç¡€ ğŸ§ </h2><p>å¤§è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰å·²ç»æˆä¸ºä¼ä¸šAIåº”ç”¨çš„æ ¸å¿ƒåŸºç¡€è®¾æ–½ï¼Œä¸åŒç±»å‹çš„æ¨¡å‹é€‚ç”¨äºä¸åŒçš„ä¸šåŠ¡åœºæ™¯ã€‚</p><h3 id="å¤§è¯­è¨€æ¨¡å‹ç±»å‹ä¸åº”ç”¨åœºæ™¯"><a href="#å¤§è¯­è¨€æ¨¡å‹ç±»å‹ä¸åº”ç”¨åœºæ™¯" class="headerlink" title="å¤§è¯­è¨€æ¨¡å‹ç±»å‹ä¸åº”ç”¨åœºæ™¯"></a>å¤§è¯­è¨€æ¨¡å‹ç±»å‹ä¸åº”ç”¨åœºæ™¯</h3><table><thead><tr><th>æ¨¡å‹ç±»å‹</th><th>ä»£è¡¨äº§å“</th><th>ä¸»è¦ä¼˜åŠ¿</th><th>å…è´¹æ–¹æ¡ˆ</th><th>ä¼ä¸šåº”ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td><strong>é€šç”¨å¤§æ¨¡å‹</strong></td><td>GPT-4oã€Claude 3ã€Gemini 1.5</td><td>åŠŸèƒ½å…¨é¢ã€é€‚åº”æ€§å¼º</td><td>éƒ¨åˆ†å…è´¹é¢åº¦ï¼Œè¶…å‡ºè®¡è´¹</td><td>å†…å®¹ç”Ÿæˆã€å®¢æœæ”¯æŒ</td></tr><tr><td><strong>è¡Œä¸šå¤§æ¨¡å‹</strong></td><td>åŒ»ç–—GPTã€é‡‘èBERTã€æ³•å¾‹LLM</td><td>è¡Œä¸šçŸ¥è¯†ä¸°å¯Œã€ä¸“ä¸šæ€§å¼º</td><td>éƒ¨åˆ†æä¾›å…è´¹è¯•ç”¨</td><td>åŒ»ç–—è¯Šæ–­è¾…åŠ©ã€é‡‘èåˆ†æ</td></tr><tr><td><strong>ä¼ä¸šå®šåˆ¶æ¨¡å‹</strong></td><td>ç§æœ‰GPTã€ä¼ä¸šä¸“å±Claude</td><td>æ•°æ®å®‰å…¨ã€å®šåˆ¶åŒ–ç¨‹åº¦é«˜</td><td>é€šå¸¸æ— å…è´¹æ–¹æ¡ˆ</td><td>å†…éƒ¨çŸ¥è¯†ç®¡ç†ã€æ•æ„Ÿæ•°æ®å¤„ç†</td></tr></tbody></table><h3 id="ä¼ä¸šåº”ç”¨å®è·µï¼šå¦‚ä½•é€‰æ‹©å¤§è¯­è¨€æ¨¡å‹ï¼Ÿ"><a href="#ä¼ä¸šåº”ç”¨å®è·µï¼šå¦‚ä½•é€‰æ‹©å¤§è¯­è¨€æ¨¡å‹ï¼Ÿ" class="headerlink" title="ä¼ä¸šåº”ç”¨å®è·µï¼šå¦‚ä½•é€‰æ‹©å¤§è¯­è¨€æ¨¡å‹ï¼Ÿ"></a>ä¼ä¸šåº”ç”¨å®è·µï¼šå¦‚ä½•é€‰æ‹©å¤§è¯­è¨€æ¨¡å‹ï¼Ÿ</h3><ol><li><strong>é€šç”¨åœºæ™¯</strong>ï¼šé€‰æ‹© <strong>GPT-4o</strong> æˆ– <strong>Claude 3 Sonnet</strong>ï¼Œå®ƒä»¬æä¾›äº†æœ€å…¨é¢çš„åŠŸèƒ½å’Œè‰¯å¥½çš„æ€§ä»·æ¯”ã€‚</li><li><strong>ä¸“ä¸šé¢†åŸŸ</strong>ï¼šè€ƒè™‘å‚ç›´é¢†åŸŸçš„ä¸“ä¸šå¤§æ¨¡å‹ï¼Œå¦‚åŒ»ç–—é¢†åŸŸçš„ <strong>IBM Watson Health</strong>ã€‚</li><li><strong>æ•°æ®æ•æ„Ÿåœºæ™¯</strong>ï¼šå¿…é¡»é‡‡ç”¨ç§æœ‰åŒ–éƒ¨ç½²æˆ–ä¼ä¸šå®šåˆ¶æ¨¡å‹ï¼Œç¡®ä¿æ•°æ®å®‰å…¨ã€‚</li></ol><h2 id="ä¸‰ã€AIå†…å®¹åˆ›ä½œå·¥å…·ï¼šé‡Šæ”¾åˆ›æ„æ½œèƒ½-âœï¸"><a href="#ä¸‰ã€AIå†…å®¹åˆ›ä½œå·¥å…·ï¼šé‡Šæ”¾åˆ›æ„æ½œèƒ½-âœï¸" class="headerlink" title="ä¸‰ã€AIå†…å®¹åˆ›ä½œå·¥å…·ï¼šé‡Šæ”¾åˆ›æ„æ½œèƒ½ âœï¸"></a>ä¸‰ã€AIå†…å®¹åˆ›ä½œå·¥å…·ï¼šé‡Šæ”¾åˆ›æ„æ½œèƒ½ âœï¸</h2><p>AIå†…å®¹åˆ›ä½œå·¥å…·æ­£åœ¨æ”¹å˜å†…å®¹ç”Ÿäº§æ–¹å¼ï¼Œä»æ–‡ç« æ’°å†™åˆ°å›¾åƒå¤„ç†ï¼Œéƒ½èƒ½æ˜¾è‘—æå‡æ•ˆç‡ã€‚</p><h3 id="ä¸»æµAIå†…å®¹åˆ›ä½œå·¥å…·å¯¹æ¯”"><a href="#ä¸»æµAIå†…å®¹åˆ›ä½œå·¥å…·å¯¹æ¯”" class="headerlink" title="ä¸»æµAIå†…å®¹åˆ›ä½œå·¥å…·å¯¹æ¯”"></a>ä¸»æµAIå†…å®¹åˆ›ä½œå·¥å…·å¯¹æ¯”</h3><table><thead><tr><th>å·¥å…·åç§°</th><th>æ ¸å¿ƒåŠŸèƒ½</th><th>å…è´¹æ–¹æ¡ˆ</th><th>ä»˜è´¹ä»·æ ¼</th><th>é€‚ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td><strong>ChatGPT/GPT-4</strong></td><td>æ–‡æœ¬ç”Ÿæˆã€æ”¹å†™ã€æ€»ç»“</td><td>åŸºç¡€ç‰ˆå…è´¹</td><td>20-40ç¾å…ƒ/æœˆ</td><td>æ–‡ç« æ’°å†™ã€é‚®ä»¶ç”Ÿæˆ</td></tr><tr><td><strong>Midjourney</strong></td><td>å›¾åƒç”Ÿæˆã€è‰ºæœ¯åˆ›ä½œ</td><td>æ— å…è´¹ç‰ˆ</td><td>10-60ç¾å…ƒ/æœˆ</td><td>æ’å›¾è®¾è®¡ã€æ¦‚å¿µåˆ›ä½œ</td></tr><tr><td><strong>DALL-E 3</strong></td><td>å›¾åƒç”Ÿæˆã€ç¼–è¾‘</td><td>æœ‰é™å…è´¹é¢åº¦</td><td>æŒ‰ç”Ÿæˆæ¬¡æ•°è®¡è´¹</td><td>å“ç‰Œè®¾è®¡ã€å†…å®¹é…å›¾</td></tr><tr><td><strong>Runway Gen-2</strong></td><td>è§†é¢‘ç”Ÿæˆä¸ç¼–è¾‘</td><td>éƒ¨åˆ†å…è´¹åŠŸèƒ½</td><td>12-60ç¾å…ƒ/æœˆ</td><td>è§†é¢‘å†…å®¹åˆ›ä½œã€ç‰¹æ•ˆç”Ÿæˆ</td></tr><tr><td><strong>Copy.ai</strong></td><td>è¥é”€æ–‡æ¡ˆã€ç¤¾äº¤åª’ä½“å†…å®¹</td><td>7å¤©å…è´¹è¯•ç”¨</td><td>49-369ç¾å…ƒ/æœˆ</td><td>è¥é”€æ¨å¹¿ã€å¹¿å‘Šåˆ›ä½œ</td></tr></tbody></table><h3 id="å†…å®¹åˆ›ä½œæœ€ä½³å®è·µ"><a href="#å†…å®¹åˆ›ä½œæœ€ä½³å®è·µ" class="headerlink" title="å†…å®¹åˆ›ä½œæœ€ä½³å®è·µ"></a>å†…å®¹åˆ›ä½œæœ€ä½³å®è·µ</h3><ul><li>ç»“åˆå¤šä¸ªå·¥å…·ä½¿ç”¨ï¼šç”¨ <strong>ChatGPT</strong> ç”Ÿæˆæ–‡æ¡ˆï¼Œç”¨ <strong>Midjourney</strong> æˆ– <strong>DALL-E 3</strong> ç”Ÿæˆé…å›¾ã€‚</li><li>åˆ©ç”¨æç¤ºå·¥ç¨‹æŠ€å·§ï¼šæä¾›è¯¦ç»†çš„ä¸Šä¸‹æ–‡å’Œè¦æ±‚ï¼Œè·å¾—æ›´ç²¾å‡†çš„ç”Ÿæˆç»“æœã€‚</li><li>å§‹ç»ˆä¿æŒäººå·¥å®¡æ ¸ï¼šç¡®ä¿AIç”Ÿæˆå†…å®¹ç¬¦åˆå“ç‰Œè°ƒæ€§å’Œå‡†ç¡®æ€§è¦æ±‚ã€‚</li></ul><h2 id="å››ã€AIæ•°æ®åˆ†æå·¥å…·ï¼šæ•°æ®é©±åŠ¨å†³ç­–çš„åŠ é€Ÿå™¨-ğŸ“Š"><a href="#å››ã€AIæ•°æ®åˆ†æå·¥å…·ï¼šæ•°æ®é©±åŠ¨å†³ç­–çš„åŠ é€Ÿå™¨-ğŸ“Š" class="headerlink" title="å››ã€AIæ•°æ®åˆ†æå·¥å…·ï¼šæ•°æ®é©±åŠ¨å†³ç­–çš„åŠ é€Ÿå™¨ ğŸ“Š"></a>å››ã€AIæ•°æ®åˆ†æå·¥å…·ï¼šæ•°æ®é©±åŠ¨å†³ç­–çš„åŠ é€Ÿå™¨ ğŸ“Š</h2><p>AIæ•°æ®åˆ†æå·¥å…·æ­£åœ¨æ”¹å˜ä¼ ç»Ÿçš„æ•°æ®åˆ†ææ–¹å¼ï¼Œè®©éæŠ€æœ¯äººå‘˜ä¹Ÿèƒ½ä»æ•°æ®ä¸­è·å–æ´è§ã€‚</p><h3 id="çƒ­é—¨AIæ•°æ®åˆ†æå·¥å…·ä¸€è§ˆ"><a href="#çƒ­é—¨AIæ•°æ®åˆ†æå·¥å…·ä¸€è§ˆ" class="headerlink" title="çƒ­é—¨AIæ•°æ®åˆ†æå·¥å…·ä¸€è§ˆ"></a>çƒ­é—¨AIæ•°æ®åˆ†æå·¥å…·ä¸€è§ˆ</h3><table><thead><tr><th>å·¥å…·åç§°</th><th>æ ¸å¿ƒåŠŸèƒ½</th><th>æ˜¯å¦å…è´¹</th><th>é€‚ç”¨ç”¨æˆ·</th><th>ä¸»è¦ä¼˜åŠ¿</th></tr></thead><tbody><tr><td><strong>Tableau AI</strong></td><td>è‡ªç„¶è¯­è¨€æŸ¥è¯¢ã€æ™ºèƒ½æ´å¯Ÿ</td><td>æ”¶è´¹</td><td>æ•°æ®åˆ†æäººå‘˜</td><td>å¯è§†åŒ–èƒ½åŠ›å¼ºã€æ˜“äºäº¤äº’</td></tr><tr><td><strong>Power BI Copilot</strong></td><td>æ•°æ®æ¢ç´¢ã€æŠ¥å‘Šç”Ÿæˆ</td><td>æ”¶è´¹</td><td>ä¸šåŠ¡åˆ†æå¸ˆ</td><td>å¾®è½¯ç”Ÿæ€é›†æˆã€ä¼ä¸šçº§æ”¯æŒ</td></tr><tr><td><strong>DataRobot</strong></td><td>è‡ªåŠ¨æœºå™¨å­¦ä¹ ã€é¢„æµ‹åˆ†æ</td><td>æ”¶è´¹</td><td>æ•°æ®ç§‘å­¦å®¶</td><td>è‡ªåŠ¨åŒ–ç¨‹åº¦é«˜ã€æ¨¡å‹ä¸°å¯Œ</td></tr><tr><td><strong>Google Analytics AI</strong></td><td>ç”¨æˆ·è¡Œä¸ºåˆ†æã€è¶‹åŠ¿é¢„æµ‹</td><td>åŸºç¡€ç‰ˆå…è´¹</td><td>å¸‚åœºäººå‘˜</td><td>Googleç”Ÿæ€ã€æ˜“ç”¨æ€§å¼º</td></tr><tr><td><strong>Pandas AI</strong></td><td>å¢å¼ºç‰ˆæ•°æ®åˆ†æåº“</td><td>å¼€æºå…è´¹</td><td>æ•°æ®åˆ†æå¸ˆã€å¼€å‘è€…</td><td>Pythoné›†æˆã€è‡ªå®šä¹‰çµæ´»</td></tr></tbody></table><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ç¤ºä¾‹ï¼šä½¿ç”¨Pandas AIè¿›è¡Œæ•°æ®åˆ†æ</span></span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">from</span> pandasai <span class="keyword">import</span> PandasAI</span><br><span class="line"><span class="keyword">from</span> pandasai.llm.openai <span class="keyword">import</span> OpenAI</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆå§‹åŒ–Pandas AI</span></span><br><span class="line">llm = OpenAI(api_key=<span class="string">&quot;your_api_key&quot;</span>)</span><br><span class="line">pandas_ai = PandasAI(llm)</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ›å»ºç¤ºä¾‹æ•°æ®</span></span><br><span class="line">df = pd.DataFrame(&#123;</span><br><span class="line">    <span class="string">&quot;äº§å“&quot;</span>: [<span class="string">&quot;A&quot;</span>, <span class="string">&quot;B&quot;</span>, <span class="string">&quot;C&quot;</span>, <span class="string">&quot;D&quot;</span>, <span class="string">&quot;E&quot;</span>],</span><br><span class="line">    <span class="string">&quot;é”€é‡&quot;</span>: [<span class="number">100</span>, <span class="number">150</span>, <span class="number">200</span>, <span class="number">80</span>, <span class="number">120</span>],</span><br><span class="line">    <span class="string">&quot;åˆ©æ¶¦&quot;</span>: [<span class="number">2000</span>, <span class="number">3000</span>, <span class="number">4000</span>, <span class="number">1600</span>, <span class="number">2400</span>],</span><br><span class="line">    <span class="string">&quot;åŒºåŸŸ&quot;</span>: [<span class="string">&quot;åä¸œ&quot;</span>, <span class="string">&quot;åå—&quot;</span>, <span class="string">&quot;ååŒ—&quot;</span>, <span class="string">&quot;è¥¿å—&quot;</span>, <span class="string">&quot;ä¸œåŒ—&quot;</span>]</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç”¨è‡ªç„¶è¯­è¨€æé—®</span></span><br><span class="line">result = pandas_ai(df, prompt=<span class="string">&quot;åˆ†æå“ªä¸ªäº§å“çš„åˆ©æ¶¦ç‡æœ€é«˜ï¼Œå¹¶ç»™å‡ºå»ºè®®&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(result)</span><br></pre></td></tr></table></figure><h2 id="äº”ã€AIå­¦ä¹ ä¸æ•™è‚²å¹³å°ï¼šä¸ªäººæˆé•¿çš„æ™ºèƒ½å¯¼å¸ˆ-ğŸ“š"><a href="#äº”ã€AIå­¦ä¹ ä¸æ•™è‚²å¹³å°ï¼šä¸ªäººæˆé•¿çš„æ™ºèƒ½å¯¼å¸ˆ-ğŸ“š" class="headerlink" title="äº”ã€AIå­¦ä¹ ä¸æ•™è‚²å¹³å°ï¼šä¸ªäººæˆé•¿çš„æ™ºèƒ½å¯¼å¸ˆ ğŸ“š"></a>äº”ã€AIå­¦ä¹ ä¸æ•™è‚²å¹³å°ï¼šä¸ªäººæˆé•¿çš„æ™ºèƒ½å¯¼å¸ˆ ğŸ“š</h2><p>AIæ•™è‚²å¹³å°æ­£åœ¨æ”¹å˜å­¦ä¹ æ–¹å¼ï¼Œæä¾›ä¸ªæ€§åŒ–çš„å­¦ä¹ ä½“éªŒå’Œæ™ºèƒ½è¾…å¯¼ã€‚</p><h3 id="ä¸»æµAIå­¦ä¹ å¹³å°å¯¹æ¯”"><a href="#ä¸»æµAIå­¦ä¹ å¹³å°å¯¹æ¯”" class="headerlink" title="ä¸»æµAIå­¦ä¹ å¹³å°å¯¹æ¯”"></a>ä¸»æµAIå­¦ä¹ å¹³å°å¯¹æ¯”</h3><table><thead><tr><th>å¹³å°åç§°</th><th>æ ¸å¿ƒåŠŸèƒ½</th><th>æ˜¯å¦å…è´¹</th><th>é€‚åˆäººç¾¤</th><th>ç‰¹è‰²ä¼˜åŠ¿</th></tr></thead><tbody><tr><td><strong>Coursera AIè¾…å¯¼</strong></td><td>è¯¾ç¨‹æ¨èã€å­¦ä¹ è·¯å¾„è§„åˆ’</td><td>éƒ¨åˆ†å…è´¹</td><td>å­¦ç”Ÿã€èŒåœºäººå£«</td><td>åæ ¡è¯¾ç¨‹ã€ä¸“ä¸šè®¤è¯</td></tr><tr><td><strong>Duolingo Max</strong></td><td>ä¸ªæ€§åŒ–è¯­è¨€å­¦ä¹ ã€AIå¯¹è¯ç»ƒä¹ </td><td>åŸºç¡€ç‰ˆå…è´¹</td><td>è¯­è¨€å­¦ä¹ è€…</td><td>æ¸¸æˆåŒ–è®¾è®¡ã€è¶£å‘³æ€§å¼º</td></tr><tr><td><strong>Brilliant.org AI</strong></td><td>äº¤äº’å¼æ•°å­¦ã€ç§‘å­¦å­¦ä¹ </td><td>7å¤©å…è´¹è¯•ç”¨</td><td>STEMå­¦ä¹ è€…</td><td>äº’åŠ¨å¼è¯¾ç¨‹ã€æ€ç»´è®­ç»ƒ</td></tr><tr><td><strong>Khanmigo</strong></td><td>ä¸ªæ€§åŒ–è¾…å¯¼ã€æ¦‚å¿µè§£é‡Š</td><td>éƒ¨åˆ†å…è´¹</td><td>K12å­¦ç”Ÿ</td><td>å› ææ–½æ•™ã€è€å¿ƒè®²è§£</td></tr><tr><td><strong>ChatGPT Learn</strong></td><td>çŸ¥è¯†é—®ç­”ã€æ¦‚å¿µè§£é‡Šã€ç»ƒä¹ ç”Ÿæˆ</td><td>åŸºç¡€ç‰ˆå…è´¹</td><td>å…¨å¹´é¾„æ®µå­¦ä¹ è€…</td><td>é€‚åº”æ€§å¼ºã€è¦†ç›–å¹¿æ³›</td></tr></tbody></table><h2 id="å…­ã€AIå¼€æºå·¥å…·ä¸ç¤¾åŒºï¼šåˆ›æ–°çš„æºæ³‰-ğŸŒ±"><a href="#å…­ã€AIå¼€æºå·¥å…·ä¸ç¤¾åŒºï¼šåˆ›æ–°çš„æºæ³‰-ğŸŒ±" class="headerlink" title="å…­ã€AIå¼€æºå·¥å…·ä¸ç¤¾åŒºï¼šåˆ›æ–°çš„æºæ³‰ ğŸŒ±"></a>å…­ã€AIå¼€æºå·¥å…·ä¸ç¤¾åŒºï¼šåˆ›æ–°çš„æºæ³‰ ğŸŒ±</h2><p>å¼€æºAIå·¥å…·å’Œç¤¾åŒºæ˜¯AIæŠ€æœ¯å‘å±•çš„é‡è¦æ¨åŠ¨åŠ›ï¼Œæä¾›äº†ä¸°å¯Œçš„å…è´¹èµ„æºã€‚</p><h3 id="ç²¾é€‰AIå¼€æºå·¥å…·"><a href="#ç²¾é€‰AIå¼€æºå·¥å…·" class="headerlink" title="ç²¾é€‰AIå¼€æºå·¥å…·"></a>ç²¾é€‰AIå¼€æºå·¥å…·</h3><table><thead><tr><th>å·¥å…·åç§°</th><th>åŠŸèƒ½é¢†åŸŸ</th><th>å¼€æºåè®®</th><th>ä¸»è¦ä¼˜åŠ¿</th><th>é€‚ç”¨åœºæ™¯</th></tr></thead><tbody><tr><td><strong>Hugging Face Transformers</strong></td><td>NLPæ¨¡å‹åº“</td><td>Apache 2.0</td><td>æ¨¡å‹ä¸°å¯Œã€æ˜“äºä½¿ç”¨</td><td>NLPç ”ç©¶ä¸åº”ç”¨å¼€å‘</td></tr><tr><td><strong>LangChain</strong></td><td>LLMåº”ç”¨æ¡†æ¶</td><td>MIT</td><td>ç»„ä»¶åŒ–è®¾è®¡ã€æ‰©å±•æ€§å¼º</td><td>å¤æ‚LLMåº”ç”¨æ„å»º</td></tr><tr><td><strong>PyTorch</strong></td><td>æ·±åº¦å­¦ä¹ æ¡†æ¶</td><td>BSD</td><td>åŠ¨æ€å›¾ã€ç ”ç©¶å‹å¥½</td><td>æ·±åº¦å­¦ä¹ ç ”ç©¶ä¸å¼€å‘</td></tr><tr><td><strong>TensorFlow</strong></td><td>æ·±åº¦å­¦ä¹ æ¡†æ¶</td><td>Apache 2.0</td><td>é™æ€å›¾ã€ç”Ÿäº§å‹å¥½</td><td>å¤§è§„æ¨¡AIç³»ç»Ÿéƒ¨ç½²</td></tr><tr><td><strong>Stable Diffusion</strong></td><td>å›¾åƒç”Ÿæˆæ¨¡å‹</td><td>CreativeML Open RAIL-M</td><td>é«˜åº¦å¯å®šåˆ¶ã€ç¤¾åŒºæ´»è·ƒ</td><td>å›¾åƒç”Ÿæˆä¸ç¼–è¾‘</td></tr></tbody></table><h2 id="ä¸ƒã€é€‰æ‹©AIå·¥å…·çš„æ ¸å¿ƒè€ƒé‡å› ç´ -ğŸ§"><a href="#ä¸ƒã€é€‰æ‹©AIå·¥å…·çš„æ ¸å¿ƒè€ƒé‡å› ç´ -ğŸ§" class="headerlink" title="ä¸ƒã€é€‰æ‹©AIå·¥å…·çš„æ ¸å¿ƒè€ƒé‡å› ç´  ğŸ§"></a>ä¸ƒã€é€‰æ‹©AIå·¥å…·çš„æ ¸å¿ƒè€ƒé‡å› ç´  ğŸ§</h2><p>åœ¨ä¼—å¤šAIå·¥å…·ä¸­åšå‡ºé€‰æ‹©æ—¶ï¼Œéœ€è¦è€ƒè™‘ä»¥ä¸‹å…³é”®å› ç´ ï¼š</p><h3 id="1-æ˜ç¡®éœ€æ±‚ä¸åœºæ™¯"><a href="#1-æ˜ç¡®éœ€æ±‚ä¸åœºæ™¯" class="headerlink" title="1. æ˜ç¡®éœ€æ±‚ä¸åœºæ™¯"></a>1. æ˜ç¡®éœ€æ±‚ä¸åœºæ™¯</h3><p>é¦–å…ˆè¦æ˜ç¡®ä½ çš„å…·ä½“éœ€æ±‚å’Œåº”ç”¨åœºæ™¯ï¼Œä¸åŒçš„å·¥å…·åœ¨ä¸åŒåœºæ™¯ä¸‹è¡¨ç°å„å¼‚ã€‚</p><h3 id="2-æˆæœ¬æ•ˆç›Šåˆ†æ"><a href="#2-æˆæœ¬æ•ˆç›Šåˆ†æ" class="headerlink" title="2. æˆæœ¬æ•ˆç›Šåˆ†æ"></a>2. æˆæœ¬æ•ˆç›Šåˆ†æ</h3><p>è¯„ä¼°å…è´¹ç‰ˆå’Œä»˜è´¹ç‰ˆçš„åŠŸèƒ½å·®å¼‚ï¼Œè®¡ç®—é•¿æœŸä½¿ç”¨æˆæœ¬ï¼Œé€‰æ‹©æœ€å…·æ€§ä»·æ¯”çš„æ–¹æ¡ˆã€‚</p><h3 id="3-æ•°æ®å®‰å…¨ä¸éšç§"><a href="#3-æ•°æ®å®‰å…¨ä¸éšç§" class="headerlink" title="3. æ•°æ®å®‰å…¨ä¸éšç§"></a>3. æ•°æ®å®‰å…¨ä¸éšç§</h3><p>ç‰¹åˆ«æ˜¯å¯¹äºä¼ä¸šç”¨æˆ·ï¼Œæ•°æ®å®‰å…¨å’Œéšç§ä¿æŠ¤è‡³å…³é‡è¦ï¼Œè¦é€‰æ‹©ç¬¦åˆåˆè§„è¦æ±‚çš„å·¥å…·ã€‚</p><h3 id="4-æ˜“ç”¨æ€§ä¸å­¦ä¹ æ›²çº¿"><a href="#4-æ˜“ç”¨æ€§ä¸å­¦ä¹ æ›²çº¿" class="headerlink" title="4. æ˜“ç”¨æ€§ä¸å­¦ä¹ æ›²çº¿"></a>4. æ˜“ç”¨æ€§ä¸å­¦ä¹ æ›²çº¿</h3><p>è€ƒè™‘å›¢é˜Ÿçš„æŠ€æœ¯èƒ½åŠ›ï¼Œé€‰æ‹©å­¦ä¹ æˆæœ¬é€‚ä¸­çš„å·¥å…·ï¼Œç¡®ä¿èƒ½å¤Ÿå¿«é€Ÿä¸Šæ‰‹å’Œæ¨å¹¿ã€‚</p><h3 id="5-ç”Ÿæ€ç³»ç»Ÿä¸é›†æˆæ€§"><a href="#5-ç”Ÿæ€ç³»ç»Ÿä¸é›†æˆæ€§" class="headerlink" title="5. ç”Ÿæ€ç³»ç»Ÿä¸é›†æˆæ€§"></a>5. ç”Ÿæ€ç³»ç»Ÿä¸é›†æˆæ€§</h3><p>è¯„ä¼°å·¥å…·ä¸ç°æœ‰ç³»ç»Ÿçš„å…¼å®¹æ€§å’Œé›†æˆèƒ½åŠ›ï¼Œé¿å…äº§ç”Ÿæ•°æ®å­¤å²›ã€‚</p><h2 id="å…«ã€æœªæ¥å±•æœ›ï¼šAIå·¥å…·çš„å‘å±•è¶‹åŠ¿-ğŸ”®"><a href="#å…«ã€æœªæ¥å±•æœ›ï¼šAIå·¥å…·çš„å‘å±•è¶‹åŠ¿-ğŸ”®" class="headerlink" title="å…«ã€æœªæ¥å±•æœ›ï¼šAIå·¥å…·çš„å‘å±•è¶‹åŠ¿ ğŸ”®"></a>å…«ã€æœªæ¥å±•æœ›ï¼šAIå·¥å…·çš„å‘å±•è¶‹åŠ¿ ğŸ”®</h2><p>éšç€AIæŠ€æœ¯çš„ä¸æ–­è¿›æ­¥ï¼Œæœªæ¥çš„AIå·¥å…·å°†å‘ˆç°ä»¥ä¸‹å‘å±•è¶‹åŠ¿ï¼š</p><h3 id="1-å¤šæ¨¡æ€èåˆ"><a href="#1-å¤šæ¨¡æ€èåˆ" class="headerlink" title="1. å¤šæ¨¡æ€èåˆ"></a>1. å¤šæ¨¡æ€èåˆ</h3><p>AIå·¥å…·å°†è¶Šæ¥è¶Šå¤šåœ°æ”¯æŒæ–‡æœ¬ã€å›¾åƒã€éŸ³é¢‘ã€è§†é¢‘ç­‰å¤šç§æ•°æ®ç±»å‹çš„å¤„ç†å’Œç†è§£ã€‚</p><h3 id="2-ä¸ªæ€§åŒ–å®šåˆ¶"><a href="#2-ä¸ªæ€§åŒ–å®šåˆ¶" class="headerlink" title="2. ä¸ªæ€§åŒ–å®šåˆ¶"></a>2. ä¸ªæ€§åŒ–å®šåˆ¶</h3><p>å·¥å…·å°†æ›´åŠ äº†è§£ç”¨æˆ·çš„åå¥½å’Œä¹ æƒ¯ï¼Œæä¾›æ›´åŠ ä¸ªæ€§åŒ–çš„æœåŠ¡å’Œä½“éªŒã€‚</p><h3 id="3-è¾¹ç¼˜è®¡ç®—éƒ¨ç½²"><a href="#3-è¾¹ç¼˜è®¡ç®—éƒ¨ç½²" class="headerlink" title="3. è¾¹ç¼˜è®¡ç®—éƒ¨ç½²"></a>3. è¾¹ç¼˜è®¡ç®—éƒ¨ç½²</h3><p>ä¸ºäº†ä¿æŠ¤æ•°æ®éšç§å’Œæé«˜å“åº”é€Ÿåº¦ï¼Œæ›´å¤šAIå·¥å…·å°†æ”¯æŒåœ¨è¾¹ç¼˜è®¾å¤‡ä¸Šè¿è¡Œã€‚</p><h3 id="4-è‡ªä¸»å­¦ä¹ ä¸è¿›åŒ–"><a href="#4-è‡ªä¸»å­¦ä¹ ä¸è¿›åŒ–" class="headerlink" title="4. è‡ªä¸»å­¦ä¹ ä¸è¿›åŒ–"></a>4. è‡ªä¸»å­¦ä¹ ä¸è¿›åŒ–</h3><p>å·¥å…·å°†å…·å¤‡æ›´å¼ºçš„è‡ªä¸»å­¦ä¹ èƒ½åŠ›ï¼Œèƒ½å¤Ÿä»ç”¨æˆ·åé¦ˆä¸­ä¸æ–­è¿›åŒ–å’Œä¼˜åŒ–ã€‚</p><h3 id="5-è·¨å¹³å°ä¸åä½œ"><a href="#5-è·¨å¹³å°ä¸åä½œ" class="headerlink" title="5. è·¨å¹³å°ä¸åä½œ"></a>5. è·¨å¹³å°ä¸åä½œ</h3><p>AIå·¥å…·å°†æ›´å¥½åœ°æ”¯æŒå›¢é˜Ÿåä½œï¼Œå®ç°è·¨å¹³å°çš„æ•°æ®å…±äº«å’Œæ— ç¼åä½œã€‚</p><h2 id="å†™åœ¨æœ€åï¼šä¸AIå…±èˆï¼Œæ‹¥æŠ±æ™ºèƒ½æœªæ¥-ğŸ’ƒ"><a href="#å†™åœ¨æœ€åï¼šä¸AIå…±èˆï¼Œæ‹¥æŠ±æ™ºèƒ½æœªæ¥-ğŸ’ƒ" class="headerlink" title="å†™åœ¨æœ€åï¼šä¸AIå…±èˆï¼Œæ‹¥æŠ±æ™ºèƒ½æœªæ¥ ğŸ’ƒ"></a>å†™åœ¨æœ€åï¼šä¸AIå…±èˆï¼Œæ‹¥æŠ±æ™ºèƒ½æœªæ¥ ğŸ’ƒ</h2><p>AIå·¥å…·æ­£åœ¨ä»¥å‰æ‰€æœªæœ‰çš„é€Ÿåº¦æ”¹å˜æˆ‘ä»¬çš„å·¥ä½œå’Œç”Ÿæ´»æ–¹å¼ã€‚é¢å¯¹è¿™ä¸€æŠ€æœ¯å˜é©ï¼Œæˆ‘ä»¬åº”è¯¥ä¿æŒå¼€æ”¾çš„å¿ƒæ€ï¼Œç§¯æå­¦ä¹ å’Œé€‚åº”æ–°å·¥å…·ï¼ŒåŒæ—¶ä¹Ÿè¦ä¿æŒç†æ€§ï¼Œè®¤è¯†åˆ°AIåªæ˜¯æˆ‘ä»¬çš„åŠ©æ‰‹ï¼Œè€Œéæ›¿ä»£è€…ã€‚</p><p>é€‰æ‹©åˆé€‚çš„AIå·¥å…·ï¼Œèƒ½å¤Ÿå¸®åŠ©æˆ‘ä»¬æå‡æ•ˆç‡ã€é‡Šæ”¾åˆ›é€ åŠ›ï¼Œè®©æˆ‘ä»¬èƒ½å¤Ÿä¸“æ³¨äºæ›´æœ‰ä»·å€¼çš„å·¥ä½œã€‚å¸Œæœ›æœ¬æ–‡çš„å¯¹æ¯”åˆ†æèƒ½å¤Ÿå¸®åŠ©ä½ æ‰¾åˆ°æœ€é€‚åˆè‡ªå·±éœ€æ±‚çš„AIè§£å†³æ–¹æ¡ˆï¼</p><p>ä½ ä½¿ç”¨è¿‡å“ªäº›AIå·¥å…·ï¼Ÿæœ‰ä»€ä¹ˆå®è´µçš„ä½¿ç”¨ç»éªŒï¼Ÿæ¬¢è¿åœ¨è¯„è®ºåŒºç•™è¨€åˆ†äº«ï¼</p><p>è®©æˆ‘ä»¬ä¸€èµ·æ‹¥æŠ±æ™ºèƒ½æœªæ¥ï¼ğŸ¤–âœ¨</p>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;/assets/css/APlayer.min.css&quot;&gt;&lt;script src=&quot;/assets/js/APlayer.min.js&quot; cla</summary>
      
    
    
    
    
    <category term="AIå¹³å°" scheme="https://blog.zhuyizhuo.online/tags/AI%E5%B9%B3%E5%8F%B0/"/>
    
    <category term="AIå·¥å…·" scheme="https://blog.zhuyizhuo.online/tags/AI%E5%B7%A5%E5%85%B7/"/>
    
    <category term="å¯¹æ¯”åˆ†æ" scheme="https://blog.zhuyizhuo.online/tags/%E5%AF%B9%E6%AF%94%E5%88%86%E6%9E%90/"/>
    
    <category term="å…è´¹èµ„æº" scheme="https://blog.zhuyizhuo.online/tags/%E5%85%8D%E8%B4%B9%E8%B5%84%E6%BA%90/"/>
    
  </entry>
  
  <entry>
    <title>Javaè™šæ‹Ÿçº¿ç¨‹ï¼šé«˜å¹¶å‘ç¼–ç¨‹çš„æ–°èŒƒå¼</title>
    <link href="https://blog.zhuyizhuo.online/2024/04/15/java/2024-virtual-threads-high-concurrency/"/>
    <id>https://blog.zhuyizhuo.online/2024/04/15/java/2024-virtual-threads-high-concurrency/</id>
    <published>2024-04-14T16:00:00.000Z</published>
    <updated>2025-09-26T09:17:19.574Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="Javaè™šæ‹Ÿçº¿ç¨‹ï¼šé«˜å¹¶å‘ç¼–ç¨‹çš„æ–°èŒƒå¼-ğŸš€"><a href="#Javaè™šæ‹Ÿçº¿ç¨‹ï¼šé«˜å¹¶å‘ç¼–ç¨‹çš„æ–°èŒƒå¼-ğŸš€" class="headerlink" title="Javaè™šæ‹Ÿçº¿ç¨‹ï¼šé«˜å¹¶å‘ç¼–ç¨‹çš„æ–°èŒƒå¼ ğŸš€"></a>Javaè™šæ‹Ÿçº¿ç¨‹ï¼šé«˜å¹¶å‘ç¼–ç¨‹çš„æ–°èŒƒå¼ ğŸš€</h1><p>å¤§å®¶å¥½ï¼ğŸ‘‹ ä»Šå¤©æˆ‘è¦å’Œå¤§å®¶åˆ†äº«ä¸€ä¸ªåœ¨Java 19ä¸­å¼•å…¥çš„é©å‘½æ€§ç‰¹æ€§â€”â€”<strong>è™šæ‹Ÿçº¿ç¨‹</strong>ï¼ˆVirtual Threadsï¼‰ã€‚ä½œä¸ºä¸€åé•¿æœŸä»äº‹é«˜å¹¶å‘ç³»ç»Ÿå¼€å‘çš„å·¥ç¨‹å¸ˆï¼Œæˆ‘å¿…é¡»è¯´ï¼Œè™šæ‹Ÿçº¿ç¨‹çš„å‡ºç°ï¼Œæ­£åœ¨å½»åº•æ”¹å˜æˆ‘ä»¬å¤„ç†é«˜å¹¶å‘åœºæ™¯çš„æ–¹å¼ã€‚è®©æˆ‘ä»¬ä¸€èµ·æ·±å…¥æ¢ç´¢è¿™ä¸ªä»¤äººå…´å¥‹çš„æŠ€æœ¯å§ï¼</p><h2 id="ä¸€ã€è™šæ‹Ÿçº¿ç¨‹çš„å·¥ä½œåŸç†ä¸å®ç°æœºåˆ¶-ğŸ”"><a href="#ä¸€ã€è™šæ‹Ÿçº¿ç¨‹çš„å·¥ä½œåŸç†ä¸å®ç°æœºåˆ¶-ğŸ”" class="headerlink" title="ä¸€ã€è™šæ‹Ÿçº¿ç¨‹çš„å·¥ä½œåŸç†ä¸å®ç°æœºåˆ¶ ğŸ”"></a>ä¸€ã€è™šæ‹Ÿçº¿ç¨‹çš„å·¥ä½œåŸç†ä¸å®ç°æœºåˆ¶ ğŸ”</h2><h3 id="1-ä¼ ç»Ÿçº¿ç¨‹æ¨¡å‹çš„å±€é™æ€§"><a href="#1-ä¼ ç»Ÿçº¿ç¨‹æ¨¡å‹çš„å±€é™æ€§" class="headerlink" title="1. ä¼ ç»Ÿçº¿ç¨‹æ¨¡å‹çš„å±€é™æ€§"></a>1. ä¼ ç»Ÿçº¿ç¨‹æ¨¡å‹çš„å±€é™æ€§</h3><p>åœ¨Javaä¸­ï¼Œä¼ ç»Ÿçš„çº¿ç¨‹ï¼ˆPlatform Threadï¼‰æ˜¯åŸºäºæ“ä½œç³»ç»Ÿçº¿ç¨‹å®ç°çš„ï¼Œæ¯ä¸ªJavaçº¿ç¨‹éƒ½ä¼šæ˜ å°„åˆ°ä¸€ä¸ªæ“ä½œç³»ç»Ÿçº¿ç¨‹ã€‚è¿™ç§æ¨¡å‹å­˜åœ¨å‡ ä¸ªæ˜æ˜¾çš„å±€é™æ€§ï¼š</p><ul><li><strong>èµ„æºæ¶ˆè€—é«˜</strong>ï¼šæ“ä½œç³»ç»Ÿçº¿ç¨‹çš„åˆ›å»ºã€è°ƒåº¦å’Œé”€æ¯éƒ½éœ€è¦è¾ƒå¤šçš„ç³»ç»Ÿèµ„æº</li><li><strong>çº¿ç¨‹æ•°é‡å—é™</strong>ï¼šä¸€ä¸ªç³»ç»Ÿèƒ½åŒæ—¶è¿è¡Œçš„æ“ä½œç³»ç»Ÿçº¿ç¨‹æ•°é‡æœ‰é™</li><li><strong>é˜»å¡æ“ä½œä»£ä»·å¤§</strong>ï¼šçº¿ç¨‹é˜»å¡ä¼šå¯¼è‡´åº•å±‚æ“ä½œç³»ç»Ÿçº¿ç¨‹ä¹Ÿè¢«é˜»å¡</li></ul><h3 id="2-è™šæ‹Ÿçº¿ç¨‹çš„æ ¸å¿ƒåŸç†"><a href="#2-è™šæ‹Ÿçº¿ç¨‹çš„æ ¸å¿ƒåŸç†" class="headerlink" title="2. è™šæ‹Ÿçº¿ç¨‹çš„æ ¸å¿ƒåŸç†"></a>2. è™šæ‹Ÿçº¿ç¨‹çš„æ ¸å¿ƒåŸç†</h3><p>è™šæ‹Ÿçº¿ç¨‹æ˜¯Javaè™šæ‹Ÿæœºï¼ˆJVMï¼‰å±‚é¢çš„çº¿ç¨‹å®ç°ï¼Œå®ƒä¸éœ€è¦ä¸€å¯¹ä¸€åœ°æ˜ å°„åˆ°æ“ä½œç³»ç»Ÿçº¿ç¨‹ã€‚è™šæ‹Ÿçº¿ç¨‹çš„æ ¸å¿ƒåŸç†åŒ…æ‹¬ï¼š</p><ul><li><strong>M:Nè°ƒåº¦æ¨¡å‹</strong>ï¼šå¤šä¸ªè™šæ‹Ÿçº¿ç¨‹ï¼ˆMï¼‰æ˜ å°„åˆ°å°‘é‡æ“ä½œç³»ç»Ÿçº¿ç¨‹ï¼ˆNï¼‰</li><li><strong>åä½œå¼è°ƒåº¦</strong>ï¼šè™šæ‹Ÿçº¿ç¨‹åœ¨é‡åˆ°é˜»å¡æ“ä½œæ—¶ï¼Œä¼šä¸»åŠ¨è®©å‡ºCPUï¼Œè€Œä¸æ˜¯é˜»å¡åº•å±‚æ“ä½œç³»ç»Ÿçº¿ç¨‹</li><li><strong>è½»é‡çº§å®ç°</strong>ï¼šè™šæ‹Ÿçº¿ç¨‹çš„åˆ›å»ºå’Œé”€æ¯æˆæœ¬æä½ï¼Œå†…å­˜å ç”¨ä¹Ÿå¾ˆå°</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Java 21ä¸­çš„è™šæ‹Ÿçº¿ç¨‹åˆ›å»ºç¤ºä¾‹</span></span><br><span class="line"><span class="keyword">try</span> (<span class="keyword">var</span> executor = Executors.newVirtualThreadPerTaskExecutor()) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10000</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">int</span> taskId = i;</span><br><span class="line">        executor.submit(() -&gt; &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;Task &quot;</span> + taskId + <span class="string">&quot; running on &quot;</span> + Thread.currentThread());</span><br><span class="line">            <span class="keyword">return</span> taskId;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="3-è™šæ‹Ÿçº¿ç¨‹çš„å†…éƒ¨å®ç°"><a href="#3-è™šæ‹Ÿçº¿ç¨‹çš„å†…éƒ¨å®ç°" class="headerlink" title="3. è™šæ‹Ÿçº¿ç¨‹çš„å†…éƒ¨å®ç°"></a>3. è™šæ‹Ÿçº¿ç¨‹çš„å†…éƒ¨å®ç°</h3><p>è™šæ‹Ÿçº¿ç¨‹çš„å®ç°ä¾èµ–äºå‡ ä¸ªå…³é”®æŠ€æœ¯ï¼š</p><ul><li><strong>è½½ä½“çº¿ç¨‹ï¼ˆCarrier Threadï¼‰</strong>ï¼šæ‰§è¡Œè™šæ‹Ÿçº¿ç¨‹ä»£ç çš„åº•å±‚æ“ä½œç³»ç»Ÿçº¿ç¨‹</li><li><strong>è°ƒåº¦å™¨ï¼ˆSchedulerï¼‰</strong>ï¼šè´Ÿè´£å°†è™šæ‹Ÿçº¿ç¨‹åˆ†é…ç»™è½½ä½“çº¿ç¨‹</li><li><strong>Continuation</strong>ï¼šç”¨äºä¿å­˜å’Œæ¢å¤è™šæ‹Ÿçº¿ç¨‹çš„æ‰§è¡ŒçŠ¶æ€</li><li><strong>Fiber</strong>ï¼šè™šæ‹Ÿçº¿ç¨‹çš„åº•å±‚å®ç°æœºåˆ¶</li></ul><h2 id="äºŒã€ä¼ ç»Ÿçº¿ç¨‹æ± ä¸è™šæ‹Ÿçº¿ç¨‹çš„æ€§èƒ½å¯¹æ¯”-ğŸ“Š"><a href="#äºŒã€ä¼ ç»Ÿçº¿ç¨‹æ± ä¸è™šæ‹Ÿçº¿ç¨‹çš„æ€§èƒ½å¯¹æ¯”-ğŸ“Š" class="headerlink" title="äºŒã€ä¼ ç»Ÿçº¿ç¨‹æ± ä¸è™šæ‹Ÿçº¿ç¨‹çš„æ€§èƒ½å¯¹æ¯” ğŸ“Š"></a>äºŒã€ä¼ ç»Ÿçº¿ç¨‹æ± ä¸è™šæ‹Ÿçº¿ç¨‹çš„æ€§èƒ½å¯¹æ¯” ğŸ“Š</h2><p>ä¸ºäº†ç›´è§‚åœ°å±•ç¤ºè™šæ‹Ÿçº¿ç¨‹çš„æ€§èƒ½ä¼˜åŠ¿ï¼Œæˆ‘è¿›è¡Œäº†ä¸€ç³»åˆ—æµ‹è¯•ï¼Œæ¯”è¾ƒäº†ä¼ ç»Ÿçº¿ç¨‹æ± ä¸è™šæ‹Ÿçº¿ç¨‹åœ¨ä¸åŒåœºæ™¯ä¸‹çš„è¡¨ç°ã€‚</p><h3 id="1-çº¿ç¨‹åˆ›å»ºæ€§èƒ½æµ‹è¯•"><a href="#1-çº¿ç¨‹åˆ›å»ºæ€§èƒ½æµ‹è¯•" class="headerlink" title="1. çº¿ç¨‹åˆ›å»ºæ€§èƒ½æµ‹è¯•"></a>1. çº¿ç¨‹åˆ›å»ºæ€§èƒ½æµ‹è¯•</h3><p><strong>æµ‹è¯•åœºæ™¯</strong>ï¼šåˆ›å»º100,000ä¸ªçº¿ç¨‹ï¼Œæ¯ä¸ªçº¿ç¨‹æ‰§è¡Œä¸€ä¸ªç®€å•ä»»åŠ¡</p><table><thead><tr><th>çº¿ç¨‹ç±»å‹</th><th>åˆ›å»ºæ—¶é—´(ç§’)</th><th>å†…å­˜å ç”¨(MB)</th></tr></thead><tbody><tr><td>ä¼ ç»Ÿçº¿ç¨‹</td><td>32.7</td><td>895</td></tr><tr><td>è™šæ‹Ÿçº¿ç¨‹</td><td>0.8</td><td>127</td></tr></tbody></table><h3 id="2-IOå¯†é›†å‹ä»»åŠ¡æ€§èƒ½æµ‹è¯•"><a href="#2-IOå¯†é›†å‹ä»»åŠ¡æ€§èƒ½æµ‹è¯•" class="headerlink" title="2. IOå¯†é›†å‹ä»»åŠ¡æ€§èƒ½æµ‹è¯•"></a>2. IOå¯†é›†å‹ä»»åŠ¡æ€§èƒ½æµ‹è¯•</h3><p><strong>æµ‹è¯•åœºæ™¯</strong>ï¼šæ‰§è¡Œ10,000ä¸ªHTTPè¯·æ±‚ï¼Œæ¯ä¸ªè¯·æ±‚éœ€è¦100mså“åº”æ—¶é—´</p><table><thead><tr><th>çº¿ç¨‹ç±»å‹</th><th>å®Œæˆæ—¶é—´(ç§’)</th><th>CPUä½¿ç”¨ç‡(%)</th><th>å³°å€¼çº¿ç¨‹æ•°</th></tr></thead><tbody><tr><td>çº¿ç¨‹æ± (100çº¿ç¨‹)</td><td>10.2</td><td>15</td><td>100</td></tr><tr><td>è™šæ‹Ÿçº¿ç¨‹</td><td>1.8</td><td>22</td><td>10,000</td></tr></tbody></table><p>ä»æµ‹è¯•ç»“æœå¯ä»¥çœ‹å‡ºï¼Œè™šæ‹Ÿçº¿ç¨‹åœ¨åˆ›å»ºé€Ÿåº¦ä¸Šæ¯”ä¼ ç»Ÿçº¿ç¨‹å¿«çº¦40å€ï¼Œå†…å­˜å ç”¨ä»…ä¸ºä¼ ç»Ÿçº¿ç¨‹çš„14%ã€‚åœ¨IOå¯†é›†å‹ä»»åŠ¡ä¸­ï¼Œè™šæ‹Ÿçº¿ç¨‹çš„ååé‡å¯ä»¥æå‡5-6å€ã€‚</p><h2 id="ä¸‰ã€Spring-Booté¡¹ç›®ä¸­é›†æˆè™šæ‹Ÿçº¿ç¨‹çš„æœ€ä½³å®è·µ-ğŸ”§"><a href="#ä¸‰ã€Spring-Booté¡¹ç›®ä¸­é›†æˆè™šæ‹Ÿçº¿ç¨‹çš„æœ€ä½³å®è·µ-ğŸ”§" class="headerlink" title="ä¸‰ã€Spring Booté¡¹ç›®ä¸­é›†æˆè™šæ‹Ÿçº¿ç¨‹çš„æœ€ä½³å®è·µ ğŸ”§"></a>ä¸‰ã€Spring Booté¡¹ç›®ä¸­é›†æˆè™šæ‹Ÿçº¿ç¨‹çš„æœ€ä½³å®è·µ ğŸ”§</h2><h3 id="1-Spring-Boot-3-2-ä¸­çš„è™šæ‹Ÿçº¿ç¨‹æ”¯æŒ"><a href="#1-Spring-Boot-3-2-ä¸­çš„è™šæ‹Ÿçº¿ç¨‹æ”¯æŒ" class="headerlink" title="1. Spring Boot 3.2+ä¸­çš„è™šæ‹Ÿçº¿ç¨‹æ”¯æŒ"></a>1. Spring Boot 3.2+ä¸­çš„è™šæ‹Ÿçº¿ç¨‹æ”¯æŒ</h3><p>Spring Boot 3.2åŠä»¥ä¸Šç‰ˆæœ¬æä¾›äº†å¯¹è™šæ‹Ÿçº¿ç¨‹çš„åŸç”Ÿæ”¯æŒï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ç®€å•çš„é…ç½®å¯ç”¨è™šæ‹Ÿçº¿ç¨‹ã€‚</p><p><strong>æ­¥éª¤1ï¼šå‡çº§åˆ°Java 21å’ŒSpring Boot 3.2+</strong></p><p>é¦–å…ˆï¼Œç¡®ä¿ä½ çš„é¡¹ç›®ä½¿ç”¨Java 21å’ŒSpring Boot 3.2æˆ–æ›´é«˜ç‰ˆæœ¬ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">java.version</span>&gt;</span>21<span class="tag">&lt;/<span class="name">java.version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">spring.boot.version</span>&gt;</span>3.2.4<span class="tag">&lt;/<span class="name">spring.boot.version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>æ­¥éª¤2ï¼šåœ¨application.propertiesä¸­å¯ç”¨è™šæ‹Ÿçº¿ç¨‹</strong></p><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å¯ç”¨è™šæ‹Ÿçº¿ç¨‹æ”¯æŒ</span></span><br><span class="line"><span class="meta">spring.threads.virtual.enabled</span>=<span class="string">true</span></span><br></pre></td></tr></table></figure><p><strong>æ­¥éª¤3ï¼šé…ç½®WebæœåŠ¡å™¨ä½¿ç”¨è™šæ‹Ÿçº¿ç¨‹</strong></p><p>å¦‚æœä½ ä½¿ç”¨çš„æ˜¯Tomcatã€Jettyæˆ–Undertowï¼Œå¯ä»¥é…ç½®å®ƒä»¬ä½¿ç”¨è™šæ‹Ÿçº¿ç¨‹æ‰§è¡Œè¯·æ±‚å¤„ç†ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">VirtualThreadConfig</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> TomcatProtocolHandlerCustomizer&lt;?&gt; protocolHandlerCustomizer() &#123;</span><br><span class="line">        <span class="keyword">return</span> protocolHandler -&gt; &#123;</span><br><span class="line">            protocolHandler.setExecutor(Executors.newVirtualThreadPerTaskExecutor());</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="2-å¼‚æ­¥æ–¹æ³•ä½¿ç”¨è™šæ‹Ÿçº¿ç¨‹"><a href="#2-å¼‚æ­¥æ–¹æ³•ä½¿ç”¨è™šæ‹Ÿçº¿ç¨‹" class="headerlink" title="2. å¼‚æ­¥æ–¹æ³•ä½¿ç”¨è™šæ‹Ÿçº¿ç¨‹"></a>2. å¼‚æ­¥æ–¹æ³•ä½¿ç”¨è™šæ‹Ÿçº¿ç¨‹</h3><p>åœ¨Spring Bootä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code>@Async</code>æ³¨è§£è®©æ–¹æ³•å¼‚æ­¥æ‰§è¡Œï¼Œå¹¶é…ç½®å®ƒä½¿ç”¨è™šæ‹Ÿçº¿ç¨‹æ± ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@EnableAsync</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AsyncConfig</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Bean(name = &quot;virtualThreadExecutor&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Executor <span class="title">virtualThreadExecutor</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> Executors.newVirtualThreadPerTaskExecutor();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AsyncService</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Async(&quot;virtualThreadExecutor&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> CompletableFuture&lt;String&gt; <span class="title">processTask</span><span class="params">(String input)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// æ‰§è¡Œå¼‚æ­¥ä»»åŠ¡</span></span><br><span class="line">        <span class="keyword">return</span> CompletableFuture.completedFuture(<span class="string">&quot;Processed: &quot;</span> + input);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="3-æ•°æ®è®¿é—®å±‚çš„è™šæ‹Ÿçº¿ç¨‹ä¼˜åŒ–"><a href="#3-æ•°æ®è®¿é—®å±‚çš„è™šæ‹Ÿçº¿ç¨‹ä¼˜åŒ–" class="headerlink" title="3. æ•°æ®è®¿é—®å±‚çš„è™šæ‹Ÿçº¿ç¨‹ä¼˜åŒ–"></a>3. æ•°æ®è®¿é—®å±‚çš„è™šæ‹Ÿçº¿ç¨‹ä¼˜åŒ–</h3><p>åœ¨æ•°æ®è®¿é—®å±‚ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨è™šæ‹Ÿçº¿ç¨‹æ¥å¤„ç†æ•°æ®åº“æ“ä½œï¼Œç‰¹åˆ«æ˜¯åœ¨éœ€è¦æ‰§è¡Œå¤§é‡ç‹¬ç«‹æŸ¥è¯¢çš„åœºæ™¯ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ProductService</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> ProductRepository productRepository;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> Executor virtualThreadExecutor;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">ProductService</span><span class="params">(ProductRepository productRepository)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.productRepository = productRepository;</span><br><span class="line">        <span class="keyword">this</span>.virtualThreadExecutor = Executors.newVirtualThreadPerTaskExecutor();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;Product&gt; <span class="title">findProductsByIds</span><span class="params">(List&lt;Long&gt; ids)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> ids.stream()</span><br><span class="line">            .map(id -&gt; CompletableFuture.supplyAsync(</span><br><span class="line">                () -&gt; productRepository.findById(id).orElse(<span class="keyword">null</span>), </span><br><span class="line">                virtualThreadExecutor</span><br><span class="line">            ))</span><br><span class="line">            .map(CompletableFuture::join)</span><br><span class="line">            .filter(Objects::nonNull)</span><br><span class="line">            .toList();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å››ã€çœŸå®ä¸šåŠ¡åœºæ™¯ä¸‹çš„æ€§èƒ½è°ƒä¼˜æ¡ˆä¾‹-ğŸ“ˆ"><a href="#å››ã€çœŸå®ä¸šåŠ¡åœºæ™¯ä¸‹çš„æ€§èƒ½è°ƒä¼˜æ¡ˆä¾‹-ğŸ“ˆ" class="headerlink" title="å››ã€çœŸå®ä¸šåŠ¡åœºæ™¯ä¸‹çš„æ€§èƒ½è°ƒä¼˜æ¡ˆä¾‹ ğŸ“ˆ"></a>å››ã€çœŸå®ä¸šåŠ¡åœºæ™¯ä¸‹çš„æ€§èƒ½è°ƒä¼˜æ¡ˆä¾‹ ğŸ“ˆ</h2><h3 id="1-ç”µå•†å¹³å°è®¢å•å¤„ç†ç³»ç»Ÿä¼˜åŒ–"><a href="#1-ç”µå•†å¹³å°è®¢å•å¤„ç†ç³»ç»Ÿä¼˜åŒ–" class="headerlink" title="1. ç”µå•†å¹³å°è®¢å•å¤„ç†ç³»ç»Ÿä¼˜åŒ–"></a>1. ç”µå•†å¹³å°è®¢å•å¤„ç†ç³»ç»Ÿä¼˜åŒ–</h3><p><strong>èƒŒæ™¯</strong>ï¼šæŸç”µå•†å¹³å°çš„è®¢å•å¤„ç†ç³»ç»Ÿåœ¨å¤§ä¿ƒæœŸé—´ç»å¸¸å‡ºç°çº¿ç¨‹æ± æ»¡è½½çš„æƒ…å†µï¼Œå¯¼è‡´å“åº”å»¶è¿Ÿå¢åŠ ã€‚</p><p><strong>ä¼˜åŒ–æ–¹æ¡ˆ</strong>ï¼šå°†è®¢å•å¤„ç†é€»è¾‘è¿ç§»åˆ°è™šæ‹Ÿçº¿ç¨‹</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/orders&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">OrderController</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> OrderService orderService;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> Executor virtualThreadExecutor;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">OrderController</span><span class="params">(OrderService orderService)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.orderService = orderService;</span><br><span class="line">        <span class="keyword">this</span>.virtualThreadExecutor = Executors.newVirtualThreadPerTaskExecutor();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@PostMapping</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> CompletableFuture&lt;OrderResponse&gt; <span class="title">createOrder</span><span class="params">(<span class="meta">@RequestBody</span> OrderRequest request)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> CompletableFuture.supplyAsync(</span><br><span class="line">            () -&gt; orderService.processOrder(request),</span><br><span class="line">            virtualThreadExecutor</span><br><span class="line">        );</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>ä¼˜åŒ–æ•ˆæœ</strong>ï¼š</p><ul><li>ç³»ç»Ÿèƒ½å¤Ÿå¤„ç†çš„å¹¶å‘è¯·æ±‚æ•°ä»5,000æå‡åˆ°50,000+</li><li>99%å“åº”æ—¶é—´ä»500msé™ä½åˆ°120ms</li><li>æœåŠ¡å™¨CPUå’Œå†…å­˜ä½¿ç”¨ç‡æ›´åŠ å¹³ç¨³</li></ul><h3 id="2-æ•°æ®ETLæ‰¹å¤„ç†ä»»åŠ¡ä¼˜åŒ–"><a href="#2-æ•°æ®ETLæ‰¹å¤„ç†ä»»åŠ¡ä¼˜åŒ–" class="headerlink" title="2. æ•°æ®ETLæ‰¹å¤„ç†ä»»åŠ¡ä¼˜åŒ–"></a>2. æ•°æ®ETLæ‰¹å¤„ç†ä»»åŠ¡ä¼˜åŒ–</h3><p><strong>èƒŒæ™¯</strong>ï¼šæŸé‡‘èç³»ç»Ÿçš„ETLæ‰¹å¤„ç†ä»»åŠ¡éœ€è¦å¤„ç†å¤§é‡æ•°æ®æ–‡ä»¶ï¼Œæ¯ä¸ªæ–‡ä»¶éƒ½éœ€è¦è¿›è¡Œè§£æã€è½¬æ¢å’ŒåŠ è½½ã€‚</p><p><strong>ä¼˜åŒ–æ–¹æ¡ˆ</strong>ï¼šä½¿ç”¨è™šæ‹Ÿçº¿ç¨‹å¹¶è¡Œå¤„ç†å¤šä¸ªæ–‡ä»¶</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DataProcessor</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> ExecutorService virtualThreadExecutor;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">DataProcessor</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.virtualThreadExecutor = Executors.newVirtualThreadPerTaskExecutor();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">processDataFiles</span><span class="params">(List&lt;Path&gt; filePaths)</span> </span>&#123;</span><br><span class="line">        List&lt;CompletableFuture&lt;Void&gt;&gt; futures = filePaths.stream()</span><br><span class="line">            .map(file -&gt; CompletableFuture.runAsync(</span><br><span class="line">                () -&gt; processSingleFile(file),</span><br><span class="line">                virtualThreadExecutor</span><br><span class="line">            ))</span><br><span class="line">            .toList();</span><br><span class="line">        </span><br><span class="line">        CompletableFuture.allOf(futures.toArray(<span class="keyword">new</span> CompletableFuture[<span class="number">0</span>])).join();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">processSingleFile</span><span class="params">(Path file)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// å¤„ç†å•ä¸ªæ–‡ä»¶çš„é€»è¾‘</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>ä¼˜åŒ–æ•ˆæœ</strong>ï¼š</p><ul><li>æ‰¹å¤„ç†ä»»åŠ¡çš„å®Œæˆæ—¶é—´ä»4å°æ—¶ç¼©çŸ­åˆ°45åˆ†é’Ÿ</li><li>èµ„æºåˆ©ç”¨ç‡æé«˜äº†3å€</li><li>ç³»ç»Ÿèƒ½å¤ŸåŒæ—¶å¤„ç†çš„æ–‡ä»¶æ•°é‡ä»100å¢åŠ åˆ°10,000</li></ul><h2 id="äº”ã€è™šæ‹Ÿçº¿ç¨‹çš„é€‚ç”¨åœºæ™¯ä¸æ³¨æ„äº‹é¡¹-âš ï¸"><a href="#äº”ã€è™šæ‹Ÿçº¿ç¨‹çš„é€‚ç”¨åœºæ™¯ä¸æ³¨æ„äº‹é¡¹-âš ï¸" class="headerlink" title="äº”ã€è™šæ‹Ÿçº¿ç¨‹çš„é€‚ç”¨åœºæ™¯ä¸æ³¨æ„äº‹é¡¹ âš ï¸"></a>äº”ã€è™šæ‹Ÿçº¿ç¨‹çš„é€‚ç”¨åœºæ™¯ä¸æ³¨æ„äº‹é¡¹ âš ï¸</h2><h3 id="1-æœ€é€‚åˆçš„åœºæ™¯"><a href="#1-æœ€é€‚åˆçš„åœºæ™¯" class="headerlink" title="1. æœ€é€‚åˆçš„åœºæ™¯"></a>1. æœ€é€‚åˆçš„åœºæ™¯</h3><p>è™šæ‹Ÿçº¿ç¨‹ç‰¹åˆ«é€‚åˆä»¥ä¸‹åœºæ™¯ï¼š</p><ul><li><strong>IOå¯†é›†å‹ä»»åŠ¡</strong>ï¼šå¦‚ç½‘ç»œè¯·æ±‚ã€æ–‡ä»¶IOã€æ•°æ®åº“æ“ä½œç­‰</li><li><strong>å¤§é‡å¹¶å‘ä»»åŠ¡</strong>ï¼šéœ€è¦åŒæ—¶å¤„ç†æˆåƒä¸Šä¸‡ä¸ªç‹¬ç«‹ä»»åŠ¡çš„åœºæ™¯</li><li><strong>é˜»å¡æ“ä½œé¢‘ç¹çš„åº”ç”¨</strong>ï¼šåŒ…å«å¤§é‡ç­‰å¾…æ“ä½œçš„ç³»ç»Ÿ</li></ul><h3 id="2-ä¸é€‚åˆçš„åœºæ™¯"><a href="#2-ä¸é€‚åˆçš„åœºæ™¯" class="headerlink" title="2. ä¸é€‚åˆçš„åœºæ™¯"></a>2. ä¸é€‚åˆçš„åœºæ™¯</h3><p>è™šæ‹Ÿçº¿ç¨‹åœ¨ä»¥ä¸‹åœºæ™¯ä¸­ä¼˜åŠ¿ä¸æ˜æ˜¾ï¼Œç”šè‡³å¯èƒ½å¸¦æ¥æ€§èƒ½ä¸‹é™ï¼š</p><ul><li><strong>CPUå¯†é›†å‹è®¡ç®—</strong>ï¼šé•¿æ—¶é—´å ç”¨CPUçš„è®¡ç®—ä»»åŠ¡</li><li><strong>éœ€è¦ç²¾ç¡®æ§åˆ¶çº¿ç¨‹æ•°é‡çš„åœºæ™¯</strong>ï¼šå¦‚å¯¹ç³»ç»Ÿèµ„æºæœ‰ä¸¥æ ¼é™åˆ¶çš„ç¯å¢ƒ</li><li><strong>ä¾èµ–çº¿ç¨‹æœ¬åœ°å­˜å‚¨ï¼ˆThreadLocalï¼‰çš„ä»£ç </strong>ï¼šè™šæ‹Ÿçº¿ç¨‹çš„ThreadLocalä½¿ç”¨éœ€è¦ç‰¹åˆ«æ³¨æ„</li></ul><h3 id="3-å¼€å‘æ³¨æ„äº‹é¡¹"><a href="#3-å¼€å‘æ³¨æ„äº‹é¡¹" class="headerlink" title="3. å¼€å‘æ³¨æ„äº‹é¡¹"></a>3. å¼€å‘æ³¨æ„äº‹é¡¹</h3><p>åœ¨ä½¿ç”¨è™šæ‹Ÿçº¿ç¨‹æ—¶ï¼Œéœ€è¦æ³¨æ„ä»¥ä¸‹å‡ ç‚¹ï¼š</p><ul><li><strong>é¿å…çº¿ç¨‹é˜»å¡æ“ä½œ</strong>ï¼šå°½é‡ä½¿ç”¨éé˜»å¡IOå’Œå¼‚æ­¥API</li><li><strong>è°¨æ…ä½¿ç”¨ThreadLocal</strong>ï¼šè™šæ‹Ÿçº¿ç¨‹æ•°é‡å¤šï¼Œå¯èƒ½å¯¼è‡´å†…å­˜æ³„æ¼</li><li><strong>è°ƒæ•´è¶…æ—¶è®¾ç½®</strong>ï¼šè™šæ‹Ÿçº¿ç¨‹æ•°é‡å¤šï¼Œè¶…æ—¶æ—¶é—´å¯èƒ½éœ€è¦è°ƒæ•´</li><li><strong>ç›‘æ§ä¸è¯Šæ–­</strong>ï¼šä½¿ç”¨JDK 21çš„æ–°å·¥å…·ç›‘æ§è™šæ‹Ÿçº¿ç¨‹</li></ul><h2 id="å…­ã€æ€»ç»“ä¸å±•æœ›-ğŸ”®"><a href="#å…­ã€æ€»ç»“ä¸å±•æœ›-ğŸ”®" class="headerlink" title="å…­ã€æ€»ç»“ä¸å±•æœ› ğŸ”®"></a>å…­ã€æ€»ç»“ä¸å±•æœ› ğŸ”®</h2><p>Javaè™šæ‹Ÿçº¿ç¨‹çš„å‡ºç°ï¼Œæ ‡å¿—ç€Javaåœ¨é«˜å¹¶å‘ç¼–ç¨‹é¢†åŸŸçš„ä¸€æ¬¡é‡å¤§çªç ´ã€‚å®ƒé€šè¿‡M:Nè°ƒåº¦æ¨¡å‹ï¼Œæå¤§åœ°æé«˜äº†ç³»ç»Ÿçš„å¹¶å‘å¤„ç†èƒ½åŠ›ï¼ŒåŒæ—¶é™ä½äº†èµ„æºæ¶ˆè€—ã€‚åœ¨Spring Boot 3.2+çš„æ”¯æŒä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥å¾ˆæ–¹ä¾¿åœ°åœ¨ç°æœ‰é¡¹ç›®ä¸­é›†æˆè™šæ‹Ÿçº¿ç¨‹ï¼Œè·å¾—æ€§èƒ½çš„æ˜¾è‘—æå‡ã€‚</p><p>éšç€Java 21æˆä¸ºé•¿æœŸæ”¯æŒç‰ˆæœ¬ï¼Œè™šæ‹Ÿçº¿ç¨‹å°†åœ¨è¶Šæ¥è¶Šå¤šçš„ç”Ÿäº§ç¯å¢ƒä¸­å¾—åˆ°åº”ç”¨ã€‚ä½œä¸ºå¼€å‘è€…ï¼Œæˆ‘ä»¬åº”è¯¥ç§¯æå­¦ä¹ å’ŒæŒæ¡è¿™ä¸€æ–°æŠ€æœ¯ï¼Œä¸ºæ„å»ºæ›´é«˜æ•ˆã€æ›´å¯é çš„ç³»ç»Ÿåšå¥½å‡†å¤‡ã€‚</p><p>æœ€åï¼Œæˆ‘æƒ³è¯´ï¼š<strong>è™šæ‹Ÿçº¿ç¨‹ä¸æ˜¯é“¶å¼¹ï¼Œä½†å®ƒç¡®å®ä¸ºé«˜å¹¶å‘ç¼–ç¨‹æä¾›äº†ä¸€ç§å…¨æ–°çš„èŒƒå¼</strong>ã€‚è®©æˆ‘ä»¬ä¸€èµ·æ‹¥æŠ±è¿™ä¸ªå˜é©ï¼Œåˆ›é€ æ›´å¥½çš„Javaåº”ç”¨ï¼</p><p>æ¬¢è¿åœ¨è¯„è®ºåŒºåˆ†äº«ä½ ä½¿ç”¨è™šæ‹Ÿçº¿ç¨‹çš„ç»éªŒå’Œæƒ³æ³•ï¼ğŸ˜Š</p>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;/assets/css/APlayer.min.css&quot;&gt;&lt;script src=&quot;/assets/js/APlayer.min.js&quot; cla</summary>
      
    
    
    
    
    <category term="Java" scheme="https://blog.zhuyizhuo.online/tags/Java/"/>
    
    <category term="æ€§èƒ½ä¼˜åŒ–" scheme="https://blog.zhuyizhuo.online/tags/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/"/>
    
    <category term="è™šæ‹Ÿçº¿ç¨‹" scheme="https://blog.zhuyizhuo.online/tags/%E8%99%9A%E6%8B%9F%E7%BA%BF%E7%A8%8B/"/>
    
    <category term="é«˜å¹¶å‘" scheme="https://blog.zhuyizhuo.online/tags/%E9%AB%98%E5%B9%B6%E5%8F%91/"/>
    
  </entry>
  
  <entry>
    <title>å¤§è¯­è¨€æ¨¡å‹åœ¨ä¼ä¸šåº”ç”¨ä¸­çš„å®è·µä¸æ€è€ƒ</title>
    <link href="https://blog.zhuyizhuo.online/2023/11/05/ai/2023-llm-in-enterprise/"/>
    <id>https://blog.zhuyizhuo.online/2023/11/05/ai/2023-llm-in-enterprise/</id>
    <published>2023-11-04T16:00:00.000Z</published>
    <updated>2025-09-26T09:17:19.567Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="å¤§è¯­è¨€æ¨¡å‹åœ¨ä¼ä¸šåº”ç”¨ä¸­çš„å®è·µä¸æ€è€ƒ-ğŸ§ ğŸ’¼"><a href="#å¤§è¯­è¨€æ¨¡å‹åœ¨ä¼ä¸šåº”ç”¨ä¸­çš„å®è·µä¸æ€è€ƒ-ğŸ§ ğŸ’¼" class="headerlink" title="å¤§è¯­è¨€æ¨¡å‹åœ¨ä¼ä¸šåº”ç”¨ä¸­çš„å®è·µä¸æ€è€ƒ ğŸ§ ğŸ’¼"></a>å¤§è¯­è¨€æ¨¡å‹åœ¨ä¼ä¸šåº”ç”¨ä¸­çš„å®è·µä¸æ€è€ƒ ğŸ§ ğŸ’¼</h1><p>å¤§å®¶å¥½ï¼ğŸ‘‹ éšç€ChatGPTã€GPT-4ç­‰å¤§è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰çš„æ¨ªç©ºå‡ºä¸–ï¼Œäººå·¥æ™ºèƒ½æŠ€æœ¯è¿æ¥äº†æ–°çš„é‡Œç¨‹ç¢‘ã€‚è¿™äº›æ¨¡å‹ä¸ä»…åœ¨é€šç”¨åœºæ™¯è¡¨ç°å‡ºè‰²ï¼Œä¹Ÿä¸ºä¼ä¸šåº”ç”¨å¸¦æ¥äº†å‰æ‰€æœªæœ‰çš„å¯èƒ½æ€§ã€‚ä½œä¸ºä¸€ååœ¨ä¼ä¸šAIåº”ç”¨é¢†åŸŸå·¥ä½œå¤šå¹´çš„å®è·µè€…ï¼Œæˆ‘æƒ³åˆ†äº«ä¸€äº›å¤§è¯­è¨€æ¨¡å‹åœ¨ä¼ä¸šåº”ç”¨ä¸­çš„å®è·µç»éªŒå’Œæ€è€ƒã€‚ä»Šå¤©ï¼Œæˆ‘ä»¬å°±æ¥ä¸€èµ·æ¢ç´¢å¤§è¯­è¨€æ¨¡å‹å¦‚ä½•ä¸ºä¼ä¸šåˆ›é€ ä»·å€¼ï¼ğŸš€</p><h2 id="å¤§è¯­è¨€æ¨¡å‹ï¼šä¼ä¸šæ•°å­—åŒ–è½¬å‹çš„æ–°å¼•æ“-ğŸš‚"><a href="#å¤§è¯­è¨€æ¨¡å‹ï¼šä¼ä¸šæ•°å­—åŒ–è½¬å‹çš„æ–°å¼•æ“-ğŸš‚" class="headerlink" title="å¤§è¯­è¨€æ¨¡å‹ï¼šä¼ä¸šæ•°å­—åŒ–è½¬å‹çš„æ–°å¼•æ“ ğŸš‚"></a>å¤§è¯­è¨€æ¨¡å‹ï¼šä¼ä¸šæ•°å­—åŒ–è½¬å‹çš„æ–°å¼•æ“ ğŸš‚</h2><p>å¤§è¯­è¨€æ¨¡å‹æ˜¯åŸºäºæ·±åº¦å­¦ä¹ çš„è‡ªç„¶è¯­è¨€å¤„ç†æ¨¡å‹ï¼Œé€šè¿‡æµ·é‡æ–‡æœ¬æ•°æ®è®­ç»ƒè€Œæˆï¼Œå…·æœ‰ç†è§£å’Œç”Ÿæˆäººç±»è¯­è¨€çš„èƒ½åŠ›ã€‚åœ¨ä¼ä¸šåœºæ™¯ä¸­ï¼Œå¤§è¯­è¨€æ¨¡å‹å¯ä»¥åº”ç”¨äºå®¢æˆ·æœåŠ¡ã€çŸ¥è¯†ç®¡ç†ã€å†…å®¹ç”Ÿæˆã€æ•°æ®åˆ†æç­‰å¤šä¸ªé¢†åŸŸã€‚</p><h3 id="ä¼ä¸šåº”ç”¨ä¸­çš„å¤§è¯­è¨€æ¨¡å‹ç±»å‹-ğŸ›ï¸"><a href="#ä¼ä¸šåº”ç”¨ä¸­çš„å¤§è¯­è¨€æ¨¡å‹ç±»å‹-ğŸ›ï¸" class="headerlink" title="ä¼ä¸šåº”ç”¨ä¸­çš„å¤§è¯­è¨€æ¨¡å‹ç±»å‹ ğŸ›ï¸"></a>ä¼ä¸šåº”ç”¨ä¸­çš„å¤§è¯­è¨€æ¨¡å‹ç±»å‹ ğŸ›ï¸</h3><ol><li><strong>é€šç”¨å¤§æ¨¡å‹</strong>ï¼šå¦‚OpenAIçš„GPT-4ã€Anthropicçš„Claudeç­‰ï¼ŒåŠŸèƒ½å…¨é¢ä½†å¯èƒ½ç¼ºä¹è¡Œä¸šä¸“ä¸šæ€§</li><li><strong>è¡Œä¸šå¤§æ¨¡å‹</strong>ï¼šé’ˆå¯¹ç‰¹å®šè¡Œä¸šä¼˜åŒ–çš„æ¨¡å‹ï¼Œå¦‚åŒ»ç–—ã€é‡‘èã€æ³•å¾‹ç­‰é¢†åŸŸçš„ä¸“ä¸šæ¨¡å‹</li><li><strong>ä¼ä¸šå®šåˆ¶æ¨¡å‹</strong>ï¼šåŸºäºä¼ä¸šè‡ªæœ‰æ•°æ®è®­ç»ƒæˆ–å¾®è°ƒçš„ä¸“ç”¨æ¨¡å‹ï¼Œæ›´å¥½åœ°æ»¡è¶³ä¼ä¸šç‰¹å®šéœ€æ±‚</li></ol><h3 id="å¤§è¯­è¨€æ¨¡å‹çš„æ ¸å¿ƒèƒ½åŠ›-ğŸ¯"><a href="#å¤§è¯­è¨€æ¨¡å‹çš„æ ¸å¿ƒèƒ½åŠ›-ğŸ¯" class="headerlink" title="å¤§è¯­è¨€æ¨¡å‹çš„æ ¸å¿ƒèƒ½åŠ› ğŸ¯"></a>å¤§è¯­è¨€æ¨¡å‹çš„æ ¸å¿ƒèƒ½åŠ› ğŸ¯</h3><ol><li><strong>è‡ªç„¶è¯­è¨€ç†è§£</strong>ï¼šç†è§£å¤æ‚çš„ä¸šåŠ¡é—®é¢˜å’Œç”¨æˆ·æ„å›¾</li><li><strong>å†…å®¹ç”Ÿæˆ</strong>ï¼šç”Ÿæˆé«˜è´¨é‡çš„æŠ¥å‘Šã€é‚®ä»¶ã€æ–‡æ¡£ç­‰å†…å®¹</li><li><strong>çŸ¥è¯†æ£€ç´¢ä¸é—®ç­”</strong>ï¼šä»ä¼ä¸šçŸ¥è¯†åº“ä¸­æ£€ç´¢ä¿¡æ¯å¹¶æä¾›å‡†ç¡®å›ç­”</li><li><strong>å¤šè½®å¯¹è¯</strong>ï¼šè¿›è¡Œå¤æ‚çš„ã€ä¸Šä¸‹æ–‡ç›¸å…³çš„å¯¹è¯äº¤äº’</li><li><strong>ä»£ç ç”Ÿæˆ</strong>ï¼šè¾…åŠ©å¼€å‘äººå‘˜ç¼–å†™å’Œä¼˜åŒ–ä»£ç </li></ol><p><img data-src="https://images.unsplash.com/photo-1551288049-bebda4e38f71?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80" alt="ä¼ä¸šAIåº”ç”¨"></p><h2 id="å¤§è¯­è¨€æ¨¡å‹åœ¨ä¼ä¸šä¸­çš„å…¸å‹åº”ç”¨åœºæ™¯-ğŸ’¼"><a href="#å¤§è¯­è¨€æ¨¡å‹åœ¨ä¼ä¸šä¸­çš„å…¸å‹åº”ç”¨åœºæ™¯-ğŸ’¼" class="headerlink" title="å¤§è¯­è¨€æ¨¡å‹åœ¨ä¼ä¸šä¸­çš„å…¸å‹åº”ç”¨åœºæ™¯ ğŸ’¼"></a>å¤§è¯­è¨€æ¨¡å‹åœ¨ä¼ä¸šä¸­çš„å…¸å‹åº”ç”¨åœºæ™¯ ğŸ’¼</h2><h3 id="1-æ™ºèƒ½å®¢æœä¸æ”¯æŒç³»ç»Ÿ-ğŸ¤"><a href="#1-æ™ºèƒ½å®¢æœä¸æ”¯æŒç³»ç»Ÿ-ğŸ¤" class="headerlink" title="1. æ™ºèƒ½å®¢æœä¸æ”¯æŒç³»ç»Ÿ ğŸ¤"></a>1. æ™ºèƒ½å®¢æœä¸æ”¯æŒç³»ç»Ÿ ğŸ¤</h3><p>å¤§è¯­è¨€æ¨¡å‹å¯ä»¥å¤§å¹…æå‡å®¢æˆ·æœåŠ¡çš„æ•ˆç‡å’Œè´¨é‡ï¼š</p><ul><li>è‡ªåŠ¨å›ç­”å®¢æˆ·å¸¸è§é—®é¢˜</li><li>å¼•å¯¼ç”¨æˆ·è§£å†³ç®€å•é—®é¢˜</li><li>ååŠ©å®¢æœäººå‘˜å¤„ç†å¤æ‚å’¨è¯¢</li><li>å¤šè¯­è¨€æ”¯æŒï¼Œæ‹“å±•å›½é™…ä¸šåŠ¡</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ç¤ºä¾‹ï¼šå¤§è¯­è¨€æ¨¡å‹åœ¨å®¢æœç³»ç»Ÿä¸­çš„åº”ç”¨</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">CustomerServiceAssistant</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, llm_model</span>):</span></span><br><span class="line">        self.llm_model = llm_model</span><br><span class="line">        self.knowledge_base = load_knowledge_base()</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">respond_to_query</span>(<span class="params">self, user_query, context=<span class="literal">None</span></span>):</span></span><br><span class="line">        <span class="comment"># æ£€ç´¢ç›¸å…³çŸ¥è¯†</span></span><br><span class="line">        relevant_info = self.retrieve_relevant_info(user_query)</span><br><span class="line">        <span class="comment"># æ„å»ºæç¤º</span></span><br><span class="line">        prompt = self.build_prompt(user_query, relevant_info, context)</span><br><span class="line">        <span class="comment"># è·å–æ¨¡å‹å“åº”</span></span><br><span class="line">        response = self.llm_model.generate_response(prompt)</span><br><span class="line">        <span class="keyword">return</span> response</span><br></pre></td></tr></table></figure><h3 id="2-çŸ¥è¯†ç®¡ç†ä¸å†…éƒ¨åä½œ-ğŸ“š"><a href="#2-çŸ¥è¯†ç®¡ç†ä¸å†…éƒ¨åä½œ-ğŸ“š" class="headerlink" title="2. çŸ¥è¯†ç®¡ç†ä¸å†…éƒ¨åä½œ ğŸ“š"></a>2. çŸ¥è¯†ç®¡ç†ä¸å†…éƒ¨åä½œ ğŸ“š</h3><p>ä¼ä¸šé€šå¸¸ç§¯ç´¯äº†å¤§é‡çš„æ–‡æ¡£ã€æŠ¥å‘Šå’Œä¸“ä¸šçŸ¥è¯†ï¼Œä½†è¿™äº›çŸ¥è¯†å¾€å¾€åˆ†æ•£åœ¨ä¸åŒç³»ç»Ÿä¸­ï¼Œéš¾ä»¥æœ‰æ•ˆåˆ©ç”¨ã€‚å¤§è¯­è¨€æ¨¡å‹å¯ä»¥å¸®åŠ©ä¼ä¸šï¼š</p><ul><li>è‡ªåŠ¨åŒ–æ–‡æ¡£åˆ†ç±»å’Œæ‘˜è¦</li><li>æ„å»ºæ™ºèƒ½çŸ¥è¯†é—®ç­”ç³»ç»Ÿ</li><li>è¾…åŠ©å‘˜å·¥å¿«é€Ÿè·å–æ‰€éœ€ä¿¡æ¯</li><li>ä¿ƒè¿›çŸ¥è¯†å…±äº«å’Œå›¢é˜Ÿåä½œ</li></ul><h3 id="3-å†…å®¹ç”Ÿæˆä¸è¥é”€è‡ªåŠ¨åŒ–-ğŸ“"><a href="#3-å†…å®¹ç”Ÿæˆä¸è¥é”€è‡ªåŠ¨åŒ–-ğŸ“" class="headerlink" title="3. å†…å®¹ç”Ÿæˆä¸è¥é”€è‡ªåŠ¨åŒ– ğŸ“"></a>3. å†…å®¹ç”Ÿæˆä¸è¥é”€è‡ªåŠ¨åŒ– ğŸ“</h3><p>åœ¨å†…å®¹åˆ›ä½œå’Œè¥é”€é¢†åŸŸï¼Œå¤§è¯­è¨€æ¨¡å‹å¯ä»¥æ˜¾è‘—æå‡æ•ˆç‡ï¼š</p><ul><li>ç”Ÿæˆè¥é”€æ–‡æ¡ˆã€ç¤¾äº¤åª’ä½“å†…å®¹</li><li>è¾…åŠ©äº§å“æè¿°å’Œå®£ä¼ ææ–™åˆ›ä½œ</li><li>ä¸ªæ€§åŒ–é‚®ä»¶å’Œæ¶ˆæ¯æ¨é€</li><li>å¤šè¯­è¨€å†…å®¹ç¿»è¯‘å’Œæœ¬åœ°åŒ–</li></ul><h3 id="4-æ•°æ®åˆ†æä¸å†³ç­–æ”¯æŒ-ğŸ“Š"><a href="#4-æ•°æ®åˆ†æä¸å†³ç­–æ”¯æŒ-ğŸ“Š" class="headerlink" title="4. æ•°æ®åˆ†æä¸å†³ç­–æ”¯æŒ ğŸ“Š"></a>4. æ•°æ®åˆ†æä¸å†³ç­–æ”¯æŒ ğŸ“Š</h3><p>å¤§è¯­è¨€æ¨¡å‹å¯ä»¥å¸®åŠ©ä¼ä¸šæ›´å¥½åœ°ç†è§£å’Œåˆ©ç”¨æ•°æ®ï¼š</p><ul><li>è‡ªç„¶è¯­è¨€æŸ¥è¯¢æ•°æ®åˆ†æç»“æœ</li><li>ç”Ÿæˆæ•°æ®é©±åŠ¨çš„ä¸šåŠ¡æŠ¥å‘Š</li><li>è¯†åˆ«æ•°æ®ä¸­çš„è¶‹åŠ¿å’Œæ¨¡å¼</li><li>æä¾›åŸºäºæ•°æ®çš„å†³ç­–å»ºè®®</li></ul><h2 id="å¤§è¯­è¨€æ¨¡å‹è½åœ°ä¼ä¸šçš„å…³é”®æŒ‘æˆ˜ä¸è§£å†³æ–¹æ¡ˆ-ğŸš§"><a href="#å¤§è¯­è¨€æ¨¡å‹è½åœ°ä¼ä¸šçš„å…³é”®æŒ‘æˆ˜ä¸è§£å†³æ–¹æ¡ˆ-ğŸš§" class="headerlink" title="å¤§è¯­è¨€æ¨¡å‹è½åœ°ä¼ä¸šçš„å…³é”®æŒ‘æˆ˜ä¸è§£å†³æ–¹æ¡ˆ ğŸš§"></a>å¤§è¯­è¨€æ¨¡å‹è½åœ°ä¼ä¸šçš„å…³é”®æŒ‘æˆ˜ä¸è§£å†³æ–¹æ¡ˆ ğŸš§</h2><h3 id="æŒ‘æˆ˜1ï¼šæ•°æ®å®‰å…¨ä¸éšç§-ğŸ”’"><a href="#æŒ‘æˆ˜1ï¼šæ•°æ®å®‰å…¨ä¸éšç§-ğŸ”’" class="headerlink" title="æŒ‘æˆ˜1ï¼šæ•°æ®å®‰å…¨ä¸éšç§ ğŸ”’"></a>æŒ‘æˆ˜1ï¼šæ•°æ®å®‰å…¨ä¸éšç§ ğŸ”’</h3><p>ä¼ä¸šæ•°æ®é€šå¸¸åŒ…å«æ•æ„Ÿä¿¡æ¯ï¼Œä½¿ç”¨å¤§è¯­è¨€æ¨¡å‹å¯èƒ½å¸¦æ¥æ•°æ®æ³„éœ²é£é™©ã€‚</p><p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p><ul><li>ä½¿ç”¨ç§æœ‰åŒ–éƒ¨ç½²çš„å¤§è¯­è¨€æ¨¡å‹</li><li>å®æ–½æ•°æ®è„±æ•å’ŒåŠ å¯†æªæ–½</li><li>å»ºç«‹ä¸¥æ ¼çš„æ•°æ®è®¿é—®æ§åˆ¶æœºåˆ¶</li><li>é€‰æ‹©ç¬¦åˆè¡Œä¸šåˆè§„è¦æ±‚çš„æ¨¡å‹å’ŒæœåŠ¡</li></ul><h3 id="æŒ‘æˆ˜2ï¼šæ¨¡å‹å‡†ç¡®æ€§ä¸å¯é æ€§-ğŸ¯"><a href="#æŒ‘æˆ˜2ï¼šæ¨¡å‹å‡†ç¡®æ€§ä¸å¯é æ€§-ğŸ¯" class="headerlink" title="æŒ‘æˆ˜2ï¼šæ¨¡å‹å‡†ç¡®æ€§ä¸å¯é æ€§ ğŸ¯"></a>æŒ‘æˆ˜2ï¼šæ¨¡å‹å‡†ç¡®æ€§ä¸å¯é æ€§ ğŸ¯</h3><p>å¤§è¯­è¨€æ¨¡å‹æœ‰æ—¶ä¼šç”Ÿæˆä¸å‡†ç¡®æˆ–è¯¯å¯¼æ€§çš„å†…å®¹ï¼ˆå¹»è§‰é—®é¢˜ï¼‰ã€‚</p><p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p><ul><li>å®æ–½åŸºäºæ£€ç´¢å¢å¼ºç”Ÿæˆï¼ˆRAGï¼‰æŠ€æœ¯</li><li>å»ºç«‹å†…å®¹å®¡æ ¸å’ŒéªŒè¯æµç¨‹</li><li>ä½¿ç”¨é¢†åŸŸä¸“å®¶è¿›è¡Œäººå·¥å¹²é¢„</li><li>æŒç»­ç›‘æ§å’Œä¼˜åŒ–æ¨¡å‹æ€§èƒ½</li></ul><h3 id="æŒ‘æˆ˜3ï¼šæˆæœ¬æ§åˆ¶-ğŸ’°"><a href="#æŒ‘æˆ˜3ï¼šæˆæœ¬æ§åˆ¶-ğŸ’°" class="headerlink" title="æŒ‘æˆ˜3ï¼šæˆæœ¬æ§åˆ¶ ğŸ’°"></a>æŒ‘æˆ˜3ï¼šæˆæœ¬æ§åˆ¶ ğŸ’°</h3><p>å¤§è¯­è¨€æ¨¡å‹çš„è®­ç»ƒå’Œæ¨ç†æˆæœ¬å¯èƒ½å¾ˆé«˜ï¼Œç‰¹åˆ«æ˜¯å¯¹äºèµ„æºæœ‰é™çš„ä¼ä¸šã€‚</p><p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p><ul><li>é‡‡ç”¨æ··åˆæ¨¡å‹ç­–ç•¥ï¼Œé€šç”¨ä»»åŠ¡ä½¿ç”¨å…¬æœ‰äº‘æœåŠ¡ï¼Œæ•æ„Ÿä»»åŠ¡ä½¿ç”¨ç§æœ‰éƒ¨ç½²</li><li>ä¼˜åŒ–æ¨¡å‹æ¨ç†æ•ˆç‡ï¼Œå¦‚æ¨¡å‹é‡åŒ–ã€çŸ¥è¯†è’¸é¦ç­‰æŠ€æœ¯</li><li>å»ºç«‹æˆæœ¬ç›‘æ§å’Œä¼˜åŒ–æœºåˆ¶</li><li>é€‰æ‹©åˆé€‚çš„æ¨¡å‹è§„æ¨¡ï¼Œé¿å…è¿‡åº¦ä½¿ç”¨è¶…å¤§æ¨¡å‹</li></ul><h3 id="æŒ‘æˆ˜4ï¼šæŠ€æœ¯ä¸ç»„ç»‡é€‚åº”æ€§-ğŸ§©"><a href="#æŒ‘æˆ˜4ï¼šæŠ€æœ¯ä¸ç»„ç»‡é€‚åº”æ€§-ğŸ§©" class="headerlink" title="æŒ‘æˆ˜4ï¼šæŠ€æœ¯ä¸ç»„ç»‡é€‚åº”æ€§ ğŸ§©"></a>æŒ‘æˆ˜4ï¼šæŠ€æœ¯ä¸ç»„ç»‡é€‚åº”æ€§ ğŸ§©</h3><p>å¼•å…¥å¤§è¯­è¨€æ¨¡å‹éœ€è¦ä¼ä¸šåœ¨æŠ€æœ¯å’Œç»„ç»‡å±‚é¢è¿›è¡Œè°ƒæ•´ã€‚</p><p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼š</p><ul><li>å¼€å±•å‘˜å·¥åŸ¹è®­ï¼Œæå‡AIç´ å…»</li><li>å»ºç«‹è·¨éƒ¨é—¨çš„AIé¡¹ç›®å›¢é˜Ÿ</li><li>é‡‡ç”¨æ•æ·çš„å®æ–½æ–¹æ³•è®º</li><li>è®¾å®šåˆç†çš„é¢„æœŸå’Œé˜¶æ®µæ€§ç›®æ ‡</li></ul><h2 id="å¤§è¯­è¨€æ¨¡å‹å®æ–½çš„æœ€ä½³å®è·µ-ğŸ’¡"><a href="#å¤§è¯­è¨€æ¨¡å‹å®æ–½çš„æœ€ä½³å®è·µ-ğŸ’¡" class="headerlink" title="å¤§è¯­è¨€æ¨¡å‹å®æ–½çš„æœ€ä½³å®è·µ ğŸ’¡"></a>å¤§è¯­è¨€æ¨¡å‹å®æ–½çš„æœ€ä½³å®è·µ ğŸ’¡</h2><h3 id="1-ä»å…·ä½“åœºæ™¯å…¥æ‰‹ï¼Œå¿«é€ŸéªŒè¯ä»·å€¼-ğŸš€"><a href="#1-ä»å…·ä½“åœºæ™¯å…¥æ‰‹ï¼Œå¿«é€ŸéªŒè¯ä»·å€¼-ğŸš€" class="headerlink" title="1. ä»å…·ä½“åœºæ™¯å…¥æ‰‹ï¼Œå¿«é€ŸéªŒè¯ä»·å€¼ ğŸš€"></a>1. ä»å…·ä½“åœºæ™¯å…¥æ‰‹ï¼Œå¿«é€ŸéªŒè¯ä»·å€¼ ğŸš€</h3><p>ä¸è¦ä¸€å¼€å§‹å°±è¯•å›¾å…¨é¢æ”¹é€ ä¼ä¸šITç³»ç»Ÿï¼Œè€Œæ˜¯é€‰æ‹©å‡ ä¸ªå…·ä½“çš„ã€ä»·å€¼æ˜ç¡®çš„åœºæ™¯è¿›è¡Œè¯•ç‚¹ã€‚ä¾‹å¦‚ï¼Œå…ˆä»æ™ºèƒ½å®¢æœæˆ–çŸ¥è¯†é—®ç­”å¼€å§‹ï¼ŒéªŒè¯æ•ˆæœåå†é€æ­¥æ‰©å±•ã€‚</p><h3 id="2-ç»“åˆä¼ä¸šå®é™…æ•°æ®ï¼Œæå‡æ¨¡å‹æ•ˆæœ-ğŸ“Š"><a href="#2-ç»“åˆä¼ä¸šå®é™…æ•°æ®ï¼Œæå‡æ¨¡å‹æ•ˆæœ-ğŸ“Š" class="headerlink" title="2. ç»“åˆä¼ä¸šå®é™…æ•°æ®ï¼Œæå‡æ¨¡å‹æ•ˆæœ ğŸ“Š"></a>2. ç»“åˆä¼ä¸šå®é™…æ•°æ®ï¼Œæå‡æ¨¡å‹æ•ˆæœ ğŸ“Š</h3><p>ä½¿ç”¨ä¼ä¸šè‡ªèº«çš„æ•°æ®å¯¹æ¨¡å‹è¿›è¡Œå¾®è°ƒæˆ–æ„å»ºæ£€ç´¢å¢å¼ºç³»ç»Ÿï¼Œå¯ä»¥æ˜¾è‘—æå‡æ¨¡å‹åœ¨ç‰¹å®šé¢†åŸŸçš„è¡¨ç°ã€‚ä¼ä¸šæ•°æ®æ˜¯æœ€å®è´µçš„èµ„äº§ï¼Œè¦å……åˆ†åˆ©ç”¨ã€‚</p><h3 id="3-æ„å»ºäººæœºåä½œçš„æ··åˆæ¨¡å¼-ğŸ¤"><a href="#3-æ„å»ºäººæœºåä½œçš„æ··åˆæ¨¡å¼-ğŸ¤" class="headerlink" title="3. æ„å»ºäººæœºåä½œçš„æ··åˆæ¨¡å¼ ğŸ¤"></a>3. æ„å»ºäººæœºåä½œçš„æ··åˆæ¨¡å¼ ğŸ¤</h3><p>å¤§è¯­è¨€æ¨¡å‹ä¸æ˜¯è¦å®Œå…¨å–ä»£äººç±»ï¼Œè€Œæ˜¯è¦è¾…åŠ©äººç±»å·¥ä½œã€‚å»ºç«‹æœ‰æ•ˆçš„äººæœºåä½œæ¨¡å¼ï¼Œè®©AIè´Ÿè´£é‡å¤æ€§ã€æ ‡å‡†åŒ–çš„å·¥ä½œï¼Œäººç±»ä¸“æ³¨äºåˆ›é€ æ€§ã€åˆ¤æ–­æ€§çš„å·¥ä½œã€‚</p><h3 id="4-æŒç»­è¯„ä¼°ä¸ä¼˜åŒ–-ğŸ”„"><a href="#4-æŒç»­è¯„ä¼°ä¸ä¼˜åŒ–-ğŸ”„" class="headerlink" title="4. æŒç»­è¯„ä¼°ä¸ä¼˜åŒ– ğŸ”„"></a>4. æŒç»­è¯„ä¼°ä¸ä¼˜åŒ– ğŸ”„</h3><p>å»ºç«‹å®Œå–„çš„è¯„ä¼°ä½“ç³»ï¼ŒæŒç»­ç›‘æ§æ¨¡å‹çš„æ€§èƒ½ã€å‡†ç¡®ç‡å’Œç”¨æˆ·æ»¡æ„åº¦ã€‚æ ¹æ®è¯„ä¼°ç»“æœä¸æ–­ä¼˜åŒ–æ¨¡å‹å’Œåº”ç”¨ï¼Œç¡®ä¿å…¶æŒç»­ä¸ºä¼ä¸šåˆ›é€ ä»·å€¼ã€‚</p><h2 id="æœªæ¥å±•æœ›ï¼šå¤§è¯­è¨€æ¨¡å‹ä¸ä¼ä¸šçš„æ·±åº¦èåˆ-ğŸ”®"><a href="#æœªæ¥å±•æœ›ï¼šå¤§è¯­è¨€æ¨¡å‹ä¸ä¼ä¸šçš„æ·±åº¦èåˆ-ğŸ”®" class="headerlink" title="æœªæ¥å±•æœ›ï¼šå¤§è¯­è¨€æ¨¡å‹ä¸ä¼ä¸šçš„æ·±åº¦èåˆ ğŸ”®"></a>æœªæ¥å±•æœ›ï¼šå¤§è¯­è¨€æ¨¡å‹ä¸ä¼ä¸šçš„æ·±åº¦èåˆ ğŸ”®</h2><p>éšç€å¤§è¯­è¨€æ¨¡å‹æŠ€æœ¯çš„ä¸æ–­å‘å±•ï¼Œæœªæ¥ä¼ä¸šåº”ç”¨å°†å‘ˆç°ä»¥ä¸‹è¶‹åŠ¿ï¼š</p><ol><li><strong>å¤šæ¨¡æ€èƒ½åŠ›å¢å¼º</strong>ï¼šä»å•ä¸€çš„æ–‡æœ¬å¤„ç†æ‰©å±•åˆ°å›¾åƒã€éŸ³é¢‘ã€è§†é¢‘ç­‰å¤šç§æ•°æ®ç±»å‹</li><li><strong>è¡Œä¸šæ·±åº¦å®šåˆ¶</strong>ï¼šé’ˆå¯¹ç‰¹å®šè¡Œä¸šçš„ä¸“ä¸šå¤§æ¨¡å‹å°†æ›´åŠ æ™®åŠ</li><li><strong>è¾¹ç¼˜è®¡ç®—éƒ¨ç½²</strong>ï¼šåœ¨ä¿æŠ¤æ•°æ®éšç§çš„åŒæ—¶ï¼Œå®ç°æ›´ä½çš„å»¶è¿Ÿå’Œæ›´é«˜çš„å“åº”é€Ÿåº¦</li><li><strong>è‡ªä¸»å†³ç­–èƒ½åŠ›</strong>ï¼šä»è¾…åŠ©å†³ç­–å‘æœ‰é™è‡ªä¸»å†³ç­–å‘å±•ï¼Œæå‡ä¸šåŠ¡è‡ªåŠ¨åŒ–æ°´å¹³</li></ol><h2 id="å†™åœ¨æœ€åï¼šæ‹¥æŠ±AIï¼Œé‡å¡‘ä¼ä¸šæœªæ¥-ğŸŒŸ"><a href="#å†™åœ¨æœ€åï¼šæ‹¥æŠ±AIï¼Œé‡å¡‘ä¼ä¸šæœªæ¥-ğŸŒŸ" class="headerlink" title="å†™åœ¨æœ€åï¼šæ‹¥æŠ±AIï¼Œé‡å¡‘ä¼ä¸šæœªæ¥ ğŸŒŸ"></a>å†™åœ¨æœ€åï¼šæ‹¥æŠ±AIï¼Œé‡å¡‘ä¼ä¸šæœªæ¥ ğŸŒŸ</h2><p>å¤§è¯­è¨€æ¨¡å‹ä¸ºä¼ä¸šå¸¦æ¥äº†å·¨å¤§çš„æœºé‡ï¼Œä½†ä¹Ÿä¼´éšç€æŒ‘æˆ˜ã€‚æˆåŠŸå®æ–½å¤§è¯­è¨€æ¨¡å‹éœ€è¦ä¼ä¸šåœ¨æŠ€æœ¯ã€ç»„ç»‡å’Œæ–‡åŒ–ç­‰å¤šä¸ªå±‚é¢è¿›è¡Œå˜é©ã€‚ä½œä¸ºä¼ä¸šçš„æŠ€æœ¯é¢†å¯¼è€…æˆ–ä»ä¸šè€…ï¼Œæˆ‘ä»¬éœ€è¦ä¿æŒå¼€æ”¾çš„å¿ƒæ€ï¼Œç§¯ææ‹¥æŠ±è¿™ä¸€æŠ€æœ¯å˜é©ï¼ŒåŒæ—¶ä¹Ÿè¦ä¿æŒç†æ€§ï¼Œè®¤è¯†åˆ°AIä¸æ˜¯ä¸‡èƒ½çš„ï¼Œå®ƒéœ€è¦ä¸äººç±»æ™ºæ…§å’Œä¼ä¸šå®é™…éœ€æ±‚ç›¸ç»“åˆã€‚</p><p>æˆ‘ç›¸ä¿¡ï¼Œåœ¨ä¸ä¹…çš„å°†æ¥ï¼Œå¤§è¯­è¨€æ¨¡å‹å°†æˆä¸ºä¼ä¸šæ•°å­—åŒ–è½¬å‹çš„æ ¸å¿ƒé©±åŠ¨åŠ›ï¼Œå¸®åŠ©ä¼ä¸šæå‡æ•ˆç‡ã€é™ä½æˆæœ¬ã€åˆ›é€ æ–°çš„ä¸šåŠ¡æ¨¡å¼å’Œä»·å€¼ã€‚è®©æˆ‘ä»¬ä¸€èµ·è§è¯å¹¶å‚ä¸è¿™ä¸€æ¿€åŠ¨äººå¿ƒçš„å˜é©ï¼</p><p>ä½ æ‰€åœ¨çš„ä¼ä¸šæ˜¯å¦å·²ç»å¼€å§‹æ¢ç´¢å¤§è¯­è¨€æ¨¡å‹çš„åº”ç”¨ï¼Ÿæœ‰ä»€ä¹ˆæˆåŠŸç»éªŒæˆ–æ•™è®­å¯ä»¥åˆ†äº«ï¼Ÿæ¬¢è¿åœ¨è¯„è®ºåŒºç•™è¨€è®¨è®ºï¼</p><p>AIèµ‹èƒ½ä¼ä¸šï¼Œåˆ›æ–°å¼•é¢†æœªæ¥ï¼ğŸ’¼ğŸ¤–âœ¨</p>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;/assets/css/APlayer.min.css&quot;&gt;&lt;script src=&quot;/assets/js/APlayer.min.js&quot; cla</summary>
      
    
    
    
    
    <category term="å¤§è¯­è¨€æ¨¡å‹" scheme="https://blog.zhuyizhuo.online/tags/%E5%A4%A7%E8%AF%AD%E8%A8%80%E6%A8%A1%E5%9E%8B/"/>
    
    <category term="LLM" scheme="https://blog.zhuyizhuo.online/tags/LLM/"/>
    
    <category term="ä¼ä¸šåº”ç”¨" scheme="https://blog.zhuyizhuo.online/tags/%E4%BC%81%E4%B8%9A%E5%BA%94%E7%94%A8/"/>
    
    <category term="äººå·¥æ™ºèƒ½" scheme="https://blog.zhuyizhuo.online/tags/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/"/>
    
  </entry>
  
  <entry>
    <title>AIé©±åŠ¨å¼€å‘ï¼šè½¯ä»¶å¼€å‘çš„æ™ºèƒ½é©å‘½</title>
    <link href="https://blog.zhuyizhuo.online/2023/03/18/ai/2023-ai-in-software-development/"/>
    <id>https://blog.zhuyizhuo.online/2023/03/18/ai/2023-ai-in-software-development/</id>
    <published>2023-03-17T16:00:00.000Z</published>
    <updated>2025-09-26T09:17:19.567Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="AIé©±åŠ¨å¼€å‘ï¼šè½¯ä»¶å¼€å‘çš„æ™ºèƒ½é©å‘½-ğŸ¤–ğŸ’»"><a href="#AIé©±åŠ¨å¼€å‘ï¼šè½¯ä»¶å¼€å‘çš„æ™ºèƒ½é©å‘½-ğŸ¤–ğŸ’»" class="headerlink" title="AIé©±åŠ¨å¼€å‘ï¼šè½¯ä»¶å¼€å‘çš„æ™ºèƒ½é©å‘½ ğŸ¤–ğŸ’»"></a>AIé©±åŠ¨å¼€å‘ï¼šè½¯ä»¶å¼€å‘çš„æ™ºèƒ½é©å‘½ ğŸ¤–ğŸ’»</h1><p>å¤§å®¶å¥½ï¼ğŸ‘‹ éšç€äººå·¥æ™ºèƒ½æŠ€æœ¯çš„é£é€Ÿå‘å±•ï¼Œå®ƒæ­£åœ¨æ·±åˆ»æ”¹å˜ç€æˆ‘ä»¬ç”Ÿæ´»å’Œå·¥ä½œçš„æ–¹æ–¹é¢é¢ï¼Œè½¯ä»¶å¼€å‘é¢†åŸŸä¹Ÿä¸ä¾‹å¤–ã€‚ä»ä»£ç è¡¥å…¨åˆ°è‡ªåŠ¨åŒ–æµ‹è¯•ï¼Œä»æ–‡æ¡£ç”Ÿæˆåˆ°Bugæ£€æµ‹ï¼ŒAIæ­£åœ¨ä¸ºè½¯ä»¶å¼€å‘å¸¦æ¥å‰æ‰€æœªæœ‰çš„å˜é©ã€‚ä»Šå¤©ï¼Œæˆ‘ä»¬å°±æ¥ä¸€èµ·æ¢ç´¢AIå¦‚ä½•é©±åŠ¨è½¯ä»¶å¼€å‘çš„æ™ºèƒ½é©å‘½ï¼ğŸš€</p><h2 id="AIç¼–ç¨‹åŠ©æ‰‹ï¼šå¼€å‘è€…çš„æ™ºèƒ½æ­æ¡£-ğŸ§‘ğŸ’»ğŸ¤ğŸ¤–"><a href="#AIç¼–ç¨‹åŠ©æ‰‹ï¼šå¼€å‘è€…çš„æ™ºèƒ½æ­æ¡£-ğŸ§‘ğŸ’»ğŸ¤ğŸ¤–" class="headerlink" title="AIç¼–ç¨‹åŠ©æ‰‹ï¼šå¼€å‘è€…çš„æ™ºèƒ½æ­æ¡£ ğŸ§‘ğŸ’»ğŸ¤ğŸ¤–"></a>AIç¼–ç¨‹åŠ©æ‰‹ï¼šå¼€å‘è€…çš„æ™ºèƒ½æ­æ¡£ ğŸ§‘ğŸ’»ğŸ¤ğŸ¤–</h2><p>AIç¼–ç¨‹åŠ©æ‰‹æ˜¯å½“å‰AIåœ¨è½¯ä»¶å¼€å‘ä¸­æœ€ç›´æ¥ã€æœ€å¹¿æ³›çš„åº”ç”¨ã€‚è¿™äº›å·¥å…·é€šè¿‡ç†è§£ä»£ç ä¸Šä¸‹æ–‡ï¼Œæä¾›æ™ºèƒ½çš„ä»£ç å»ºè®®ã€è‡ªåŠ¨è¡¥å…¨å’Œé”™è¯¯æ£€æµ‹ã€‚</p><h3 id="ä¸»æµAIç¼–ç¨‹åŠ©æ‰‹ä¸€è§ˆ-ğŸŒŸ"><a href="#ä¸»æµAIç¼–ç¨‹åŠ©æ‰‹ä¸€è§ˆ-ğŸŒŸ" class="headerlink" title="ä¸»æµAIç¼–ç¨‹åŠ©æ‰‹ä¸€è§ˆ ğŸŒŸ"></a>ä¸»æµAIç¼–ç¨‹åŠ©æ‰‹ä¸€è§ˆ ğŸŒŸ</h3><ol><li><strong>GitHub Copilot</strong>ï¼šç”±OpenAIå’ŒGitHubåˆä½œå¼€å‘ï¼ŒåŸºäºGPTæ¨¡å‹ï¼Œå¯ä»¥æ ¹æ®æ³¨é‡Šå’Œä¸Šä¸‹æ–‡ç”Ÿæˆå®Œæ•´çš„ä»£ç ç‰‡æ®µ</li><li><strong>TabNine</strong>ï¼šåŸºäºæ·±åº¦å­¦ä¹ çš„ä»£ç è¡¥å…¨å·¥å…·ï¼Œæ”¯æŒå¤šç§ç¼–ç¨‹è¯­è¨€å’ŒIDE</li><li><strong>CodeWhisperer</strong>ï¼šAmazonæ¨å‡ºçš„AIç¼–ç¨‹åŠ©æ‰‹ï¼Œç‰¹åˆ«æ“…é•¿äº‘æœåŠ¡ç›¸å…³ä»£ç ç”Ÿæˆ</li><li><strong>ChatGPT/GPT-4</strong>ï¼šè™½ç„¶ä¸æ˜¯ä¸“é—¨çš„ç¼–ç¨‹å·¥å…·ï¼Œä½†å¼ºå¤§çš„è‡ªç„¶è¯­è¨€ç†è§£èƒ½åŠ›ä½¿å…¶æˆä¸ºä¼˜ç§€çš„ç¼–ç¨‹åŠ©æ‰‹</li></ol><h3 id="AIç¼–ç¨‹åŠ©æ‰‹çš„å·¥ä½œåŸç†-ğŸ§ "><a href="#AIç¼–ç¨‹åŠ©æ‰‹çš„å·¥ä½œåŸç†-ğŸ§ " class="headerlink" title="AIç¼–ç¨‹åŠ©æ‰‹çš„å·¥ä½œåŸç† ğŸ§ "></a>AIç¼–ç¨‹åŠ©æ‰‹çš„å·¥ä½œåŸç† ğŸ§ </h3><p>AIç¼–ç¨‹åŠ©æ‰‹é€šå¸¸åŸºäºå¤§å‹è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰ï¼Œé€šè¿‡æµ·é‡ä»£ç åº“çš„è®­ç»ƒï¼Œå­¦ä¹ ç¼–ç¨‹è¯­è¨€çš„è¯­æ³•ã€æ¨¡å¼å’Œæœ€ä½³å®è·µã€‚å®ƒä»¬èƒ½å¤Ÿç†è§£ä»£ç çš„ä¸Šä¸‹æ–‡ï¼Œå¹¶ç”Ÿæˆç¬¦åˆé¡¹ç›®é£æ ¼å’Œè¦æ±‚çš„ä»£ç ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ç¤ºä¾‹ï¼šä½¿ç”¨AIç¼–ç¨‹åŠ©æ‰‹ç”Ÿæˆæ•°æ®å¯è§†åŒ–ä»£ç </span></span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç”Ÿæˆæ ·æœ¬æ•°æ®</span></span><br><span class="line">x = np.linspace(<span class="number">0</span>, <span class="number">10</span>, <span class="number">100</span>)</span><br><span class="line">y = np.sin(x)</span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ›å»ºå›¾è¡¨</span></span><br><span class="line">plt.figure(figsize=(<span class="number">10</span>, <span class="number">6</span>))</span><br><span class="line">plt.plot(x, y, <span class="string">&#x27;b-&#x27;</span>, label=<span class="string">&#x27;Sin(x)&#x27;</span>)</span><br><span class="line">plt.title(<span class="string">&#x27;Sine Wave&#x27;</span>)</span><br><span class="line">plt.xlabel(<span class="string">&#x27;X-axis&#x27;</span>)</span><br><span class="line">plt.ylabel(<span class="string">&#x27;Y-axis&#x27;</span>)</span><br><span class="line">plt.grid(<span class="literal">True</span>)</span><br><span class="line">plt.legend()</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><h2 id="AIåœ¨è½¯ä»¶å¼€å‘å…¨æµç¨‹ä¸­çš„åº”ç”¨-ğŸ”„"><a href="#AIåœ¨è½¯ä»¶å¼€å‘å…¨æµç¨‹ä¸­çš„åº”ç”¨-ğŸ”„" class="headerlink" title="AIåœ¨è½¯ä»¶å¼€å‘å…¨æµç¨‹ä¸­çš„åº”ç”¨ ğŸ”„"></a>AIåœ¨è½¯ä»¶å¼€å‘å…¨æµç¨‹ä¸­çš„åº”ç”¨ ğŸ”„</h2><p>AIçš„åº”ç”¨è¿œä¸æ­¢äºä»£ç ç”Ÿæˆï¼Œå®ƒæ­£åœ¨æ¸—é€åˆ°è½¯ä»¶å¼€å‘çš„å„ä¸ªç¯èŠ‚ã€‚</p><h3 id="1-éœ€æ±‚åˆ†æä¸è®¾è®¡é˜¶æ®µ-ğŸ“"><a href="#1-éœ€æ±‚åˆ†æä¸è®¾è®¡é˜¶æ®µ-ğŸ“" class="headerlink" title="1. éœ€æ±‚åˆ†æä¸è®¾è®¡é˜¶æ®µ ğŸ“"></a>1. éœ€æ±‚åˆ†æä¸è®¾è®¡é˜¶æ®µ ğŸ“</h3><p>AIå¯ä»¥å¸®åŠ©åˆ†æç”¨æˆ·éœ€æ±‚ï¼Œæå–å…³é”®ä¿¡æ¯ï¼Œå¹¶ç”Ÿæˆåˆæ­¥çš„ç³»ç»Ÿè®¾è®¡å’Œæ¶æ„å»ºè®®ã€‚ä¸€äº›å·¥å…·ç”šè‡³å¯ä»¥æ ¹æ®è‡ªç„¶è¯­è¨€æè¿°è‡ªåŠ¨ç”Ÿæˆç”¨æˆ·æ•…äº‹å’ŒéªŒæ”¶æ ‡å‡†ã€‚</p><h3 id="2-ç¼–ç é˜¶æ®µ-ğŸ’»"><a href="#2-ç¼–ç é˜¶æ®µ-ğŸ’»" class="headerlink" title="2. ç¼–ç é˜¶æ®µ ğŸ’»"></a>2. ç¼–ç é˜¶æ®µ ğŸ’»</h3><p>é™¤äº†ä»£ç è¡¥å…¨å’Œç”Ÿæˆå¤–ï¼ŒAIè¿˜å¯ä»¥æä¾›ä»£ç é‡æ„å»ºè®®ã€æ€§èƒ½ä¼˜åŒ–æç¤ºï¼Œä»¥åŠæ£€æµ‹æ½œåœ¨çš„å®‰å…¨æ¼æ´ã€‚</p><h3 id="3-æµ‹è¯•é˜¶æ®µ-ğŸ§ª"><a href="#3-æµ‹è¯•é˜¶æ®µ-ğŸ§ª" class="headerlink" title="3. æµ‹è¯•é˜¶æ®µ ğŸ§ª"></a>3. æµ‹è¯•é˜¶æ®µ ğŸ§ª</h3><p>AIåœ¨æµ‹è¯•é¢†åŸŸçš„åº”ç”¨åŒ…æ‹¬ï¼š</p><ul><li>è‡ªåŠ¨ç”Ÿæˆæµ‹è¯•ç”¨ä¾‹å’Œæµ‹è¯•æ•°æ®</li><li>æ™ºèƒ½æµ‹è¯•æ‰§è¡Œå’Œç»“æœåˆ†æ</li><li>è‡ªåŠ¨åŒ–å›å½’æµ‹è¯•</li><li>å¼‚å¸¸æ£€æµ‹å’Œæ ¹å› åˆ†æ</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç¤ºä¾‹ï¼šAIç”Ÿæˆçš„å•å…ƒæµ‹è¯•ä»£ç </span></span><br><span class="line">describe(<span class="string">&#x27;Calculator&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">let</span> calculator;</span><br><span class="line">  </span><br><span class="line">  beforeEach(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    calculator = <span class="keyword">new</span> Calculator();</span><br><span class="line">  &#125;);</span><br><span class="line">  </span><br><span class="line">  it(<span class="string">&#x27;should add two numbers correctly&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    expect(calculator.add(<span class="number">2</span>, <span class="number">3</span>)).toBe(<span class="number">5</span>);</span><br><span class="line">  &#125;);</span><br><span class="line">  </span><br><span class="line">  it(<span class="string">&#x27;should subtract two numbers correctly&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    expect(calculator.subtract(<span class="number">5</span>, <span class="number">3</span>)).toBe(<span class="number">2</span>);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h3 id="4-éƒ¨ç½²ä¸è¿ç»´é˜¶æ®µ-ğŸš€"><a href="#4-éƒ¨ç½²ä¸è¿ç»´é˜¶æ®µ-ğŸš€" class="headerlink" title="4. éƒ¨ç½²ä¸è¿ç»´é˜¶æ®µ ğŸš€"></a>4. éƒ¨ç½²ä¸è¿ç»´é˜¶æ®µ ğŸš€</h3><p>AIåœ¨DevOpsé¢†åŸŸçš„åº”ç”¨ä¹Ÿæ—¥ç›Šå¹¿æ³›ï¼š</p><ul><li>æ™ºèƒ½ç›‘æ§å’Œå¼‚å¸¸æ£€æµ‹</li><li>è‡ªåŠ¨ä¼¸ç¼©å’Œèµ„æºä¼˜åŒ–</li><li>æ•…éšœé¢„æµ‹å’Œé¢„é˜²</li><li>æ—¥å¿—åˆ†æå’Œé—®é¢˜è¯Šæ–­</li></ul><h2 id="AIé©±åŠ¨å¼€å‘çš„ä¼˜åŠ¿ä¸æŒ‘æˆ˜-âš–ï¸"><a href="#AIé©±åŠ¨å¼€å‘çš„ä¼˜åŠ¿ä¸æŒ‘æˆ˜-âš–ï¸" class="headerlink" title="AIé©±åŠ¨å¼€å‘çš„ä¼˜åŠ¿ä¸æŒ‘æˆ˜ âš–ï¸"></a>AIé©±åŠ¨å¼€å‘çš„ä¼˜åŠ¿ä¸æŒ‘æˆ˜ âš–ï¸</h2><h3 id="ä¸»è¦ä¼˜åŠ¿-ğŸ‘"><a href="#ä¸»è¦ä¼˜åŠ¿-ğŸ‘" class="headerlink" title="ä¸»è¦ä¼˜åŠ¿ ğŸ‘"></a>ä¸»è¦ä¼˜åŠ¿ ğŸ‘</h3><ol><li><strong>å¼€å‘æ•ˆç‡æå‡</strong>ï¼šå‡å°‘é‡å¤ç¼–ç å·¥ä½œï¼ŒåŠ é€Ÿå¼€å‘æµç¨‹</li><li><strong>ä»£ç è´¨é‡æ”¹å–„</strong>ï¼šéµå¾ªæœ€ä½³å®è·µï¼Œå‡å°‘å¸¸è§é”™è¯¯</li><li><strong>å­¦ä¹ æ›²çº¿å˜ç¼“</strong>ï¼šå¸®åŠ©åˆçº§å¼€å‘è€…å¿«é€Ÿä¸Šæ‰‹æ–°æŠ€æœ¯</li><li><strong>åˆ›æ–°èƒ½åŠ›å¢å¼º</strong>ï¼šè®©å¼€å‘è€…ä¸“æ³¨äºæ›´å…·åˆ›é€ æ€§çš„å·¥ä½œ</li></ol><h3 id="æ½œåœ¨æŒ‘æˆ˜-ğŸ‘"><a href="#æ½œåœ¨æŒ‘æˆ˜-ğŸ‘" class="headerlink" title="æ½œåœ¨æŒ‘æˆ˜ ğŸ‘"></a>æ½œåœ¨æŒ‘æˆ˜ ğŸ‘</h3><ol><li><strong>ä»£ç ç‰ˆæƒå’Œåˆè§„æ€§</strong>ï¼šAIç”Ÿæˆçš„ä»£ç å¯èƒ½æ¶‰åŠçŸ¥è¯†äº§æƒé—®é¢˜</li><li><strong>è¿‡åº¦ä¾èµ–é£é™©</strong>ï¼šå¼€å‘è€…å¯èƒ½è¿‡åº¦ä¾èµ–AIï¼Œå¯¼è‡´æ ¸å¿ƒèƒ½åŠ›é€€åŒ–</li><li><strong>ä¸Šä¸‹æ–‡ç†è§£é™åˆ¶</strong>ï¼šåœ¨å¤æ‚ä¸šåŠ¡åœºæ™¯ä¸‹å¯èƒ½ç”Ÿæˆä¸å‡†ç¡®çš„ä»£ç </li><li><strong>å®‰å…¨éšæ‚£</strong>ï¼šAIå¯èƒ½æ— æ„ä¸­ç”Ÿæˆæœ‰å®‰å…¨æ¼æ´çš„ä»£ç </li></ol><h2 id="å¦‚ä½•æœ‰æ•ˆåˆ©ç”¨AIç¼–ç¨‹åŠ©æ‰‹ï¼Ÿæœ€ä½³å®è·µ-ğŸ’¡"><a href="#å¦‚ä½•æœ‰æ•ˆåˆ©ç”¨AIç¼–ç¨‹åŠ©æ‰‹ï¼Ÿæœ€ä½³å®è·µ-ğŸ’¡" class="headerlink" title="å¦‚ä½•æœ‰æ•ˆåˆ©ç”¨AIç¼–ç¨‹åŠ©æ‰‹ï¼Ÿæœ€ä½³å®è·µ ğŸ’¡"></a>å¦‚ä½•æœ‰æ•ˆåˆ©ç”¨AIç¼–ç¨‹åŠ©æ‰‹ï¼Ÿæœ€ä½³å®è·µ ğŸ’¡</h2><p>è¦å……åˆ†å‘æŒ¥AIç¼–ç¨‹åŠ©æ‰‹çš„ä»·å€¼ï¼Œéœ€è¦æŒæ¡ä¸€äº›ä½¿ç”¨æŠ€å·§å’Œæœ€ä½³å®è·µï¼š</p><h3 id="1-æ˜ç¡®çš„æç¤ºå·¥ç¨‹-ğŸ“"><a href="#1-æ˜ç¡®çš„æç¤ºå·¥ç¨‹-ğŸ“" class="headerlink" title="1. æ˜ç¡®çš„æç¤ºå·¥ç¨‹ ğŸ“"></a>1. æ˜ç¡®çš„æç¤ºå·¥ç¨‹ ğŸ“</h3><p>å­¦ä¼šç¼–å†™æ¸…æ™°ã€å…·ä½“çš„æç¤ºæ˜¯æœ‰æ•ˆä½¿ç”¨AIç¼–ç¨‹åŠ©æ‰‹çš„å…³é”®ã€‚æä¾›è¶³å¤Ÿçš„ä¸Šä¸‹æ–‡ä¿¡æ¯ï¼Œæ˜ç¡®ä½ çš„éœ€æ±‚å’ŒæœŸæœ›ã€‚</p><h3 id="2-ä»£ç å®¡æŸ¥ä¸å¯å°‘-ğŸ”"><a href="#2-ä»£ç å®¡æŸ¥ä¸å¯å°‘-ğŸ”" class="headerlink" title="2. ä»£ç å®¡æŸ¥ä¸å¯å°‘ ğŸ”"></a>2. ä»£ç å®¡æŸ¥ä¸å¯å°‘ ğŸ”</h3><p>å§‹ç»ˆå®¡æŸ¥AIç”Ÿæˆçš„ä»£ç ï¼Œç¡®ä¿å…¶é€»è¾‘æ­£ç¡®ã€æ€§èƒ½è‰¯å¥½ä¸”ç¬¦åˆé¡¹ç›®è§„èŒƒã€‚ä¸è¦ç›²ç›®å¤åˆ¶ç²˜è´´ã€‚</p><h3 id="3-æŒç»­å­¦ä¹ ä¸æå‡-ğŸ“š"><a href="#3-æŒç»­å­¦ä¹ ä¸æå‡-ğŸ“š" class="headerlink" title="3. æŒç»­å­¦ä¹ ä¸æå‡ ğŸ“š"></a>3. æŒç»­å­¦ä¹ ä¸æå‡ ğŸ“š</h3><p>å°†AIä½œä¸ºå­¦ä¹ å·¥å…·ï¼Œé€šè¿‡åˆ†æå®ƒç”Ÿæˆçš„ä»£ç æ¥æå‡è‡ªå·±çš„ç¼–ç¨‹æŠ€èƒ½ã€‚ç†è§£â€ä¸ºä»€ä¹ˆè¿™ä¹ˆå†™â€æ¯”â€æ€ä¹ˆå†™â€æ›´é‡è¦ã€‚</p><h3 id="4-å»ºç«‹åé¦ˆæœºåˆ¶-ğŸ”„"><a href="#4-å»ºç«‹åé¦ˆæœºåˆ¶-ğŸ”„" class="headerlink" title="4. å»ºç«‹åé¦ˆæœºåˆ¶ ğŸ”„"></a>4. å»ºç«‹åé¦ˆæœºåˆ¶ ğŸ”„</h3><p>ç§¯æå‘AIå·¥å…·æä¾›åé¦ˆï¼Œå¸®åŠ©å®ƒä»¬ä¸æ–­æ”¹è¿›ã€‚åŒæ—¶ï¼Œå»ºç«‹å›¢é˜Ÿå†…éƒ¨çš„åé¦ˆæœºåˆ¶ï¼Œåˆ†äº«ä½¿ç”¨ç»éªŒå’ŒæŠ€å·§ã€‚</p><h2 id="AIé©±åŠ¨å¼€å‘çš„æœªæ¥å±•æœ›-ğŸ”®"><a href="#AIé©±åŠ¨å¼€å‘çš„æœªæ¥å±•æœ›-ğŸ”®" class="headerlink" title="AIé©±åŠ¨å¼€å‘çš„æœªæ¥å±•æœ› ğŸ”®"></a>AIé©±åŠ¨å¼€å‘çš„æœªæ¥å±•æœ› ğŸ”®</h2><p>éšç€AIæŠ€æœ¯çš„ä¸æ–­è¿›æ­¥ï¼Œæœªæ¥çš„è½¯ä»¶å¼€å‘å°†æ›´åŠ æ™ºèƒ½åŒ–ï¼š</p><ol><li><strong>å…¨æ ˆAIå¼€å‘</strong>ï¼šä»å‰ç«¯åˆ°åç«¯ï¼Œä»ç§»åŠ¨åº”ç”¨åˆ°äº‘æœåŠ¡ï¼Œæä¾›å…¨æ–¹ä½çš„AIæ”¯æŒ</li><li><strong>ä¸ªæ€§åŒ–å¼€å‘ä½“éªŒ</strong>ï¼šAIå°†å­¦ä¹ å¼€å‘è€…çš„ç¼–ç é£æ ¼å’Œåå¥½ï¼Œæä¾›æ›´åŠ ä¸ªæ€§åŒ–çš„å»ºè®®</li><li><strong>å›¢é˜Ÿåä½œå¢å¼º</strong>ï¼šAIå°†å¸®åŠ©å›¢é˜Ÿæ›´å¥½åœ°ç†è§£å’Œç»´æŠ¤ä»£ç åº“ï¼Œæå‡åä½œæ•ˆç‡</li><li><strong>æ— ä»£ç /ä½ä»£ç èåˆ</strong>ï¼šAIä¸ä½ä»£ç å¹³å°çš„ç»“åˆï¼Œè®©æ›´å¤šäººèƒ½å¤Ÿå‚ä¸è½¯ä»¶å¼€å‘</li></ol><h2 id="å†™åœ¨æœ€åï¼šä¸AIå…±èˆï¼Œè€Œéè¢«AIå–ä»£-ğŸ’ƒ"><a href="#å†™åœ¨æœ€åï¼šä¸AIå…±èˆï¼Œè€Œéè¢«AIå–ä»£-ğŸ’ƒ" class="headerlink" title="å†™åœ¨æœ€åï¼šä¸AIå…±èˆï¼Œè€Œéè¢«AIå–ä»£ ğŸ’ƒ"></a>å†™åœ¨æœ€åï¼šä¸AIå…±èˆï¼Œè€Œéè¢«AIå–ä»£ ğŸ’ƒ</h2><p>é¢å¯¹AIåœ¨è½¯ä»¶å¼€å‘ä¸­çš„å¿«é€Ÿå‘å±•ï¼Œæœ‰äº›å¼€å‘è€…å¯èƒ½ä¼šæ„Ÿåˆ°ç„¦è™‘ï¼Œæ‹…å¿ƒè‡ªå·±çš„å·¥ä½œè¢«AIå–ä»£ã€‚ä½†æˆ‘è®¤ä¸ºï¼ŒAIæ›´åƒæ˜¯ä¸€ä¸ªå¼ºå¤§çš„å·¥å…·ï¼Œå®ƒå¯ä»¥å¸®åŠ©æˆ‘ä»¬æ›´é«˜æ•ˆåœ°å®Œæˆå·¥ä½œï¼Œä½†æ— æ³•æ›¿ä»£äººç±»çš„åˆ›é€ åŠ›ã€è§£å†³é—®é¢˜çš„èƒ½åŠ›å’Œå¯¹ä¸šåŠ¡çš„æ·±åˆ»ç†è§£ã€‚</p><p>ä½œä¸ºå¼€å‘è€…ï¼Œæˆ‘ä»¬åº”è¯¥ç§¯ææ‹¥æŠ±AIæŠ€æœ¯ï¼Œå­¦ä¼šä¸ä¹‹åä½œï¼Œå°†å®ƒä½œä¸ºæå‡è‡ªå·±èƒ½åŠ›çš„åŠ©æ‰‹ï¼Œè€Œä¸æ˜¯ç«äº‰å¯¹æ‰‹ã€‚åªæœ‰è¿™æ ·ï¼Œæˆ‘ä»¬æ‰èƒ½åœ¨è¿™ä¸ªå¿«é€Ÿå˜åŒ–çš„æ—¶ä»£ä¿æŒç«äº‰åŠ›ï¼</p><p>ä½ åœ¨å¼€å‘å·¥ä½œä¸­ä½¿ç”¨è¿‡å“ªäº›AIå·¥å…·ï¼Ÿæœ‰ä»€ä¹ˆå¿ƒå¾—ä½“ä¼šï¼Ÿæ¬¢è¿åœ¨è¯„è®ºåŒºç•™è¨€åˆ†äº«ï¼</p><p>Happy AI Codingï¼ğŸ¤–ğŸ’»âœ¨</p>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;/assets/css/APlayer.min.css&quot;&gt;&lt;script src=&quot;/assets/js/APlayer.min.js&quot; cla</summary>
      
    
    
    
    
    <category term="AI" scheme="https://blog.zhuyizhuo.online/tags/AI/"/>
    
    <category term="è½¯ä»¶å¼€å‘" scheme="https://blog.zhuyizhuo.online/tags/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/"/>
    
    <category term="æ™ºèƒ½ç¼–ç¨‹" scheme="https://blog.zhuyizhuo.online/tags/%E6%99%BA%E8%83%BD%E7%BC%96%E7%A8%8B/"/>
    
    <category term="æ•ˆç‡æå‡" scheme="https://blog.zhuyizhuo.online/tags/%E6%95%88%E7%8E%87%E6%8F%90%E5%8D%87/"/>
    
  </entry>
  
  <entry>
    <title>ä½ä»£ç å¼€å‘å¹³å°ï¼šè½¯ä»¶å¼€å‘çš„é©å‘½è¿˜æ˜¯æ˜™èŠ±ä¸€ç°ï¼Ÿ</title>
    <link href="https://blog.zhuyizhuo.online/2022/09/28/development/2022-low-code-platforms/"/>
    <id>https://blog.zhuyizhuo.online/2022/09/28/development/2022-low-code-platforms/</id>
    <published>2022-09-27T16:00:00.000Z</published>
    <updated>2025-09-26T09:17:19.572Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="ä½ä»£ç å¼€å‘å¹³å°ï¼šè½¯ä»¶å¼€å‘çš„é©å‘½è¿˜æ˜¯æ˜™èŠ±ä¸€ç°ï¼Ÿ-ğŸ¤”"><a href="#ä½ä»£ç å¼€å‘å¹³å°ï¼šè½¯ä»¶å¼€å‘çš„é©å‘½è¿˜æ˜¯æ˜™èŠ±ä¸€ç°ï¼Ÿ-ğŸ¤”" class="headerlink" title="ä½ä»£ç å¼€å‘å¹³å°ï¼šè½¯ä»¶å¼€å‘çš„é©å‘½è¿˜æ˜¯æ˜™èŠ±ä¸€ç°ï¼Ÿ ğŸ¤”"></a>ä½ä»£ç å¼€å‘å¹³å°ï¼šè½¯ä»¶å¼€å‘çš„é©å‘½è¿˜æ˜¯æ˜™èŠ±ä¸€ç°ï¼Ÿ ğŸ¤”</h1><p>å¤§å®¶å¥½ï¼ğŸ‘‹ åœ¨å½“ä»Šè¿™ä¸ªå¿«é€Ÿå‘å±•çš„æ•°å­—åŒ–æ—¶ä»£ï¼Œä¼ä¸šå¯¹è½¯ä»¶å¼€å‘çš„éœ€æ±‚ä¸æ—¥ä¿±å¢ï¼Œè€Œä¼ ç»Ÿå¼€å‘æ–¹å¼çš„æ•ˆç‡ç“¶é¢ˆæ—¥ç›Šæ˜æ˜¾ã€‚ä½ä»£ç å¼€å‘å¹³å°ï¼ˆLow-Code Development Platformï¼ŒLCDPï¼‰ä½œä¸ºä¸€ç§æ–°å…´çš„å¼€å‘æ–¹å¼ï¼Œæ­£åœ¨æ”¹å˜ç€è½¯ä»¶å¼€å‘çš„æ ¼å±€ã€‚ä»Šå¤©ï¼Œæˆ‘ä»¬å°±æ¥æ·±å…¥æ¢è®¨ä½ä»£ç å¼€å‘å¹³å°çš„å®è·µä¸æ€è€ƒï¼ğŸš€</p><h2 id="ä»€ä¹ˆæ˜¯ä½ä»£ç å¼€å‘å¹³å°ï¼Ÿæ ¸å¿ƒæ¦‚å¿µè§£æ-ğŸ”"><a href="#ä»€ä¹ˆæ˜¯ä½ä»£ç å¼€å‘å¹³å°ï¼Ÿæ ¸å¿ƒæ¦‚å¿µè§£æ-ğŸ”" class="headerlink" title="ä»€ä¹ˆæ˜¯ä½ä»£ç å¼€å‘å¹³å°ï¼Ÿæ ¸å¿ƒæ¦‚å¿µè§£æ ğŸ”"></a>ä»€ä¹ˆæ˜¯ä½ä»£ç å¼€å‘å¹³å°ï¼Ÿæ ¸å¿ƒæ¦‚å¿µè§£æ ğŸ”</h2><p>ä½ä»£ç å¼€å‘å¹³å°æ˜¯ä¸€ç§é€šè¿‡å¯è§†åŒ–æ‹–æ‹½ã€é…ç½®è€Œéä¼ ç»Ÿç¼–ç æ–¹å¼æ¥æ„å»ºåº”ç”¨ç¨‹åºçš„å¹³å°ã€‚å®ƒçš„æ ¸å¿ƒæ€æƒ³æ˜¯â€æœ€å°‘ä»£ç ã€æœ€å¿«äº¤ä»˜â€ã€‚</p><h3 id="ä½ä»£ç å¹³å°çš„ä¸»è¦ç‰¹æ€§-âœ¨"><a href="#ä½ä»£ç å¹³å°çš„ä¸»è¦ç‰¹æ€§-âœ¨" class="headerlink" title="ä½ä»£ç å¹³å°çš„ä¸»è¦ç‰¹æ€§ âœ¨"></a>ä½ä»£ç å¹³å°çš„ä¸»è¦ç‰¹æ€§ âœ¨</h3><ol><li><strong>å¯è§†åŒ–å¼€å‘ç¯å¢ƒ</strong>ï¼šé€šè¿‡æ‹–æ‹½ç»„ä»¶ã€é…ç½®å±æ€§æ¥æ„å»ºåº”ç”¨ç•Œé¢å’Œé€»è¾‘</li><li><strong>é¢„æ„å»ºç»„ä»¶åº“</strong>ï¼šæä¾›ä¸°å¯Œçš„UIç»„ä»¶ã€ä¸šåŠ¡ç»„ä»¶å’Œé›†æˆç»„ä»¶</li><li><strong>æ¨¡å‹é©±åŠ¨å¼€å‘</strong>ï¼šåŸºäºæ•°æ®æ¨¡å‹å’Œä¸šåŠ¡æ¨¡å‹è¿›è¡Œåº”ç”¨æ„å»º</li><li><strong>è‡ªåŠ¨åŒ–éƒ¨ç½²</strong>ï¼šä¸€é”®éƒ¨ç½²åˆ°å„ç§ç¯å¢ƒï¼Œç®€åŒ–è¿ç»´æµç¨‹</li><li><strong>é›†æˆèƒ½åŠ›</strong>ï¼šä¸ç°æœ‰ç³»ç»Ÿå’Œç¬¬ä¸‰æ–¹æœåŠ¡çš„å¿«é€Ÿé›†æˆ</li></ol><p><img data-src="https://images.unsplash.com/photo-1558494949-ef010cbdcc31?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80" alt="ä½ä»£ç å¼€å‘å¹³å°"></p><h2 id="ä½ä»£ç å¹³å°çš„ä¼˜åŠ¿ä¸æŒ‘æˆ˜-âš–ï¸"><a href="#ä½ä»£ç å¹³å°çš„ä¼˜åŠ¿ä¸æŒ‘æˆ˜-âš–ï¸" class="headerlink" title="ä½ä»£ç å¹³å°çš„ä¼˜åŠ¿ä¸æŒ‘æˆ˜ âš–ï¸"></a>ä½ä»£ç å¹³å°çš„ä¼˜åŠ¿ä¸æŒ‘æˆ˜ âš–ï¸</h2><h3 id="ä¸»è¦ä¼˜åŠ¿-ğŸ‘"><a href="#ä¸»è¦ä¼˜åŠ¿-ğŸ‘" class="headerlink" title="ä¸»è¦ä¼˜åŠ¿ ğŸ‘"></a>ä¸»è¦ä¼˜åŠ¿ ğŸ‘</h3><ol><li><strong>å¼€å‘æ•ˆç‡æå‡</strong>ï¼šæ®Gartnerç»Ÿè®¡ï¼Œä½ä»£ç å¹³å°å¯ä»¥å°†å¼€å‘é€Ÿåº¦æå‡5-10å€</li><li><strong>é™ä½æŠ€æœ¯é—¨æ§›</strong>ï¼šè®©ä¸šåŠ¡äººå‘˜ä¹Ÿèƒ½å‚ä¸åº”ç”¨å¼€å‘ï¼Œå®ç°â€å…¬æ°‘å¼€å‘â€ï¼ˆCitizen Developmentï¼‰</li><li><strong>æˆæœ¬é™ä½</strong>ï¼šå‡å°‘å¯¹ä¸“ä¸šå¼€å‘äººå‘˜çš„ä¾èµ–ï¼Œé™ä½å¼€å‘å’Œç»´æŠ¤æˆæœ¬</li><li><strong>æ›´å¿«çš„å¸‚åœºå“åº”</strong>ï¼šå¿«é€ŸåŸå‹åˆ¶ä½œå’Œè¿­ä»£ï¼Œæ›´å¿«å“åº”å¸‚åœºéœ€æ±‚</li></ol><h3 id="æ½œåœ¨æŒ‘æˆ˜-ğŸ‘"><a href="#æ½œåœ¨æŒ‘æˆ˜-ğŸ‘" class="headerlink" title="æ½œåœ¨æŒ‘æˆ˜ ğŸ‘"></a>æ½œåœ¨æŒ‘æˆ˜ ğŸ‘</h3><ol><li><strong>çµæ´»æ€§é™åˆ¶</strong>ï¼šå¤æ‚ä¸šåŠ¡åœºæ™¯ä¸‹å¯èƒ½æ— æ³•æ»¡è¶³æ‰€æœ‰å®šåˆ¶éœ€æ±‚</li><li><strong>å‚å•†é”å®šé£é™©</strong>ï¼šè¿ç§»åˆ°å…¶ä»–å¹³å°å¯èƒ½é¢ä¸´è¾ƒé«˜æˆæœ¬</li><li><strong>æ€§èƒ½æ‹…å¿§</strong>ï¼šç”Ÿæˆçš„ä»£ç å¯èƒ½ä¸å¦‚æ‰‹å†™ä»£ç ä¼˜åŒ–</li><li><strong>å®‰å…¨ä¸åˆè§„æ€§</strong>ï¼šå¤šç§Ÿæˆ·ç¯å¢ƒä¸‹çš„æ•°æ®éš”ç¦»å’Œå®‰å…¨æ§åˆ¶</li></ol><h2 id="ä½ä»£ç å¹³å°å®è·µï¼šä»é€‰å‹åˆ°è½åœ°-ğŸ’¡"><a href="#ä½ä»£ç å¹³å°å®è·µï¼šä»é€‰å‹åˆ°è½åœ°-ğŸ’¡" class="headerlink" title="ä½ä»£ç å¹³å°å®è·µï¼šä»é€‰å‹åˆ°è½åœ° ğŸ’¡"></a>ä½ä»£ç å¹³å°å®è·µï¼šä»é€‰å‹åˆ°è½åœ° ğŸ’¡</h2><h3 id="å¹³å°é€‰å‹ç­–ç•¥-ğŸ“‹"><a href="#å¹³å°é€‰å‹ç­–ç•¥-ğŸ“‹" class="headerlink" title="å¹³å°é€‰å‹ç­–ç•¥ ğŸ“‹"></a>å¹³å°é€‰å‹ç­–ç•¥ ğŸ“‹</h3><p>é€‰æ‹©åˆé€‚çš„ä½ä»£ç å¹³å°æ˜¯æˆåŠŸè½åœ°çš„å…³é”®ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›é€‰å‹æ—¶éœ€è¦è€ƒè™‘çš„å› ç´ ï¼š</p><ol><li><strong>ä¸šåŠ¡éœ€æ±‚åŒ¹é…åº¦</strong>ï¼šå¹³å°æ˜¯å¦æ”¯æŒä½ çš„æ ¸å¿ƒä¸šåŠ¡åœºæ™¯</li><li><strong>æŠ€æœ¯æ¶æ„å…¼å®¹æ€§</strong>ï¼šæ˜¯å¦ä¸ç°æœ‰æŠ€æœ¯æ ˆå’Œç³»ç»Ÿå…¼å®¹</li><li><strong>æ‰©å±•æ€§ä¸å¼€æ”¾æ€§</strong>ï¼šæ˜¯å¦æ”¯æŒè‡ªå®šä¹‰ä»£ç å’Œç¬¬ä¸‰æ–¹é›†æˆ</li><li><strong>å®‰å…¨æ€§ä¸åˆè§„æ€§</strong>ï¼šæ˜¯å¦ç¬¦åˆè¡Œä¸šå®‰å…¨æ ‡å‡†å’Œæ³•è§„è¦æ±‚</li><li><strong>æˆæœ¬ä¸ROIåˆ†æ</strong>ï¼šç»¼åˆè€ƒè™‘è®¸å¯è¯ã€å®æ–½å’Œç»´æŠ¤æˆæœ¬</li></ol><h3 id="å®æ–½æœ€ä½³å®è·µ-ğŸ› ï¸"><a href="#å®æ–½æœ€ä½³å®è·µ-ğŸ› ï¸" class="headerlink" title="å®æ–½æœ€ä½³å®è·µ ğŸ› ï¸"></a>å®æ–½æœ€ä½³å®è·µ ğŸ› ï¸</h3><ol><li><strong>æ˜ç¡®åº”ç”¨è¾¹ç•Œ</strong>ï¼šä¸æ˜¯æ‰€æœ‰åº”ç”¨éƒ½é€‚åˆä½ä»£ç å¼€å‘ï¼Œä¼˜å…ˆé€‰æ‹©æ•°æ®å¯†é›†å‹ã€æµç¨‹é©±åŠ¨çš„åº”ç”¨</li><li><strong>å»ºç«‹æ²»ç†æœºåˆ¶</strong>ï¼šåˆ¶å®šä½ä»£ç åº”ç”¨å¼€å‘è§„èŒƒå’Œæµç¨‹ï¼Œé¿å…â€å½±å­ITâ€</li><li><strong>ç»„å»ºæ··åˆå›¢é˜Ÿ</strong>ï¼šç»“åˆä¸šåŠ¡äººå‘˜ã€ä½ä»£ç å¼€å‘è€…å’Œä¸“ä¸šå¼€å‘äººå‘˜</li><li><strong>æŒç»­ä¼˜åŒ–æ”¹è¿›</strong>ï¼šå»ºç«‹åé¦ˆæœºåˆ¶ï¼Œä¸æ–­ä¼˜åŒ–åº”ç”¨ä½“éªŒå’Œæ€§èƒ½</li></ol><h2 id="ä½ä»£ç ä¸ä¼ ç»Ÿå¼€å‘çš„èåˆä¹‹é“-ğŸ¤"><a href="#ä½ä»£ç ä¸ä¼ ç»Ÿå¼€å‘çš„èåˆä¹‹é“-ğŸ¤" class="headerlink" title="ä½ä»£ç ä¸ä¼ ç»Ÿå¼€å‘çš„èåˆä¹‹é“ ğŸ¤"></a>ä½ä»£ç ä¸ä¼ ç»Ÿå¼€å‘çš„èåˆä¹‹é“ ğŸ¤</h2><p>ä½ä»£ç å¹¶ä¸æ˜¯è¦å®Œå…¨å–ä»£ä¼ ç»Ÿå¼€å‘ï¼Œè€Œæ˜¯ä¸ä¹‹äº’è¡¥ã€‚ä»¥ä¸‹æ˜¯å‡ ç§æœ‰æ•ˆçš„èåˆæ¨¡å¼ï¼š</p><h3 id="1-å‰åç«¯åˆ†ç¦»æ¨¡å¼"><a href="#1-å‰åç«¯åˆ†ç¦»æ¨¡å¼" class="headerlink" title="1. å‰åç«¯åˆ†ç¦»æ¨¡å¼"></a>1. å‰åç«¯åˆ†ç¦»æ¨¡å¼</h3><p>ä½ä»£ç å¹³å°è´Ÿè´£å‰ç«¯ç•Œé¢æ„å»ºå’ŒåŸºæœ¬é€»è¾‘ï¼Œä¼ ç»Ÿå¼€å‘è´Ÿè´£å¤æ‚ä¸šåŠ¡é€»è¾‘å’Œç³»ç»Ÿé›†æˆã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä½ä»£ç å¹³å°ä¸­çš„è‡ªå®šä¹‰ä»£ç ç¤ºä¾‹</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">calculateDiscount</span>(<span class="params">price, userLevel</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// è°ƒç”¨ä¼ ç»Ÿå¼€å‘çš„å¾®æœåŠ¡API</span></span><br><span class="line">  <span class="keyword">return</span> apiService.calculateDiscount(price, userLevel);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="2-åˆ†å±‚å¼€å‘æ¨¡å¼"><a href="#2-åˆ†å±‚å¼€å‘æ¨¡å¼" class="headerlink" title="2. åˆ†å±‚å¼€å‘æ¨¡å¼"></a>2. åˆ†å±‚å¼€å‘æ¨¡å¼</h3><p>å°†åº”ç”¨åˆ†ä¸ºè¡¨ç¤ºå±‚ã€ä¸šåŠ¡é€»è¾‘å±‚å’Œæ•°æ®å±‚ï¼Œä½ä»£ç ä¸»è¦è´Ÿè´£è¡¨ç¤ºå±‚å’Œç®€å•ä¸šåŠ¡é€»è¾‘ï¼Œä¼ ç»Ÿå¼€å‘è´Ÿè´£å¤æ‚ä¸šåŠ¡é€»è¾‘å’Œæ•°æ®å±‚ã€‚</p><h3 id="3-ä¸­å¿ƒè¾å°„æ¨¡å¼"><a href="#3-ä¸­å¿ƒè¾å°„æ¨¡å¼" class="headerlink" title="3. ä¸­å¿ƒè¾å°„æ¨¡å¼"></a>3. ä¸­å¿ƒè¾å°„æ¨¡å¼</h3><p>ä»¥ä½ä»£ç å¹³å°ä¸ºä¸­å¿ƒï¼Œè¾å°„è¿æ¥å„ç§ä¸“ä¸šç³»ç»Ÿå’ŒæœåŠ¡ï¼Œå½¢æˆå®Œæ•´çš„è§£å†³æ–¹æ¡ˆã€‚</p><h2 id="ä½ä»£ç çš„æœªæ¥å±•æœ›ï¼šä¼šæˆä¸ºä¸»æµå—ï¼Ÿ-ğŸ”®"><a href="#ä½ä»£ç çš„æœªæ¥å±•æœ›ï¼šä¼šæˆä¸ºä¸»æµå—ï¼Ÿ-ğŸ”®" class="headerlink" title="ä½ä»£ç çš„æœªæ¥å±•æœ›ï¼šä¼šæˆä¸ºä¸»æµå—ï¼Ÿ ğŸ”®"></a>ä½ä»£ç çš„æœªæ¥å±•æœ›ï¼šä¼šæˆä¸ºä¸»æµå—ï¼Ÿ ğŸ”®</h2><p>æ ¹æ®Gartnerçš„é¢„æµ‹ï¼Œåˆ°2024å¹´ï¼Œ65%çš„åº”ç”¨å¼€å‘å°†é€šè¿‡ä½ä»£ç å¹³å°å®Œæˆã€‚ä½ä»£ç çš„æœªæ¥å‘å±•è¶‹åŠ¿åŒ…æ‹¬ï¼š</p><ol><li><strong>AIèµ‹èƒ½</strong>ï¼šç»“åˆäººå·¥æ™ºèƒ½æŠ€æœ¯ï¼Œå®ç°æ™ºèƒ½æ¨èã€è‡ªåŠ¨ä»£ç ç”Ÿæˆç­‰åŠŸèƒ½</li><li><strong>å…¨æ ˆèƒ½åŠ›å¢å¼º</strong>ï¼šä»å‰ç«¯åˆ°åç«¯ï¼Œæä¾›æ›´å…¨é¢çš„å¼€å‘èƒ½åŠ›</li><li><strong>è¡Œä¸šåŒ–æ·±è€•</strong>ï¼šé’ˆå¯¹ç‰¹å®šè¡Œä¸šæä¾›å®šåˆ¶åŒ–çš„è§£å†³æ–¹æ¡ˆ</li><li><strong>å¼€æºåŒ–è¶‹åŠ¿</strong>ï¼šæ›´å¤šå¼€æºä½ä»£ç å¹³å°çš„å‡ºç°ï¼Œé™ä½ä½¿ç”¨é—¨æ§›</li></ol><h2 id="å†™åœ¨æœ€åï¼šæ‹¥æŠ±ä½ä»£ç ï¼Œä½†ä¿æŒç†æ€§-ğŸ§ "><a href="#å†™åœ¨æœ€åï¼šæ‹¥æŠ±ä½ä»£ç ï¼Œä½†ä¿æŒç†æ€§-ğŸ§ " class="headerlink" title="å†™åœ¨æœ€åï¼šæ‹¥æŠ±ä½ä»£ç ï¼Œä½†ä¿æŒç†æ€§ ğŸ§ "></a>å†™åœ¨æœ€åï¼šæ‹¥æŠ±ä½ä»£ç ï¼Œä½†ä¿æŒç†æ€§ ğŸ§ </h2><p>ä½ä»£ç å¼€å‘å¹³å°æ— ç–‘æ˜¯è½¯ä»¶å¼€å‘é¢†åŸŸçš„ä¸€è‚¡æ¸…æµï¼Œå®ƒä¸ºä¼ä¸šæ•°å­—åŒ–è½¬å‹æä¾›äº†æ–°çš„å¯èƒ½ã€‚ä½†æˆ‘ä»¬ä¹Ÿéœ€è¦ä¿æŒç†æ€§ï¼Œè®¤è¯†åˆ°ä½ä»£ç å¹¶ä¸æ˜¯ä¸‡èƒ½çš„ï¼Œå®ƒæœ‰è‡ªå·±çš„é€‚ç”¨åœºæ™¯å’Œå±€é™æ€§ã€‚</p><p>ä½œä¸ºå¼€å‘è€…ï¼Œæˆ‘ä»¬åº”è¯¥æ‹¥æŠ±è¿™ç§æ–°æŠ€æœ¯ï¼Œä½†åŒæ—¶ä¹Ÿè¦ä¸æ–­æå‡è‡ªå·±çš„æ ¸å¿ƒç«äº‰åŠ›ã€‚æ¯•ç«Ÿï¼Œæ— è®ºå·¥å…·å¦‚ä½•è¿›åŒ–ï¼Œè§£å†³é—®é¢˜çš„èƒ½åŠ›å’Œåˆ›æ–°æ€ç»´æ‰æ˜¯æœ€å®è´µçš„ï¼</p><p>ä½ å¯¹ä½ä»£ç å¼€å‘å¹³å°æœ‰ä»€ä¹ˆçœ‹æ³•ï¼Ÿæ¬¢è¿åœ¨è¯„è®ºåŒºç•™è¨€è®¨è®ºï¼</p><p>Happy Buildingï¼ğŸ—ï¸âœ¨</p>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;/assets/css/APlayer.min.css&quot;&gt;&lt;script src=&quot;/assets/js/APlayer.min.js&quot; cla</summary>
      
    
    
    
    
    <category term="è½¯ä»¶å¼€å‘" scheme="https://blog.zhuyizhuo.online/tags/%E8%BD%AF%E4%BB%B6%E5%BC%80%E5%8F%91/"/>
    
    <category term="ä½ä»£ç " scheme="https://blog.zhuyizhuo.online/tags/%E4%BD%8E%E4%BB%A3%E7%A0%81/"/>
    
    <category term="æ•ˆç‡å·¥å…·" scheme="https://blog.zhuyizhuo.online/tags/%E6%95%88%E7%8E%87%E5%B7%A5%E5%85%B7/"/>
    
    <category term="å¹³å°" scheme="https://blog.zhuyizhuo.online/tags/%E5%B9%B3%E5%8F%B0/"/>
    
  </entry>
  
  <entry>
    <title>äº‘åŸç”ŸæŠ€æœ¯å®è·µï¼šä»ç†è®ºåˆ°è½åœ°çš„å®Œæ•´æŒ‡å—</title>
    <link href="https://blog.zhuyizhuo.online/2022/06/15/cloud-native/2022-cloud-native-practices/"/>
    <id>https://blog.zhuyizhuo.online/2022/06/15/cloud-native/2022-cloud-native-practices/</id>
    <published>2022-06-14T16:00:00.000Z</published>
    <updated>2025-09-26T09:17:19.568Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h1 id="äº‘åŸç”ŸæŠ€æœ¯å®è·µï¼šä»ç†è®ºåˆ°è½åœ°çš„å®Œæ•´æŒ‡å—-â˜ï¸"><a href="#äº‘åŸç”ŸæŠ€æœ¯å®è·µï¼šä»ç†è®ºåˆ°è½åœ°çš„å®Œæ•´æŒ‡å—-â˜ï¸" class="headerlink" title="äº‘åŸç”ŸæŠ€æœ¯å®è·µï¼šä»ç†è®ºåˆ°è½åœ°çš„å®Œæ•´æŒ‡å— â˜ï¸"></a>äº‘åŸç”ŸæŠ€æœ¯å®è·µï¼šä»ç†è®ºåˆ°è½åœ°çš„å®Œæ•´æŒ‡å— â˜ï¸</h1><p>å¤§å®¶å¥½ï¼ğŸ‘‹ åœ¨å½“ä»Šè¿™ä¸ªæ•°å­—åŒ–è½¬å‹çš„æ—¶ä»£ï¼Œäº‘åŸç”ŸæŠ€æœ¯å·²ç»æˆä¸ºä¼ä¸šæŠ€æœ¯æ¶æ„çš„é‡è¦é€‰æ‹©ã€‚ä½œä¸ºä¸€ååœ¨äº‘åŸç”Ÿé¢†åŸŸæ·±è€•å¤šå¹´çš„å®è·µè€…ï¼Œæˆ‘æƒ³åˆ†äº«ä¸€äº›ä»ç†è®ºåˆ°è½åœ°çš„ç»éªŒå’Œè§è§£ã€‚ä»Šå¤©ï¼Œæˆ‘ä»¬å°±æ¥ä¸€èµ·æ¢ç´¢äº‘åŸç”ŸæŠ€æœ¯çš„é­…åŠ›å§ï¼ğŸš€</p><h2 id="ä»€ä¹ˆæ˜¯äº‘åŸç”Ÿï¼Ÿæ ¸å¿ƒæ¦‚å¿µè§£æ-ğŸ”"><a href="#ä»€ä¹ˆæ˜¯äº‘åŸç”Ÿï¼Ÿæ ¸å¿ƒæ¦‚å¿µè§£æ-ğŸ”" class="headerlink" title="ä»€ä¹ˆæ˜¯äº‘åŸç”Ÿï¼Ÿæ ¸å¿ƒæ¦‚å¿µè§£æ ğŸ”"></a>ä»€ä¹ˆæ˜¯äº‘åŸç”Ÿï¼Ÿæ ¸å¿ƒæ¦‚å¿µè§£æ ğŸ”</h2><p>äº‘åŸç”Ÿï¼ˆCloud Nativeï¼‰æ˜¯ä¸€ç§æ„å»ºå’Œè¿è¡Œåº”ç”¨ç¨‹åºçš„æ–¹æ³•ï¼Œå®ƒå……åˆ†åˆ©ç”¨äº†äº‘è®¡ç®—çš„ä¼˜åŠ¿ã€‚æ ¹æ®CNCFï¼ˆäº‘åŸç”Ÿè®¡ç®—åŸºé‡‘ä¼šï¼‰çš„å®šä¹‰ï¼Œäº‘åŸç”ŸæŠ€æœ¯æ ˆä¸»è¦åŒ…å«ä»¥ä¸‹å‡ ä¸ªæ ¸å¿ƒéƒ¨åˆ†ï¼š</p><h3 id="1-å®¹å™¨åŒ–-ğŸ“¦"><a href="#1-å®¹å™¨åŒ–-ğŸ“¦" class="headerlink" title="1. å®¹å™¨åŒ– ğŸ“¦"></a>1. å®¹å™¨åŒ– ğŸ“¦</h3><p>å®¹å™¨åŒ–æ˜¯äº‘åŸç”Ÿçš„åŸºç¡€ï¼Œå®ƒè§£å†³äº†â€ä»£ç åœ¨æˆ‘æœºå™¨ä¸Šèƒ½è¿è¡Œâ€çš„é—®é¢˜ã€‚Dockerä½œä¸ºå®¹å™¨æŠ€æœ¯çš„ä»£è¡¨ï¼Œé€šè¿‡å°†åº”ç”¨åŠå…¶ä¾èµ–æ‰“åŒ…åˆ°æ ‡å‡†åŒ–å•å…ƒä¸­ï¼Œå®ç°äº†ç¯å¢ƒçš„ä¸€è‡´æ€§å’Œå¿«é€Ÿéƒ¨ç½²ã€‚</p><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ä¸€ä¸ªç®€å•çš„Dockerfileç¤ºä¾‹</span></span><br><span class="line"><span class="keyword">FROM</span> node:<span class="number">16</span>-alpine</span><br><span class="line"><span class="keyword">WORKDIR</span><span class="bash"> /app</span></span><br><span class="line"><span class="keyword">COPY</span><span class="bash"> package*.json ./</span></span><br><span class="line"><span class="keyword">RUN</span><span class="bash"> npm install</span></span><br><span class="line"><span class="keyword">COPY</span><span class="bash"> . .</span></span><br><span class="line"><span class="keyword">EXPOSE</span> <span class="number">3000</span></span><br><span class="line"><span class="keyword">CMD</span><span class="bash"> [<span class="string">&quot;npm&quot;</span>, <span class="string">&quot;start&quot;</span>]</span></span><br></pre></td></tr></table></figure><h3 id="2-å¾®æœåŠ¡æ¶æ„-ğŸ§©"><a href="#2-å¾®æœåŠ¡æ¶æ„-ğŸ§©" class="headerlink" title="2. å¾®æœåŠ¡æ¶æ„ ğŸ§©"></a>2. å¾®æœåŠ¡æ¶æ„ ğŸ§©</h3><p>å°†å•ä½“åº”ç”¨æ‹†åˆ†ä¸ºå¤šä¸ªç‹¬ç«‹ã€å¯ç‹¬ç«‹éƒ¨ç½²çš„æœåŠ¡ã€‚æ¯ä¸ªæœåŠ¡éƒ½ä¸“æ³¨äºè‡ªå·±çš„ä¸šåŠ¡é¢†åŸŸï¼Œé€šè¿‡APIè¿›è¡Œé€šä¿¡ã€‚è¿™ç§æ¶æ„æé«˜äº†ç³»ç»Ÿçš„çµæ´»æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚</p><h3 id="3-å®¹å™¨ç¼–æ’-ğŸ›ï¸"><a href="#3-å®¹å™¨ç¼–æ’-ğŸ›ï¸" class="headerlink" title="3. å®¹å™¨ç¼–æ’ ğŸ›ï¸"></a>3. å®¹å™¨ç¼–æ’ ğŸ›ï¸</h3><p>éšç€å®¹å™¨æ•°é‡çš„å¢åŠ ï¼Œæ‰‹åŠ¨ç®¡ç†å˜å¾—ä¸ç°å®ã€‚Kubernetesä½œä¸ºå®¹å™¨ç¼–æ’çš„äº‹å®æ ‡å‡†ï¼Œæä¾›äº†è‡ªåŠ¨éƒ¨ç½²ã€æ‰©å±•å’Œç®¡ç†å®¹å™¨åŒ–åº”ç”¨çš„èƒ½åŠ›ã€‚</p><p><img data-src="https://images.unsplash.com/photo-1633418607042-085d509052db?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80" alt="äº‘åŸç”Ÿæ¶æ„å›¾"></p><h2 id="äº‘åŸç”Ÿè½åœ°ï¼šå…³é”®å®è·µä¸ç»éªŒåˆ†äº«-ğŸ’¡"><a href="#äº‘åŸç”Ÿè½åœ°ï¼šå…³é”®å®è·µä¸ç»éªŒåˆ†äº«-ğŸ’¡" class="headerlink" title="äº‘åŸç”Ÿè½åœ°ï¼šå…³é”®å®è·µä¸ç»éªŒåˆ†äº« ğŸ’¡"></a>äº‘åŸç”Ÿè½åœ°ï¼šå…³é”®å®è·µä¸ç»éªŒåˆ†äº« ğŸ’¡</h2><p>ç†è®ºå¾ˆç¾å¥½ï¼Œä½†è½åœ°è¿‡ç¨‹ä¸­ä¼šé‡åˆ°å„ç§æŒ‘æˆ˜ã€‚ä»¥ä¸‹æ˜¯æˆ‘åœ¨å¤šä¸ªäº‘åŸç”Ÿé¡¹ç›®ä¸­æ€»ç»“çš„å…³é”®å®è·µï¼š</p><h3 id="1-åŸºç¡€è®¾æ–½å³ä»£ç ï¼ˆIaCï¼‰ğŸ—ï¸"><a href="#1-åŸºç¡€è®¾æ–½å³ä»£ç ï¼ˆIaCï¼‰ğŸ—ï¸" class="headerlink" title="1. åŸºç¡€è®¾æ–½å³ä»£ç ï¼ˆIaCï¼‰ğŸ—ï¸"></a>1. åŸºç¡€è®¾æ–½å³ä»£ç ï¼ˆIaCï¼‰ğŸ—ï¸</h3><p>ä½¿ç”¨Terraformã€Ansibleç­‰å·¥å…·å°†åŸºç¡€è®¾æ–½é…ç½®ä»£ç åŒ–ï¼Œå®ç°åŸºç¡€è®¾æ–½çš„ç‰ˆæœ¬æ§åˆ¶å’Œè‡ªåŠ¨åŒ–éƒ¨ç½²ã€‚è¿™ä¸ä»…æé«˜äº†éƒ¨ç½²æ•ˆç‡ï¼Œè¿˜ç¡®ä¿äº†ç¯å¢ƒçš„ä¸€è‡´æ€§ã€‚</p><h3 id="2-CI-CDæµæ°´çº¿å»ºè®¾-ğŸ”„"><a href="#2-CI-CDæµæ°´çº¿å»ºè®¾-ğŸ”„" class="headerlink" title="2. CI/CDæµæ°´çº¿å»ºè®¾ ğŸ”„"></a>2. CI/CDæµæ°´çº¿å»ºè®¾ ğŸ”„</h3><p>å»ºç«‹å®Œå–„çš„æŒç»­é›†æˆå’ŒæŒç»­éƒ¨ç½²æµæ°´çº¿ï¼Œå®ç°ä»£ç æäº¤åˆ°ç”Ÿäº§ç¯å¢ƒçš„è‡ªåŠ¨åŒ–ã€‚æ¨èä½¿ç”¨Jenkinsã€GitHub Actionsæˆ–GitLab CIç­‰å·¥å…·ã€‚</p><h3 id="3-å¯è§‚æµ‹æ€§è®¾è®¡-ğŸ‘€"><a href="#3-å¯è§‚æµ‹æ€§è®¾è®¡-ğŸ‘€" class="headerlink" title="3. å¯è§‚æµ‹æ€§è®¾è®¡ ğŸ‘€"></a>3. å¯è§‚æµ‹æ€§è®¾è®¡ ğŸ‘€</h3><p>åœ¨äº‘åŸç”Ÿç¯å¢ƒä¸­ï¼Œç³»ç»Ÿçš„å¤æ‚æ€§å¤§å¤§å¢åŠ ï¼Œå› æ­¤å¯è§‚æµ‹æ€§å˜å¾—å°¤ä¸ºé‡è¦ã€‚æ„å»ºå®Œæ•´çš„æ—¥å¿—ã€æŒ‡æ ‡å’Œè¿½è¸ªä½“ç³»ï¼Œä½¿ç”¨ELKã€Prometheusã€Grafanaç­‰å·¥å…·ã€‚</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Kubernetesä¸­Prometheusç›‘æ§é…ç½®ç¤ºä¾‹</span></span><br><span class="line"><span class="attr">apiVersion:</span> <span class="string">monitoring.coreos.com/v1</span></span><br><span class="line"><span class="attr">kind:</span> <span class="string">ServiceMonitor</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">my-app-monitor</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">selector:</span></span><br><span class="line">    <span class="attr">matchLabels:</span></span><br><span class="line">      <span class="attr">app:</span> <span class="string">my-app</span></span><br><span class="line">  <span class="attr">endpoints:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="attr">port:</span> <span class="string">metrics</span></span><br></pre></td></tr></table></figure><h3 id="4-å®‰å…¨æ€§å·¦ç§»-ğŸ›¡ï¸"><a href="#4-å®‰å…¨æ€§å·¦ç§»-ğŸ›¡ï¸" class="headerlink" title="4. å®‰å…¨æ€§å·¦ç§» ğŸ›¡ï¸"></a>4. å®‰å…¨æ€§å·¦ç§» ğŸ›¡ï¸</h3><p>å°†å®‰å…¨è€ƒè™‘èå…¥åˆ°å¼€å‘çš„æ—©æœŸé˜¶æ®µï¼Œè€Œä¸æ˜¯ç­‰åˆ°éƒ¨ç½²åå†å¤„ç†ã€‚å®æ–½å®¹å™¨é•œåƒæ‰«æã€æ¼æ´æ£€æµ‹ã€æœåŠ¡ç½‘æ ¼ç­‰å®‰å…¨æªæ–½ã€‚</p><h2 id="å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ-ğŸš§"><a href="#å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ-ğŸš§" class="headerlink" title="å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ ğŸš§"></a>å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ ğŸš§</h2><p>åœ¨äº‘åŸç”Ÿè½åœ°è¿‡ç¨‹ä¸­ï¼Œæˆ‘é‡åˆ°äº†è®¸å¤šæŒ‘æˆ˜ï¼Œä»¥ä¸‹æ˜¯å‡ ä¸ªå¸¸è§é—®é¢˜åŠè§£å†³æ–¹æ¡ˆï¼š</p><h3 id="é—®é¢˜1ï¼šå¾®æœåŠ¡é—´çš„é€šä¿¡å¤æ‚æ€§"><a href="#é—®é¢˜1ï¼šå¾®æœåŠ¡é—´çš„é€šä¿¡å¤æ‚æ€§" class="headerlink" title="é—®é¢˜1ï¼šå¾®æœåŠ¡é—´çš„é€šä¿¡å¤æ‚æ€§"></a>é—®é¢˜1ï¼šå¾®æœåŠ¡é—´çš„é€šä¿¡å¤æ‚æ€§</h3><p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼šä½¿ç”¨æœåŠ¡ç½‘æ ¼ï¼ˆå¦‚Istioï¼‰æˆ–APIç½‘å…³ï¼ˆå¦‚Kongï¼‰æ¥ç®¡ç†æœåŠ¡é—´çš„é€šä¿¡ï¼Œå¤„ç†æµé‡è·¯ç”±ã€è´Ÿè½½å‡è¡¡ã€ç†”æ–­ç­‰é—®é¢˜ã€‚</p><h3 id="é—®é¢˜2ï¼šçŠ¶æ€ç®¡ç†å›°éš¾"><a href="#é—®é¢˜2ï¼šçŠ¶æ€ç®¡ç†å›°éš¾" class="headerlink" title="é—®é¢˜2ï¼šçŠ¶æ€ç®¡ç†å›°éš¾"></a>é—®é¢˜2ï¼šçŠ¶æ€ç®¡ç†å›°éš¾</h3><p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼šå¯¹äºæœ‰çŠ¶æ€åº”ç”¨ï¼Œä½¿ç”¨Kubernetesçš„StatefulSetæ§åˆ¶å™¨ï¼Œç»“åˆæŒä¹…å·ï¼ˆPersistent Volumesï¼‰æ¥ç®¡ç†çŠ¶æ€ã€‚</p><h3 id="é—®é¢˜3ï¼šèµ„æºä¼˜åŒ–ä¸æˆæœ¬æ§åˆ¶"><a href="#é—®é¢˜3ï¼šèµ„æºä¼˜åŒ–ä¸æˆæœ¬æ§åˆ¶" class="headerlink" title="é—®é¢˜3ï¼šèµ„æºä¼˜åŒ–ä¸æˆæœ¬æ§åˆ¶"></a>é—®é¢˜3ï¼šèµ„æºä¼˜åŒ–ä¸æˆæœ¬æ§åˆ¶</h3><p><strong>è§£å†³æ–¹æ¡ˆ</strong>ï¼šå®æ–½è‡ªåŠ¨ä¼¸ç¼©ç­–ç•¥ï¼Œä½¿ç”¨Kubernetesçš„Horizontal Pod Autoscalerå’ŒVertical Pod Autoscalerï¼Œæ ¹æ®å®é™…è´Ÿè½½è°ƒæ•´èµ„æºåˆ†é…ã€‚</p><h2 id="æœªæ¥å±•æœ›ï¼šäº‘åŸç”Ÿçš„å‘å±•è¶‹åŠ¿-ğŸ”®"><a href="#æœªæ¥å±•æœ›ï¼šäº‘åŸç”Ÿçš„å‘å±•è¶‹åŠ¿-ğŸ”®" class="headerlink" title="æœªæ¥å±•æœ›ï¼šäº‘åŸç”Ÿçš„å‘å±•è¶‹åŠ¿ ğŸ”®"></a>æœªæ¥å±•æœ›ï¼šäº‘åŸç”Ÿçš„å‘å±•è¶‹åŠ¿ ğŸ”®</h2><p>äº‘åŸç”ŸæŠ€æœ¯æ­£åœ¨å¿«é€Ÿå‘å±•ï¼Œæœªæ¥æˆ‘ä»¬å¯ä»¥æœŸå¾…ä»¥ä¸‹è¶‹åŠ¿ï¼š</p><ol><li><strong>Serverlessæ¶æ„çš„æ™®åŠ</strong>ï¼šå‡½æ•°è®¡ç®—ï¼ˆFaaSï¼‰å°†è¿›ä¸€æ­¥ç®€åŒ–åº”ç”¨éƒ¨ç½²å’Œè¿ç»´</li><li><strong>è¾¹ç¼˜è®¡ç®—ä¸äº‘åŸç”Ÿçš„ç»“åˆ</strong>ï¼šå°†è®¡ç®—èƒ½åŠ›æ‰©å±•åˆ°ç½‘ç»œè¾¹ç¼˜</li><li><strong>AIä¸äº‘åŸç”Ÿçš„èåˆ</strong>ï¼šäº‘åŸç”Ÿå¹³å°å°†æ›´å¥½åœ°æ”¯æŒAIæ¨¡å‹çš„è®­ç»ƒå’Œéƒ¨ç½²</li></ol><h2 id="å†™åœ¨æœ€åï¼šè¸ä¸Šäº‘åŸç”Ÿä¹‹æ—…-ğŸš‚"><a href="#å†™åœ¨æœ€åï¼šè¸ä¸Šäº‘åŸç”Ÿä¹‹æ—…-ğŸš‚" class="headerlink" title="å†™åœ¨æœ€åï¼šè¸ä¸Šäº‘åŸç”Ÿä¹‹æ—… ğŸš‚"></a>å†™åœ¨æœ€åï¼šè¸ä¸Šäº‘åŸç”Ÿä¹‹æ—… ğŸš‚</h2><p>äº‘åŸç”ŸæŠ€æœ¯ä¸æ˜¯é“¶å¼¹ï¼Œä½†å®ƒç¡®å®ä¸ºç°ä»£åº”ç”¨å¼€å‘å¸¦æ¥äº†å·¨å¤§çš„ä¼˜åŠ¿ã€‚ä»ç†è®ºåˆ°å®è·µï¼Œéœ€è¦å›¢é˜Ÿçš„å…±åŒåŠªåŠ›å’ŒæŒç»­å­¦ä¹ ã€‚å¸Œæœ›è¿™ç¯‡æ–‡ç« èƒ½ä¸ºä½ çš„äº‘åŸç”Ÿä¹‹æ—…æä¾›ä¸€äº›å¸®åŠ©ï¼å¦‚æœä½ æœ‰ä»»ä½•é—®é¢˜æˆ–ç»éªŒæƒ³åˆ†äº«ï¼Œæ¬¢è¿åœ¨è¯„è®ºåŒºç•™è¨€è®¨è®ºï¼</p><p>Happy Codingï¼ğŸ’»âœ¨</p>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;/assets/css/APlayer.min.css&quot;&gt;&lt;script src=&quot;/assets/js/APlayer.min.js&quot; cla</summary>
      
    
    
    
    
    <category term="äº‘åŸç”Ÿ" scheme="https://blog.zhuyizhuo.online/tags/%E4%BA%91%E5%8E%9F%E7%94%9F/"/>
    
    <category term="Kubernetes" scheme="https://blog.zhuyizhuo.online/tags/Kubernetes/"/>
    
    <category term="Docker" scheme="https://blog.zhuyizhuo.online/tags/Docker/"/>
    
    <category term="DevOps" scheme="https://blog.zhuyizhuo.online/tags/DevOps/"/>
    
  </entry>
  
  <entry>
    <title>MySQL çš„ Redo logã€bin logã€Undo log</title>
    <link href="https://blog.zhuyizhuo.online/2021/03/03/database/mysql/mysql-binlog-redolog-undolog/"/>
    <id>https://blog.zhuyizhuo.online/2021/03/03/database/mysql/mysql-binlog-redolog-undolog/</id>
    <published>2021-03-02T16:00:00.000Z</published>
    <updated>2025-09-26T09:36:22.836Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h2 id="MySQL-äº‹åŠ¡æ—¥å¿—"><a href="#MySQL-äº‹åŠ¡æ—¥å¿—" class="headerlink" title="MySQL äº‹åŠ¡æ—¥å¿—"></a>MySQL äº‹åŠ¡æ—¥å¿—</h2><p>äº‹åŠ¡æ—¥å¿—å¯ä»¥å¸®åŠ©æé«˜äº‹åŠ¡çš„æ•ˆç‡ã€‚ä½¿ç”¨äº‹åŠ¡æ—¥å¿—ï¼Œå­˜å‚¨å¼•æ“åœ¨ä¿®æ”¹è¡¨çš„æ•°æ®æ—¶åªéœ€è¦ä¿®æ”¹å…¶å†…å­˜æ‹·è´ï¼Œå†æŠŠè¯¥ä¿®æ”¹è¡Œä¸ºè®°å½•åˆ°æŒä¹…åœ¨ç¡¬ç›˜ä¸Šçš„äº‹åŠ¡æ—¥å¿—ä¸­ï¼Œè€Œä¸ç”¨æ¯æ¬¡éƒ½å°†ä¿®æ”¹çš„æ•°æ®æœ¬èº«æŒä¹…åˆ°ç£ç›˜ã€‚äº‹åŠ¡æ—¥å¿—é‡‡ç”¨çš„æ˜¯è¿½åŠ çš„æ–¹å¼ï¼Œå› æ­¤å†™æ—¥å¿—çš„æ“ä½œæ˜¯ç£ç›˜ä¸Šä¸€å°å—åŒºåŸŸå†…çš„é¡ºåºI/Oï¼Œè€Œä¸åƒéšæœºI/Oéœ€è¦åœ¨ç£ç›˜çš„å¤šä¸ªåœ°æ–¹ç§»åŠ¨ç£å¤´ï¼Œæ‰€ä»¥é‡‡ç”¨äº‹åŠ¡æ—¥å¿—çš„æ–¹å¼ç›¸å¯¹æ¥è¯´è¦å¿«å¾—å¤šã€‚äº‹åŠ¡æ—¥å¿—æŒä¹…ä»¥åï¼Œå†…å­˜ä¸­è¢«ä¿®æ”¹çš„æ•°æ®åœ¨åå°å¯ä»¥æ…¢æ…¢åœ°åˆ·å›åˆ°ç£ç›˜ã€‚ç›®å‰å¤§å¤šæ•°å­˜å‚¨å¼•æ“éƒ½æ˜¯è¿™æ ·å®ç°çš„ï¼Œæˆ‘ä»¬é€šå¸¸ç§°ä¹‹ä¸ºé¢„å†™å¼æ—¥å¿—ï¼ˆWrite-Ahead Loggingï¼‰ï¼Œä¿®æ”¹æ•°æ®éœ€è¦å†™ä¸¤æ¬¡ç£ç›˜ã€‚</p><p>å¦‚æœæ•°æ®çš„ä¿®æ”¹å·²ç»è®°å½•åˆ°äº‹åŠ¡æ—¥å¿—å¹¶æŒä¹…åŒ–ï¼Œä½†æ•°æ®æœ¬èº«è¿˜æ²¡æœ‰å†™å›ç£ç›˜ï¼Œæ­¤æ—¶ç³»ç»Ÿå´©æºƒï¼Œå­˜å‚¨å¼•æ“åœ¨é‡å¯æ—¶èƒ½å¤Ÿè‡ªåŠ¨æ¢å¤è¿™éƒ¨åˆ†ä¿®æ”¹çš„æ•°æ®ã€‚</p><p>MySQL Innodbä¸­è·Ÿæ•°æ®æŒä¹…æ€§ã€ä¸€è‡´æ€§æœ‰å…³çš„æ—¥å¿—ï¼Œæœ‰ä»¥ä¸‹å‡ ç§ï¼š</p><ul><li>Bin log</li><li>Redo log</li><li>Undo log</li></ul><span id="more"></span><h2 id="bin-log"><a href="#bin-log" class="headerlink" title="bin log"></a>bin log</h2><p>binlogï¼Œæ˜¯mysqlæœåŠ¡å±‚äº§ç”Ÿçš„æ—¥å¿—ï¼Œå¸¸ç”¨æ¥è¿›è¡Œæ•°æ®æ¢å¤ã€æ•°æ®åº“å¤åˆ¶ï¼Œå¸¸è§çš„mysqlä¸»ä»æ¶æ„ï¼Œå°±æ˜¯é‡‡ç”¨slaveåŒæ­¥masterçš„binlogå®ç°çš„, å¦å¤–é€šè¿‡è§£æbinlogèƒ½å¤Ÿå®ç°mysqlåˆ°å…¶ä»–æ•°æ®æºï¼ˆå¦‚ElasticSearch)çš„æ•°æ®å¤åˆ¶ã€‚</p><h2 id="redo-log"><a href="#redo-log" class="headerlink" title="redo log"></a>redo log</h2><p>redo log è®°å½•äº†æ•°æ®æ“ä½œåœ¨ç‰©ç†å±‚é¢çš„ä¿®æ”¹ï¼Œmysql ä¸­ä½¿ç”¨äº†å¤§é‡ç¼“å­˜ï¼Œç¼“å­˜å­˜åœ¨äºå†…å­˜ä¸­ï¼Œä¿®æ”¹æ“ä½œæ—¶ä¼šç›´æ¥ä¿®æ”¹å†…å­˜ï¼Œè€Œä¸æ˜¯ç«‹åˆ»ä¿®æ”¹ç£ç›˜ï¼Œå½“å†…å­˜å’Œç£ç›˜çš„æ•°æ®ä¸ä¸€è‡´æ—¶ï¼Œç§°å†…å­˜ä¸­çš„æ•°æ®ä¸ºè„é¡µ(dirty page)ã€‚ä¸ºäº†ä¿è¯æ•°æ®çš„å®‰å…¨æ€§ï¼Œäº‹åŠ¡è¿›è¡Œä¸­æ—¶ä¼šä¸æ–­çš„äº§ç”Ÿredo logï¼Œåœ¨äº‹åŠ¡æäº¤æ—¶è¿›è¡Œä¸€æ¬¡flushæ“ä½œï¼Œä¿å­˜åˆ°ç£ç›˜ä¸­, redo logæ˜¯æŒ‰ç…§é¡ºåºå†™å…¥çš„ï¼Œç£ç›˜çš„é¡ºåºè¯»å†™çš„é€Ÿåº¦è¿œå¤§äºéšæœºè¯»å†™ã€‚å½“æ•°æ®åº“æˆ–ä¸»æœºå¤±æ•ˆé‡å¯æ—¶ï¼Œä¼šæ ¹æ®redo logè¿›è¡Œæ•°æ®çš„æ¢å¤ï¼Œå¦‚æœredo logä¸­æœ‰äº‹åŠ¡æäº¤ï¼Œåˆ™è¿›è¡Œäº‹åŠ¡æäº¤ä¿®æ”¹æ•°æ®ã€‚è¿™æ ·å®ç°äº†äº‹åŠ¡çš„åŸå­æ€§ã€ä¸€è‡´æ€§å’ŒæŒä¹…æ€§ã€‚</p><h2 id="undo-log"><a href="#undo-log" class="headerlink" title="undo log"></a>undo log</h2><p>undo log é™¤äº†è®°å½•redo logå¤–ï¼Œå½“è¿›è¡Œæ•°æ®ä¿®æ”¹æ—¶è¿˜ä¼šè®°å½• undo logï¼Œundo logç”¨äºæ•°æ®çš„æ’¤å›æ“ä½œï¼Œå®ƒè®°å½•äº†ä¿®æ”¹çš„åå‘æ“ä½œï¼Œæ¯”å¦‚ï¼Œæ’å…¥å¯¹åº”åˆ é™¤ï¼Œä¿®æ”¹å¯¹åº”ä¿®æ”¹ä¸ºåŸæ¥çš„æ•°æ®ï¼Œé€šè¿‡undo logå¯ä»¥å®ç°äº‹åŠ¡å›æ»šï¼Œå¹¶ä¸”å¯ä»¥æ ¹æ®undo logå›æº¯åˆ°æŸä¸ªç‰¹å®šçš„ç‰ˆæœ¬çš„æ•°æ®ï¼Œå®ç°MVCCã€‚</p><p>Undo logåˆ†ä¸ºInsertå’ŒUpdateä¸¤ç§ï¼Œdeleteå¯ä»¥çœ‹åšæ˜¯ä¸€ç§ç‰¹æ®Šçš„updateï¼Œå³åœ¨è®°å½•ä¸Šä¿®æ”¹åˆ é™¤æ ‡è®°ã€‚</p><p>update undo logè®°å½•äº†æ•°æ®ä¹‹å‰çš„æ•°æ®ä¿¡æ¯ï¼Œé€šè¿‡è¿™äº›ä¿¡æ¯å¯ä»¥è¿˜åŸåˆ°ä¹‹å‰ç‰ˆæœ¬çš„çŠ¶æ€ã€‚</p><p>å½“è¿›è¡Œæ’å…¥æ“ä½œæ—¶ï¼Œç”Ÿæˆçš„Insert undo logåœ¨äº‹åŠ¡æäº¤åå³å¯åˆ é™¤ï¼Œå› ä¸ºå…¶ä»–äº‹åŠ¡ä¸éœ€è¦è¿™ä¸ªundo logã€‚</p><p>è¿›è¡Œåˆ é™¤ä¿®æ”¹æ“ä½œæ—¶ï¼Œä¼šç”Ÿæˆå¯¹åº”çš„undo logï¼Œå¹¶å°†å½“å‰æ•°æ®è®°å½•ä¸­çš„db_roll_ptræŒ‡å‘æ–°çš„undo logã€‚</p><h2 id="å‚è€ƒé“¾æ¥"><a href="#å‚è€ƒé“¾æ¥" class="headerlink" title="å‚è€ƒé“¾æ¥"></a>å‚è€ƒé“¾æ¥</h2><ul><li>ç®€ä¹¦ï¼š<span class="exturl" data-url="aHR0cHM6Ly93d3cuamlhbnNodS5jb20vcC9mNjkyZDRmOGE1M2U=">MYSQL MVCCå®ç°åŸç†<i class="fa fa-external-link-alt"></i></span></li></ul>]]></content>
    
    
    <summary type="html">&lt;h2 id=&quot;MySQL-äº‹åŠ¡æ—¥å¿—&quot;&gt;&lt;a href=&quot;#MySQL-äº‹åŠ¡æ—¥å¿—&quot; class=&quot;headerlink&quot; title=&quot;MySQL äº‹åŠ¡æ—¥å¿—&quot;&gt;&lt;/a&gt;MySQL äº‹åŠ¡æ—¥å¿—&lt;/h2&gt;&lt;p&gt;äº‹åŠ¡æ—¥å¿—å¯ä»¥å¸®åŠ©æé«˜äº‹åŠ¡çš„æ•ˆç‡ã€‚ä½¿ç”¨äº‹åŠ¡æ—¥å¿—ï¼Œå­˜å‚¨å¼•æ“åœ¨ä¿®æ”¹è¡¨çš„æ•°æ®æ—¶åªéœ€è¦ä¿®æ”¹å…¶å†…å­˜æ‹·è´ï¼Œå†æŠŠè¯¥ä¿®æ”¹è¡Œä¸ºè®°å½•åˆ°æŒä¹…åœ¨ç¡¬ç›˜ä¸Šçš„äº‹åŠ¡æ—¥å¿—ä¸­ï¼Œè€Œä¸ç”¨æ¯æ¬¡éƒ½å°†ä¿®æ”¹çš„æ•°æ®æœ¬èº«æŒä¹…åˆ°ç£ç›˜ã€‚äº‹åŠ¡æ—¥å¿—é‡‡ç”¨çš„æ˜¯è¿½åŠ çš„æ–¹å¼ï¼Œå› æ­¤å†™æ—¥å¿—çš„æ“ä½œæ˜¯ç£ç›˜ä¸Šä¸€å°å—åŒºåŸŸå†…çš„é¡ºåºI/Oï¼Œè€Œä¸åƒéšæœºI/Oéœ€è¦åœ¨ç£ç›˜çš„å¤šä¸ªåœ°æ–¹ç§»åŠ¨ç£å¤´ï¼Œæ‰€ä»¥é‡‡ç”¨äº‹åŠ¡æ—¥å¿—çš„æ–¹å¼ç›¸å¯¹æ¥è¯´è¦å¿«å¾—å¤šã€‚äº‹åŠ¡æ—¥å¿—æŒä¹…ä»¥åï¼Œå†…å­˜ä¸­è¢«ä¿®æ”¹çš„æ•°æ®åœ¨åå°å¯ä»¥æ…¢æ…¢åœ°åˆ·å›åˆ°ç£ç›˜ã€‚ç›®å‰å¤§å¤šæ•°å­˜å‚¨å¼•æ“éƒ½æ˜¯è¿™æ ·å®ç°çš„ï¼Œæˆ‘ä»¬é€šå¸¸ç§°ä¹‹ä¸ºé¢„å†™å¼æ—¥å¿—ï¼ˆWrite-Ahead Loggingï¼‰ï¼Œä¿®æ”¹æ•°æ®éœ€è¦å†™ä¸¤æ¬¡ç£ç›˜ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœæ•°æ®çš„ä¿®æ”¹å·²ç»è®°å½•åˆ°äº‹åŠ¡æ—¥å¿—å¹¶æŒä¹…åŒ–ï¼Œä½†æ•°æ®æœ¬èº«è¿˜æ²¡æœ‰å†™å›ç£ç›˜ï¼Œæ­¤æ—¶ç³»ç»Ÿå´©æºƒï¼Œå­˜å‚¨å¼•æ“åœ¨é‡å¯æ—¶èƒ½å¤Ÿè‡ªåŠ¨æ¢å¤è¿™éƒ¨åˆ†ä¿®æ”¹çš„æ•°æ®ã€‚&lt;/p&gt;
&lt;p&gt;MySQL Innodbä¸­è·Ÿæ•°æ®æŒä¹…æ€§ã€ä¸€è‡´æ€§æœ‰å…³çš„æ—¥å¿—ï¼Œæœ‰ä»¥ä¸‹å‡ ç§ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Bin log&lt;/li&gt;
&lt;li&gt;Redo log&lt;/li&gt;
&lt;li&gt;Undo log&lt;/li&gt;
&lt;/ul&gt;</summary>
    
    
    
    <category term="MySQL" scheme="https://blog.zhuyizhuo.online/categories/MySQL/"/>
    
    <category term="Database" scheme="https://blog.zhuyizhuo.online/categories/Database/"/>
    
    
    <category term="MySQL" scheme="https://blog.zhuyizhuo.online/tags/MySQL/"/>
    
  </entry>
  
  <entry>
    <title>InnoDB çš„ MVCC å¤šç‰ˆæœ¬å¹¶å‘æ§åˆ¶</title>
    <link href="https://blog.zhuyizhuo.online/2021/03/01/database/mysql/InnoDB-mvcc/"/>
    <id>https://blog.zhuyizhuo.online/2021/03/01/database/mysql/InnoDB-mvcc/</id>
    <published>2021-02-28T16:00:00.000Z</published>
    <updated>2025-09-26T09:36:22.836Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><p>MVCC(Mutil-Version Concurrency Control)ï¼Œå°±æ˜¯å¤šç‰ˆæœ¬å¹¶å‘æ§åˆ¶ã€‚</p><p>MVCC æ˜¯ä¸€ç§å¹¶å‘æ§åˆ¶çš„æ–¹æ³•ï¼Œä¸€èˆ¬åœ¨æ•°æ®åº“ç®¡ç†ç³»ç»Ÿä¸­ï¼Œå®ç°å¯¹æ•°æ®åº“çš„å¹¶å‘è®¿é—®ã€‚</p><p>åœ¨ MySQL çš„ InnoDB å¼•æ“ä¸­å°±æ˜¯æŒ‡åœ¨å·²æäº¤è¯» (READ COMMITTD) å’Œå¯é‡å¤è¯» (REPEATABLE READ) è¿™ä¸¤ç§éš”ç¦»çº§åˆ«ä¸‹çš„äº‹åŠ¡å¯¹äº SELECT æ“ä½œä¼šè®¿é—®ç‰ˆæœ¬é“¾ä¸­çš„è®°å½•çš„è¿‡ç¨‹ã€‚</p><p>è¿™å°±ä½¿å¾—åˆ«çš„äº‹åŠ¡å¯ä»¥ä¿®æ”¹è¿™æ¡è®°å½•ï¼Œåæ­£æ¯æ¬¡ä¿®æ”¹éƒ½ä¼šåœ¨ç‰ˆæœ¬é“¾ä¸­è®°å½•ã€‚SELECT å¯ä»¥å»ç‰ˆæœ¬é“¾ä¸­æ‹¿è®°å½•ï¼Œè¿™å°±å®ç°äº†è¯»-å†™ï¼Œå†™-è¯»çš„å¹¶å‘æ‰§è¡Œï¼Œæå‡äº†ç³»ç»Ÿçš„æ€§èƒ½ã€‚</p><span id="more"></span><p><code>InnoDB</code> å‘å­˜å‚¨åœ¨æ•°æ®åº“ä¸­çš„æ¯ä¸€è¡Œæ·»åŠ ä¸‰ä¸ªå­—æ®µï¼š</p><ul><li>6 å­—èŠ‚çš„ <code>DB_TRX_ID</code> å­—æ®µæŒ‡ç¤ºæ’å…¥æˆ–æ›´æ–°è¯¥è¡Œçš„æœ€åä¸€ç¬”äº‹åŠ¡çš„äº‹åŠ¡ IDã€‚æ­¤å¤–ï¼Œåˆ é™¤åœ¨å†…éƒ¨è¢«è§†ä¸ºæ›´æ–°ï¼Œåœ¨è¯¥æ›´æ–°ä¸­ï¼Œè¡Œä¸­çš„ç‰¹æ®Šä½è¢«è®¾ç½®ä¸ºå°†å…¶æ ‡è®°ä¸ºå·²åˆ é™¤ã€‚</li><li>ä¸€ä¸ª 7 å­—èŠ‚çš„ <code>DB_ROLL_PTR</code> å­—æ®µç§°ä¸ºæ»šåŠ¨æŒ‡é’ˆã€‚å›æ»šæŒ‡é’ˆæŒ‡å‘å†™å…¥å›æ»šæ®µçš„æ’¤æ¶ˆæ—¥å¿—ï¼ˆundo logï¼‰è®°å½•ã€‚å¦‚æœè¯¥è¡Œå·²æ›´æ–°ï¼Œåˆ™æ’¤æ¶ˆæ—¥å¿—è®°å½•å°†åŒ…å«åœ¨æ›´æ–°è¯¥è¡Œä¹‹å‰é‡å»ºè¯¥è¡Œçš„å†…å®¹æ‰€å¿…éœ€çš„ä¿¡æ¯ã€‚(æ³¨æ„æ’å…¥æ“ä½œçš„ undo æ—¥å¿—æ²¡æœ‰è¿™ä¸ªå±æ€§ï¼Œå› ä¸ºå®ƒæ²¡æœ‰è€ç‰ˆæœ¬)</li><li>ä¸€ä¸ª 6 å­—èŠ‚çš„ <code>DB_ROW_ID</code> å­—æ®µåŒ…å«ä¸€ä¸ªè¡Œ IDï¼Œè¯¥è¡Œ ID éšç€æ’å…¥æ–°è¡Œè€Œå•è°ƒå¢åŠ ã€‚å¦‚æœ <code>InnoDB</code>è‡ªåŠ¨ç”Ÿæˆèšç°‡ç´¢å¼•ï¼Œåˆ™è¯¥ç´¢å¼•åŒ…å«è¡Œ ID å€¼ã€‚å¦åˆ™ï¼Œè¯¥ <code>DB_ROW_ID</code> åˆ—ä¸ä¼šå‡ºç°åœ¨ä»»ä½•ç´¢å¼•ä¸­ã€‚</li></ul><p>æ–°å¢ä¸€ä¸ªäº‹åŠ¡æ—¶äº‹åŠ¡ id ä¼šå¢åŠ ï¼Œ<code>DB_TRX_ID</code> èƒ½å¤Ÿè¡¨ç¤ºäº‹åŠ¡å¼€å§‹çš„å…ˆåé¡ºåºã€‚</p><h2 id="MVCC-ä¼˜åŠ¿"><a href="#MVCC-ä¼˜åŠ¿" class="headerlink" title="MVCC ä¼˜åŠ¿"></a>MVCC ä¼˜åŠ¿</h2><p><strong>MVCCæœ€å¤§çš„ä¼˜åŠ¿ï¼šè¯»ä¸åŠ é”ï¼Œè¯»å†™ä¸å†²çªã€‚åœ¨è¯»å¤šå†™å°‘çš„ OLTP åº”ç”¨ä¸­ï¼Œè¯»å†™ä¸å†²çªæ˜¯éå¸¸é‡è¦çš„ï¼Œæå¤§çš„å¢åŠ äº†ç³»ç»Ÿçš„å¹¶å‘æ€§èƒ½</strong></p><h2 id="ç¼ºç‚¹"><a href="#ç¼ºç‚¹" class="headerlink" title="ç¼ºç‚¹"></a>ç¼ºç‚¹</h2><p>æ¯è¡Œè®°å½•éƒ½éœ€è¦é¢å¤–çš„å­˜å‚¨ç©ºé—´ï¼Œéœ€è¦åšæ›´å¤šçš„è¡Œæ£€æŸ¥å·¥ä½œï¼Œä»¥åŠä¸€äº›é¢å¤–çš„ç»´æŠ¤å·¥ä½œã€‚</p><h2 id="æ•°æ®ç»“æ„"><a href="#æ•°æ®ç»“æ„" class="headerlink" title="æ•°æ®ç»“æ„"></a>æ•°æ®ç»“æ„</h2><p>åœ¨åˆ†æMVCCåŸç†ä¹‹å‰ï¼Œå…ˆçœ‹ä¸‹ InnoDB ä¸­æ•°æ®è¡Œçš„ç»“æ„ï¼š</p><p><img data-src="assets/picture/mysql-mvcc/v2-e1844f5816a332018183559d1573d80e_1440w.jpg" alt="img"></p><p>åœ¨ InnoDB ä¸­ï¼Œæ¯ä¸€è¡Œéƒ½æœ‰2ä¸ªéšè—åˆ— DB_TRX_ID å’ŒDATA_ROLL_PTR(å¦‚æœæ²¡æœ‰å®šä¹‰ä¸»é”®ï¼Œåˆ™è¿˜æœ‰ä¸ªéšè—ä¸»é”®åˆ—)ï¼š</p><ol><li>DATA_TRX_IDè¡¨ç¤ºæœ€è¿‘ä¿®æ”¹è¯¥è¡Œæ•°æ®çš„äº‹åŠ¡ID</li><li>DATA_ROLL_PTRåˆ™è¡¨ç¤ºæŒ‡å‘è¯¥è¡Œå›æ»šæ®µçš„æŒ‡é’ˆï¼Œè¯¥è¡Œä¸Šæ‰€æœ‰æ—§çš„ç‰ˆæœ¬ï¼Œåœ¨undoä¸­éƒ½é€šè¿‡é“¾è¡¨çš„å½¢å¼ç»„ç»‡ï¼Œè€Œè¯¥å€¼ï¼Œæ­£å¼æŒ‡å‘undoä¸­è¯¥è¡Œçš„å†å²è®°å½•é“¾è¡¨</li></ol><p>æ•´ä¸ªMVCCçš„å…³é”®å°±æ˜¯é€šè¿‡DATA_TRX_IDå’ŒDATA_ROLL_PTRè¿™ä¸¤ä¸ªéšè—åˆ—æ¥å®ç°çš„ã€‚</p><h2 id="ReadView"><a href="#ReadView" class="headerlink" title="ReadView"></a>ReadView</h2><ol><li><p>ReadView è¯´ç™½äº†å°±æ˜¯ä¸€ä¸ªæ•°æ®ç»“æ„ï¼Œåœ¨ SQL å¼€å§‹çš„æ—¶å€™è¢«åˆ›å»ºã€‚è¿™ä¸ªæ•°æ®ç»“æ„ä¸­åŒ…å«äº† 3 ä¸ªä¸»è¦çš„æˆå‘˜ï¼šReadView{low_trx_id, up_trx_id, trx_ids}ï¼Œåœ¨å¹¶å‘æƒ…å†µä¸‹ï¼Œä¸€ä¸ªäº‹åŠ¡åœ¨å¯åŠ¨æ—¶ï¼Œtrx_sys é“¾è¡¨ä¸­å­˜åœ¨éƒ¨åˆ†è¿˜æœªæäº¤çš„äº‹åŠ¡ï¼Œé‚£ä¹ˆå“ªäº›æ”¹å˜å¯¹å½“å‰äº‹åŠ¡æ˜¯å¯è§çš„ï¼Œå“ªäº›åˆæ˜¯ä¸å¯è§çš„ï¼Œè¿™ä¸ªéœ€è¦é€šè¿‡ ReadView æ¥è¿›è¡Œåˆ¤å®šï¼Œé¦–å…ˆæ¥çœ‹ä¸‹ ReadView ä¸­çš„ 3 ä¸ªæˆå‘˜å„è‡ªä»£è¡¨çš„æ„æ€ï¼š</p><ul><li><p>low_trx_id è¡¨ç¤ºè¯¥ SQL å¯åŠ¨æ—¶ï¼Œå½“å‰äº‹åŠ¡é“¾è¡¨ä¸­æœ€å¤§çš„äº‹åŠ¡ id ç¼–å·ï¼Œä¹Ÿå°±æ˜¯æœ€è¿‘åˆ›å»ºçš„é™¤è‡ªèº«ä»¥å¤–æœ€å¤§äº‹åŠ¡ç¼–å·ï¼›</p></li><li><p>up_trx_id è¡¨ç¤ºè¯¥ SQL å¯åŠ¨æ—¶ï¼Œå½“å‰äº‹åŠ¡é“¾è¡¨ä¸­æœ€å°çš„äº‹åŠ¡ id ç¼–å·ï¼Œä¹Ÿå°±æ˜¯å½“å‰ç³»ç»Ÿä¸­åˆ›å»ºæœ€æ—©ä½†è¿˜æœªæäº¤çš„äº‹åŠ¡ï¼›</p></li><li><p>trx_ids è¡¨ç¤ºæ‰€æœ‰äº‹åŠ¡é“¾è¡¨ä¸­äº‹åŠ¡çš„ id é›†åˆã€‚</p></li></ul></li></ol><p>ä¸Šè¿°3ä¸ªæˆå‘˜ç»„æˆäº†ReadViewä¸­çš„ä¸»è¦éƒ¨åˆ†ï¼Œç®€å•å›¾ç¤ºå¦‚ä¸‹ï¼š</p><p><img data-src="assets/picture/mysql-mvcc/v2-7b3dc9ba4be387f086fc63f114031574_1440w.jpg" alt="img"></p><p>æ ¹æ®ä¸Šå›¾æ‰€ç¤ºï¼Œæ‰€æœ‰æ•°æ®è¡Œä¸ŠDATA_TRX_IDå°äºup_trx_idçš„è®°å½•ï¼Œè¯´æ˜ä¿®æ”¹è¯¥è¡Œçš„äº‹åŠ¡åœ¨å½“å‰äº‹åŠ¡å¼€å¯ä¹‹å‰éƒ½å·²ç»æäº¤å®Œæˆï¼Œæ‰€ä»¥å¯¹å½“å‰äº‹åŠ¡æ¥è¯´ï¼Œéƒ½æ˜¯å¯è§çš„ã€‚è€Œå¯¹äºDATA_TRX_IDå¤§äºlow_trx_idçš„è®°å½•ï¼Œè¯´æ˜ä¿®æ”¹è¯¥è¡Œè®°å½•çš„äº‹åŠ¡åœ¨å½“å‰äº‹åŠ¡ä¹‹åï¼Œæ‰€ä»¥å¯¹äºå½“å‰äº‹åŠ¡æ¥è¯´æ˜¯ä¸å¯è§çš„ã€‚</p><p><strong>æ³¨æ„ï¼ŒReadViewæ˜¯ä¸SQLç»‘å®šçš„ï¼Œè€Œå¹¶ä¸æ˜¯äº‹åŠ¡ï¼Œæ‰€ä»¥å³ä½¿åœ¨åŒä¸€ä¸ªäº‹åŠ¡ä¸­ï¼Œæ¯æ¬¡SQLå¯åŠ¨æ—¶æ„é€ çš„ReadViewçš„up_trx_idå’Œlow_trx_idä¹Ÿéƒ½æ˜¯ä¸ä¸€æ ·çš„ï¼Œè‡³äºDATA_TRX_IDå¤§äºlow_trx_idæœ¬èº«å‡ºç°ä¹Ÿåªæœ‰å½“å¤šä¸ªSQLå¹¶å‘çš„æ—¶å€™ï¼Œåœ¨ä¸€ä¸ªSQLæ„é€ å®ŒReadViewä¹‹åï¼Œå¦å¤–ä¸€ä¸ªSQLä¿®æ”¹äº†æ•°æ®ååˆè¿›è¡Œäº†æäº¤ï¼Œå¯¹äºè¿™ç§æƒ…å†µï¼Œæ•°æ®å…¶å®æ˜¯ä¸å¯è§çš„ã€‚</strong></p><p>æœ€åï¼Œè‡³äºä½äºï¼ˆup_trx_id, low_trx_idï¼‰ä¸­é—´çš„äº‹åŠ¡æ˜¯å¦å¯è§ï¼Œè¿™ä¸ªéœ€è¦æ ¹æ®ä¸åŒçš„äº‹åŠ¡éš”ç¦»çº§åˆ«æ¥ç¡®å®šã€‚å¯¹äºRCçš„äº‹åŠ¡éš”ç¦»çº§åˆ«æ¥è¯´ï¼Œå¯¹äºäº‹åŠ¡æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œå·²ç»æäº¤çš„äº‹åŠ¡çš„æ•°æ®ï¼Œå¯¹å½“å‰äº‹åŠ¡æ˜¯å¯è§çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸Šè¿°å›¾ä¸­ï¼Œå½“å‰äº‹åŠ¡è¿è¡Œè¿‡ç¨‹ä¸­ï¼Œtrx1~4ä¸­ä»»æ„ä¸€ä¸ªäº‹åŠ¡æäº¤ï¼Œå¯¹å½“å‰äº‹åŠ¡æ¥è¯´éƒ½æ˜¯å¯è§çš„ï¼›è€Œå¯¹äºRRéš”ç¦»çº§åˆ«æ¥è¯´ï¼Œäº‹åŠ¡å¯åŠ¨æ—¶ï¼Œå·²ç»å¼€å§‹çš„äº‹åŠ¡é“¾è¡¨ä¸­çš„äº‹åŠ¡çš„æ‰€æœ‰ä¿®æ”¹éƒ½æ˜¯ä¸å¯è§çš„ï¼Œæ‰€ä»¥åœ¨RRçº§åˆ«ä¸‹ï¼Œlow_trx_idåŸºæœ¬ä¿æŒä¸up_trx_idç›¸åŒçš„å€¼å³å¯ã€‚</p><p>æœ€åç”¨ä¸€å¼ å›¾æ¥è§£é‡ŠMySQLä¸­çš„MVCCå®ç°ï¼š</p><p><img data-src="assets/picture/mysql-mvcc/v2-77c276015661224f1ddaa0ce9be03d0f_1440w.jpg" alt="img"></p><h2 id="å‚è€ƒé“¾æ¥"><a href="#å‚è€ƒé“¾æ¥" class="headerlink" title="å‚è€ƒé“¾æ¥"></a>å‚è€ƒé“¾æ¥</h2><ul><li><p>MySQL å®˜ç½‘ï¼š<span class="exturl" data-url="aHR0cHM6Ly9kZXYubXlzcWwuY29tL2RvYy9yZWZtYW4vOC4wL2VuL2lubm9kYi1tdWx0aS12ZXJzaW9uaW5nLmh0bWw=">InnoDB Multi-Versioning<i class="fa fa-external-link-alt"></i></span></p></li><li><p>çŸ¥ä¹ï¼š<span class="exturl" data-url="aHR0cHM6Ly96aHVhbmxhbi56aGlodS5jb20vcC80MDIwODg5NQ==">MySQL InnoDB MVCCå®ç°<i class="fa fa-external-link-alt"></i></span></p></li></ul>]]></content>
    
    
    <summary type="html">&lt;p&gt;MVCC(Mutil-Version Concurrency Control)ï¼Œå°±æ˜¯å¤šç‰ˆæœ¬å¹¶å‘æ§åˆ¶ã€‚&lt;/p&gt;
&lt;p&gt;MVCC æ˜¯ä¸€ç§å¹¶å‘æ§åˆ¶çš„æ–¹æ³•ï¼Œä¸€èˆ¬åœ¨æ•°æ®åº“ç®¡ç†ç³»ç»Ÿä¸­ï¼Œå®ç°å¯¹æ•°æ®åº“çš„å¹¶å‘è®¿é—®ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨ MySQL çš„ InnoDB å¼•æ“ä¸­å°±æ˜¯æŒ‡åœ¨å·²æäº¤è¯» (READ COMMITTD) å’Œå¯é‡å¤è¯» (REPEATABLE READ) è¿™ä¸¤ç§éš”ç¦»çº§åˆ«ä¸‹çš„äº‹åŠ¡å¯¹äº SELECT æ“ä½œä¼šè®¿é—®ç‰ˆæœ¬é“¾ä¸­çš„è®°å½•çš„è¿‡ç¨‹ã€‚&lt;/p&gt;
&lt;p&gt;è¿™å°±ä½¿å¾—åˆ«çš„äº‹åŠ¡å¯ä»¥ä¿®æ”¹è¿™æ¡è®°å½•ï¼Œåæ­£æ¯æ¬¡ä¿®æ”¹éƒ½ä¼šåœ¨ç‰ˆæœ¬é“¾ä¸­è®°å½•ã€‚SELECT å¯ä»¥å»ç‰ˆæœ¬é“¾ä¸­æ‹¿è®°å½•ï¼Œè¿™å°±å®ç°äº†è¯»-å†™ï¼Œå†™-è¯»çš„å¹¶å‘æ‰§è¡Œï¼Œæå‡äº†ç³»ç»Ÿçš„æ€§èƒ½ã€‚&lt;/p&gt;</summary>
    
    
    
    <category term="MySQL" scheme="https://blog.zhuyizhuo.online/categories/MySQL/"/>
    
    <category term="Database" scheme="https://blog.zhuyizhuo.online/categories/Database/"/>
    
    
    <category term="MySQL" scheme="https://blog.zhuyizhuo.online/tags/MySQL/"/>
    
  </entry>
  
  <entry>
    <title>MySQL å­˜å‚¨å¼•æ“</title>
    <link href="https://blog.zhuyizhuo.online/2021/02/20/database/mysql/mysql-engine/"/>
    <id>https://blog.zhuyizhuo.online/2021/02/20/database/mysql/mysql-engine/</id>
    <published>2021-02-19T16:00:00.000Z</published>
    <updated>2025-09-26T09:36:22.836Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h2 id="æ¦‚å¿µ"><a href="#æ¦‚å¿µ" class="headerlink" title="æ¦‚å¿µ"></a>æ¦‚å¿µ</h2><p>MySQL æ•°æ®åº“åŒºåˆ«äºå…¶ä»–æ•°æ®åº“çš„æœ€é‡è¦çš„ä¸€ä¸ªç‰¹ç‚¹å°±æ˜¯å…¶æ’ä»¶å¼çš„è¡¨å­˜å‚¨å¼•æ“ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå­˜å‚¨å¼•æ“æ˜¯åŸºäºè¡¨çš„ï¼Œè€Œä¸æ˜¯æ•°æ®åº“çš„ï¼ˆå³åŒä¸€ä¸ªæ•°æ®åº“ä¸­çš„ä¸åŒè¡¨å¯ä»¥æœ‰ä¸åŒçš„å­˜å‚¨å¼•æ“ï¼‰ã€‚</p><h2 id="æŸ¥çœ‹æ”¯æŒå“ªäº›å­˜å‚¨å¼•æ“"><a href="#æŸ¥çœ‹æ”¯æŒå“ªäº›å­˜å‚¨å¼•æ“" class="headerlink" title="æŸ¥çœ‹æ”¯æŒå“ªäº›å­˜å‚¨å¼•æ“"></a>æŸ¥çœ‹æ”¯æŒå“ªäº›å­˜å‚¨å¼•æ“</h2><p>æƒ³äº†è§£ MySQL ä¸­æ”¯æŒçš„å¼•æ“çš„æƒ…å†µï¼Œå¯ä»¥ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤æŸ¥çœ‹ï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">show</span> engines;</span><br></pre></td></tr></table></figure><span id="more"></span><h2 id="å¸¸ç”¨æœç´¢å¼•æ“ä»‹ç»"><a href="#å¸¸ç”¨æœç´¢å¼•æ“ä»‹ç»" class="headerlink" title="å¸¸ç”¨æœç´¢å¼•æ“ä»‹ç»"></a>å¸¸ç”¨æœç´¢å¼•æ“ä»‹ç»</h2><h3 id="MyISAM"><a href="#MyISAM" class="headerlink" title="MyISAM"></a>MyISAM</h3><p><strong>ç´¢å¼•é¡ºåºå­˜å–æ–¹æ³•</strong>ï¼ˆISAM, Indexed Sequential Access Methodï¼‰æœ€åˆæ˜¯ IBM å…¬å¸å‘å±•èµ·æ¥çš„ä¸€ä¸ªæ–‡ä»¶ç³»ç»Ÿï¼Œå¯ä»¥è¿ç»­åœ°ï¼ˆæŒ‰ç…§ä»–ä»¬è¿›å…¥çš„é¡ºåºï¼‰æˆ–è€…ä»»æ„åœ°ï¼ˆæ ¹æ®ç´¢å¼•ï¼‰è®°å½•ä»»ä½•è®¿é—®ã€‚<span class="exturl" data-url="aHR0cHM6Ly96aC53aWtpcGVkaWEub3JnL3dpa2kvTXlTUUw=">MySQL<i class="fa fa-external-link-alt"></i></span> å®ç° ISAM ä¸º <span class="exturl" data-url="aHR0cHM6Ly96aC53aWtpcGVkaWEub3JnL3dpa2kvTXlJU0FN">MyISAM<i class="fa fa-external-link-alt"></i></span>ã€‚</p><p>MyISAM æ˜¯ MYSQL çš„é»˜è®¤å­˜å‚¨å¼•æ“ (5.5ç‰ˆä¹‹å‰)ï¼Œä¼˜åŠ¿åœ¨äºå ç”¨ç©ºé—´å°ï¼Œå¤„ç†é€Ÿåº¦å¿«ï¼Œä½†å´æœ‰ä¸€ä¸ªç¼ºç‚¹ï¼šä¸æ”¯æŒäº‹åŠ¡å¤„ç†ã€‚</p><p>åŸºäºMyISAMå­˜å‚¨å¼•æ“çš„è¡¨æ”¯æŒ3ç§ä¸åŒçš„å­˜å‚¨æ ¼å¼ã€‚åŒ…æ‹¬é™æ€å‹ã€åŠ¨æ€å‹å’Œå‹ç¼©å‹ã€‚å…¶ä¸­ï¼Œé™æ€å‹æ˜¯MyISAMçš„é»˜è®¤å­˜å‚¨æ ¼å¼ï¼Œå®ƒçš„å­—æ®µæ˜¯å›ºå®šé•¿åº¦çš„ï¼›åŠ¨æ€å‹åŒ…å«å˜é•¿å­—æ®µï¼Œè®°å½•çš„é•¿åº¦ä¸æ˜¯å›ºå®šçš„ï¼›å‹ç¼©å‹éœ€è¦ç”¨åˆ°myisampackå·¥å…·ï¼Œå ç”¨çš„ç£ç›˜ç©ºé—´è¾ƒå°ã€‚</p><p>æ¯ä¸ªMyISAMèµ„æ–™è¡¨ï¼Œçš†ç”±å­˜å‚¨åœ¨ç¡¬ç›˜ä¸Šçš„3ä¸ªæ–‡ä»¶æ‰€ç»„æˆï¼Œæ¯ä¸ªæ–‡ä»¶éƒ½ä»¥èµ„æ–™è¡¨åç§°ä¸ºæ–‡ä»¶ä¸»åï¼Œå¹¶æ­é…ä¸åŒæ‰©å±•ååŒºåˆ†æ–‡ä»¶ç±»å‹ï¼š</p><ul><li><code>.frm</code>  å­˜å‚¨èµ„æ–™è¡¨å®šä¹‰ï¼Œæ­¤æ–‡ä»¶é MyISAM å¼•æ“çš„ä¸€éƒ¨åˆ†ã€‚</li><li><code>.MYD</code>  å­˜æ”¾çœŸæ­£çš„èµ„æ–™ï¼Œæ˜¯MYDataçš„ç¼©å†™ã€‚</li><li><code>.MYI</code>  å­˜å‚¨ç´¢å¼•ä¿¡æ¯ï¼Œæ˜¯MYIndexçš„ç¼©å†™ã€‚</li></ul><h3 id="InnoDB"><a href="#InnoDB" class="headerlink" title="InnoDB"></a>InnoDB</h3><p>MySQL 5.5 ä»¥åŠä¹‹åç‰ˆæœ¬é»˜è®¤å­˜å‚¨å¼•æ“ã€‚</p><p>InnoDBé€šè¿‡ä½¿ç”¨å¤šç‰ˆæœ¬å¹¶å‘æ§åˆ¶ï¼ˆMVCCï¼‰æ¥è·å¾—é«˜å¹¶å‘æ€§ï¼Œå¹¶ä¸”å®ç°äº†SQLæ ‡å‡†çš„4ç§éš”ç¦»çº§åˆ«ï¼Œé»˜è®¤ä¸ºREPEATABLEçº§åˆ«ã€‚<br>æä¾›äº†æ’å…¥ç¼“å†²ï¼ŒäºŒæ¬¡å†™ï¼Œè‡ªé€‚åº”å“ˆå¸Œç´¢å¼•ï¼Œé¢„è¯»ç­‰é«˜æ€§èƒ½å’Œé«˜å¯ç”¨çš„åŠŸèƒ½ã€‚</p><p>æ•°æ®å’Œç´¢å¼•å­˜å‚¨åœ¨ <code>innodb_data_home_dir</code> å’Œ <code>innodb_data_file_path</code> å®šä¹‰çš„è¡¨ç©ºé—´ä¸­ã€‚</p><p>innodbä¸­é€šè¿‡B+æ ‘ä½œä¸ºç´¢å¼•çš„æ•°æ®ç»“æ„ï¼Œå¹¶ä¸”ä¸»é”®æ‰€åœ¨çš„ç´¢å¼•ä¸ºClusterIndex(èšç°‡ç´¢å¼•), ClusterIndexä¸­çš„å¶å­èŠ‚ç‚¹ä¸­ä¿å­˜äº†å¯¹åº”çš„æ•°æ®å†…å®¹ã€‚ä¸€ä¸ªè¡¨åªèƒ½æœ‰ä¸€ä¸ªä¸»é”®ï¼Œæ‰€ä»¥åªèƒ½æœ‰ä¸€ä¸ªèšç°‡ç´¢å¼•ï¼Œå¦‚æœè¡¨æ²¡æœ‰å®šä¹‰ä¸»é”®ï¼Œåˆ™é€‰æ‹©ç¬¬ä¸€ä¸ªéNULLå”¯ä¸€ç´¢å¼•ä½œä¸ºèšç°‡ç´¢å¼•ï¼Œå¦‚æœè¿˜æ²¡æœ‰åˆ™ç”Ÿæˆä¸€ä¸ªéšè—idåˆ—ä½œä¸ºèšç°‡ç´¢å¼•ã€‚</p><p>é™¤äº†Cluster Indexå¤–çš„ç´¢å¼•æ˜¯Secondary Index(è¾…åŠ©ç´¢å¼•)ã€‚è¾…åŠ©ç´¢å¼•ä¸­çš„å¶å­èŠ‚ç‚¹ä¿å­˜çš„æ˜¯èšç°‡ç´¢å¼•çš„å¶å­èŠ‚ç‚¹çš„å€¼ã€‚</p><blockquote><p><strong>éœ€è¦ç‰¢è®°çš„æ˜¯ï¼ŒB+æ ‘ç´¢å¼•æœ¬èº«å¹¶ä¸èƒ½æ‰¾åˆ°å…·ä½“çš„ä¸€æ¡è®°å½•ï¼Œèƒ½æ‰¾åˆ°çš„åªæ˜¯è¯¥è®°å½•æ‰€åœ¨çš„é¡µã€‚</strong>æ•°æ®åº“æŠŠé¡µè½½å…¥åˆ°å†…å­˜ï¼Œç„¶åé€šè¿‡Page Directoryå†è¿›è¡ŒäºŒå‰æŸ¥æ‰¾ã€‚åªä¸è¿‡äºŒå‰æŸ¥æ‰¾çš„æ—¶é—´å¤æ‚åº¦å¾ˆä½ï¼ŒåŒæ—¶åœ¨å†…å­˜ä¸­çš„æŸ¥æ‰¾å¾ˆå¿«ï¼Œå› æ­¤é€šå¸¸å¿½ç•¥è¿™éƒ¨åˆ†æŸ¥æ‰¾æ‰€ç”¨çš„æ—¶é—´ã€‚</p></blockquote><p>æ¯ä¸ªInnoDBèµ„æ–™è¡¨ï¼Œçš†ç”±å­˜å‚¨åœ¨ç¡¬ç›˜ä¸Šçš„2ä¸ªæ–‡ä»¶æ‰€ç»„æˆï¼Œæ¯ä¸ªæ–‡ä»¶éƒ½ä»¥èµ„æ–™è¡¨åç§°ä¸ºæ–‡ä»¶ä¸»åï¼Œå¹¶æ­é…ä¸åŒæ‰©å±•ååŒºåˆ†æ–‡ä»¶ç±»å‹ï¼š</p><ul><li><code>.frm</code>  è¡¨å®šä¹‰æ–‡ä»¶ã€‚</li><li><code>.ibd</code>  è¡¨æ•°æ®æ–‡ä»¶ã€‚</li></ul><h4 id="å˜é‡è®¾ç½®"><a href="#å˜é‡è®¾ç½®" class="headerlink" title="å˜é‡è®¾ç½®"></a>å˜é‡è®¾ç½®</h4><ul><li> innodb_flush_log_at_trx_commit è®¾ç½®å¤šå°‘æ¬¡äº‹åŠ¡åˆ·æ–°ä¸€æ¬¡äº‹åŠ¡æ—¥å¿—</li></ul><h3 id="MEMORY"><a href="#MEMORY" class="headerlink" title="MEMORY"></a>MEMORY</h3><p>MEMORY æ˜¯ MySQL ä¸­ä¸€ç±»ç‰¹æ®Šçš„å­˜å‚¨å¼•æ“ã€‚å®ƒä½¿ç”¨å­˜å‚¨åœ¨å†…å­˜ä¸­çš„å†…å®¹æ¥åˆ›å»ºè¡¨ï¼Œè€Œä¸”<strong>æ•°æ®å…¨éƒ¨æ”¾åœ¨å†…å­˜ä¸­</strong>ã€‚</p><p>æ¯ä¸ªåŸºäº MEMORY å­˜å‚¨å¼•æ“çš„è¡¨å®é™…å¯¹åº”ä¸€ä¸ªç£ç›˜æ–‡ä»¶ã€‚è¯¥æ–‡ä»¶çš„æ–‡ä»¶åä¸è¡¨åç›¸åŒï¼Œç±»å‹ä¸º <em>frm</em> ç±»å‹ã€‚è¯¥æ–‡ä»¶ä¸­åªå­˜å‚¨è¡¨çš„ç»“æ„ã€‚è€Œå…¶æ•°æ®æ–‡ä»¶ï¼Œéƒ½æ˜¯å­˜å‚¨åœ¨å†…å­˜ä¸­ï¼Œè¿™æ ·æœ‰åˆ©äºæ•°æ®çš„å¿«é€Ÿå¤„ç†ï¼Œæé«˜æ•´ä¸ªè¡¨çš„æ•ˆç‡ã€‚å€¼å¾—æ³¨æ„çš„æ˜¯ï¼ŒæœåŠ¡å™¨éœ€è¦æœ‰è¶³å¤Ÿçš„å†…å­˜æ¥ç»´æŒMEMORYå­˜å‚¨å¼•æ“çš„è¡¨çš„ä½¿ç”¨ã€‚å¦‚æœä¸éœ€è¦äº†ï¼Œå¯ä»¥é‡Šæ”¾å†…å­˜ï¼Œç”šè‡³åˆ é™¤ä¸éœ€è¦çš„è¡¨ã€‚</p><p>MEMORYé»˜è®¤ä½¿ç”¨å“ˆå¸Œç´¢å¼•ã€‚é€Ÿåº¦æ¯”ä½¿ç”¨Bæ ‘ç´¢å¼•å¿«ã€‚</p><p>å› ä¸ºå®ƒæ˜¯æŠŠæ•°æ®å­˜åˆ°å†…å­˜ä¸­ï¼Œå¦‚æœå†…å­˜å‡ºç°å¼‚å¸¸å°±ä¼šå½±å“æ•°æ®ã€‚å¦‚æœé‡å¯æˆ–è€…å…³æœºï¼Œæ‰€æœ‰æ•°æ®éƒ½ä¼šæ¶ˆå¤±ã€‚å› æ­¤ï¼ŒåŸºäºMEMORYçš„è¡¨çš„ç”Ÿå‘½å‘¨æœŸå¾ˆçŸ­ï¼Œä¸€èˆ¬æ˜¯ä¸€æ¬¡æ€§çš„ã€‚</p><h2 id="æœç´¢å¼•æ“é€‰æ‹©"><a href="#æœç´¢å¼•æ“é€‰æ‹©" class="headerlink" title="æœç´¢å¼•æ“é€‰æ‹©"></a>æœç´¢å¼•æ“é€‰æ‹©</h2><p>å½“ä½ çš„æ•°æ®åº“ä¸»è¦ä»¥ <strong>æŸ¥è¯¢ä¸ºä¸»</strong>ï¼Œç›¸æ¯”è¾ƒè€Œè¨€æ›´æ–°å’Œå†™å…¥æ¯”è¾ƒå°‘ï¼Œå¹¶ä¸”ä¸šåŠ¡æ–¹é¢ <strong>æ•°æ®å®Œæ•´æ€§è¦æ±‚ä¸é‚£ä¹ˆä¸¥æ ¼</strong>ï¼Œå°±é€‰æ‹© <code>MyISAM</code> ã€‚</p><p>å½“ä½ çš„æ•°æ®åº“æœ‰ <strong>å¤§é‡çš„å†™å…¥ã€æ›´æ–°æ“ä½œ</strong> è€ŒæŸ¥è¯¢æ¯”è¾ƒå°‘æˆ–è€… <strong>æ•°æ®å®Œæ•´æ€§è¦æ±‚æ¯”è¾ƒé«˜</strong> çš„æ—¶å€™å°±é€‰æ‹© <code>InnoDB</code>ã€‚</p><p>å¦‚æœéœ€è¦ <strong>å¾ˆå¿«çš„è¯»å†™é€Ÿåº¦</strong>ï¼Œå¯¹ <strong>æ•°æ®çš„å®‰å…¨æ€§è¦æ±‚è¾ƒä½</strong>ï¼Œå¯ä»¥é€‰æ‹© <code>MEMOEY</code>ã€‚å®ƒå¯¹è¡¨çš„å¤§å°æœ‰è¦æ±‚ï¼Œä¸èƒ½å»ºç«‹å¤ªå¤§çš„è¡¨ã€‚æ‰€ä»¥ï¼Œè¿™ç±»æ•°æ®åº“åªä½¿ç”¨åœ¨ç›¸å¯¹è¾ƒå°çš„æ•°æ®åº“è¡¨ã€‚</p><h2 id="InnoDB-ä¸-MyISAM-å­˜å‚¨å¼•æ“å¯¹æ¯”"><a href="#InnoDB-ä¸-MyISAM-å­˜å‚¨å¼•æ“å¯¹æ¯”" class="headerlink" title="InnoDB ä¸ MyISAM å­˜å‚¨å¼•æ“å¯¹æ¯”"></a>InnoDB ä¸ MyISAM å­˜å‚¨å¼•æ“å¯¹æ¯”</h2><p>æ„å¤–æ¢å¤ã€ç¼“å­˜ç®¡ç†ã€æ•°æ®å‹ç¼©ã€äº‹åŠ¡ã€é”ã€</p><ol><li>InnoDB é€šè¿‡é‡æ”¾å…¶æ—¥å¿—ä»å´©æºƒæˆ–å…¶ä»–æ„å¤–å…³é—­ä¸­æ¢å¤ï¼›è€Œ MyISAM é‡åˆ°é”™è¯¯ï¼Œå¿…é¡»å®Œå…¨æ‰«æå¹¶ä¿®å¤æˆ–é‡å»ºä»»ä½•å·²æ›´æ–°ä½†æœªå®Œå…¨åˆ·æ–°åˆ°ç£ç›˜çš„ç´¢å¼•æˆ–å¯èƒ½çš„è¡¨ã€‚InnoDB çš„ä¿®å¤æ—¶é—´ï¼Œå¤§ç•¥éƒ½æ˜¯å›ºå®šçš„ï¼Œä½† MyISAM çš„ä¿®å¤æ—¶é—´ï¼Œåˆ™ä¸èµ„æ–™é‡çš„å¤šå°‘æˆæ­£æ¯”ã€‚ç›¸å¯¹è€Œè¨€ï¼Œéšç€èµ„æ–™é‡çš„å¢åŠ ï¼ŒInnoDBä¼šæœ‰è¾ƒä½³çš„ç¨³å®šæ€§ã€‚</li><li>MyISAM ä¾èµ–äºæ–‡ä»¶ç³»ç»Ÿå—ç¼“å­˜æ¥ç¼“å­˜å¯¹æ•°æ®è¡Œå’Œç´¢å¼•çš„è¯»å–ï¼Œè€Œ InnoDB åˆ™æ˜¯æœ‰è‡ªå·±çš„è¯»å†™ç¼“å­˜ç®¡ç†æœºåˆ¶ã€‚ï¼ˆInnoDBä¸ä¼šå°†è¢«ä¿®æ”¹çš„æ•°æ®é¡µç«‹å³äº¤ç»™æ“ä½œç³»ç»Ÿï¼‰å› æ­¤åœ¨æŸäº›æƒ…å†µä¸‹ï¼ŒInnoDBçš„èµ„æ–™è®¿é—®ä¼šæ¯”MyISAMæ›´æœ‰æ•ˆç‡ã€‚</li><li>InnoDB ç›®å‰å¹¶ä¸æ”¯æŒMyISAMæ‰€æä¾›çš„å‹ç¼©ä¸terse row formatsï¼ˆç®€æ´çš„è¡Œæ ¼å¼ï¼‰ï¼Œæ‰€ä»¥å¯¹ç¡¬ç›˜ä¸ç¼“å­˜çš„ä½¿ç”¨é‡è¾ƒå¤§ã€‚å› æ­¤MySQLä»5.0ç‰ˆå¼€å§‹ï¼Œæä¾›å¦ä¸€ä¸ªè´Ÿè½½è¾ƒè½»çš„æ ¼å¼ï¼Œå¯å‡å°‘çº¦ç•¥20%çš„ç³»ç»Ÿè´Ÿè½½ï¼Œè€Œå‹ç¼©åŠŸèƒ½å·²é¡¹ç›®äºæœªæ¥çš„æ–°ç‰ˆä¸­æ¨å‡ºã€‚</li><li>å½“æ“ä½œå®Œå…¨å…¼å®¹ <span class="exturl" data-url="aHR0cHM6Ly96aC53aWtpcGVkaWEub3JnL3dpa2kvQUNJRA==">ACID<i class="fa fa-external-link-alt"></i></span>ï¼ˆäº‹åŠ¡ï¼‰æ—¶ï¼Œè™½ç„¶InnoDBä¼šè‡ªåŠ¨åˆå¹¶å¤šä¸ªè¿æ¥ï¼Œä½†æ¯æ¬¡æœ‰äº‹åŠ¡äº§ç”Ÿæ—¶ï¼Œä»è‡³å°‘é¡»å†™å…¥ç¡¬ç›˜ä¸€æ¬¡ï¼Œå› æ­¤å¯¹äºæŸäº›ç¡¬ç›˜æˆ–ç£ç›˜é˜µåˆ—ï¼Œä¼šé€ æˆæ¯ç§’200æ¬¡çš„äº‹åŠ¡å¤„ç†ä¸Šé™ã€‚å¯¹äºéœ€è¦æ›´é«˜äº‹åŠ¡ç‡çš„åº”ç”¨ç¨‹åºï¼Œå°†éœ€è¦å…·æœ‰å†™å…¥ç¼“å­˜å’Œå¤‡ç”¨ç”µæ± çš„ç£ç›˜æ§åˆ¶å™¨ï¼Œä»¥ä¿æŒäº‹åŠ¡å®Œæ•´æ€§ã€‚å½“ç„¶InnoDBä¹Ÿæä¾›æ•°ç§å¯¹æ€§èƒ½å†²å‡»è¾ƒä½çš„æ¨¡å¼ï¼Œä½†ç›¸å¯¹çš„ä¹Ÿä¼šé™ä½äº‹åŠ¡çš„å®Œæ•´æ€§ã€‚è€ŒMyISAMåˆ™æ— æ­¤é—®é¢˜ï¼Œä½†è¿™å¹¶éå› ä¸ºå®ƒæ¯”è¾ƒå…ˆè¿›ï¼Œè¿™åªæ˜¯å› ä¸ºå®ƒä¸æ”¯æŒäº‹åŠ¡ã€‚</li><li>InnoDB ä¸ºæ•°æ®å’Œç´¢å¼•æä¾›å¯æ›´æ–°çš„ LZW å‹ç¼©é¡µé¢å­˜å‚¨ã€‚ MyISAM å‹ç¼©è¡¨æ— æ³•æ›´æ–°ã€‚</li><li>MyISAM æ”¯æŒè¡¨é”ä¸æ”¯æŒè¡Œé”ã€å¤–é”®ã€‚ InnoDB æ”¯æŒè¡Œé”ã€å¤–é”®ã€‚</li></ol><h2 id="å‚è€ƒé“¾æ¥"><a href="#å‚è€ƒé“¾æ¥" class="headerlink" title="å‚è€ƒé“¾æ¥"></a>å‚è€ƒé“¾æ¥</h2><ul><li><p>ç»´åŸºç™¾ç§‘ï¼š<span class="exturl" data-url="aHR0cHM6Ly96aC53aWtpcGVkaWEub3JnL3dpa2kvTXlJU0FN">MyISAM<i class="fa fa-external-link-alt"></i></span></p></li><li><p>ç»´åŸºç™¾ç§‘ï¼š<span class="exturl" data-url="aHR0cHM6Ly96aC53aWtpcGVkaWEub3JnL3dpa2kvSW5ub0RC">InnoDB<i class="fa fa-external-link-alt"></i></span></p></li><li><p>ç»´åŸºç™¾ç§‘ï¼š<span class="exturl" data-url="aHR0cHM6Ly96aC53aWtpcGVkaWEub3JnL3dpa2kvTXlTUUwlRTYlOTUlQjAlRTYlOEQlQUUlRTUlQkElOTMlRTUlQkMlOTUlRTYlOTMlOEUlRTclOUElODQlRTYlQUYlOTQlRTglQkUlODM=">MySQLæ•°æ®åº“å¼•æ“çš„æ¯”è¾ƒ<i class="fa fa-external-link-alt"></i></span></p></li><li><p>ç®€ä¹¦ï¼š<span class="exturl" data-url="aHR0cHM6Ly93d3cuamlhbnNodS5jb20vcC9iZDg2NzVlNWM3YjI=">ã€Šé«˜æ€§èƒ½MySQLã€‹&amp;ã€ŠMySQLæŠ€æœ¯å†…å¹• InnoDBå­˜å‚¨å¼•æ“ã€‹ç¬”è®°<i class="fa fa-external-link-alt"></i></span></p></li></ul>]]></content>
    
    
    <summary type="html">&lt;h2 id=&quot;æ¦‚å¿µ&quot;&gt;&lt;a href=&quot;#æ¦‚å¿µ&quot; class=&quot;headerlink&quot; title=&quot;æ¦‚å¿µ&quot;&gt;&lt;/a&gt;æ¦‚å¿µ&lt;/h2&gt;&lt;p&gt;MySQL æ•°æ®åº“åŒºåˆ«äºå…¶ä»–æ•°æ®åº“çš„æœ€é‡è¦çš„ä¸€ä¸ªç‰¹ç‚¹å°±æ˜¯å…¶æ’ä»¶å¼çš„è¡¨å­˜å‚¨å¼•æ“ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå­˜å‚¨å¼•æ“æ˜¯åŸºäºè¡¨çš„ï¼Œè€Œä¸æ˜¯æ•°æ®åº“çš„ï¼ˆå³åŒä¸€ä¸ªæ•°æ®åº“ä¸­çš„ä¸åŒè¡¨å¯ä»¥æœ‰ä¸åŒçš„å­˜å‚¨å¼•æ“ï¼‰ã€‚&lt;/p&gt;
&lt;h2 id=&quot;æŸ¥çœ‹æ”¯æŒå“ªäº›å­˜å‚¨å¼•æ“&quot;&gt;&lt;a href=&quot;#æŸ¥çœ‹æ”¯æŒå“ªäº›å­˜å‚¨å¼•æ“&quot; class=&quot;headerlink&quot; title=&quot;æŸ¥çœ‹æ”¯æŒå“ªäº›å­˜å‚¨å¼•æ“&quot;&gt;&lt;/a&gt;æŸ¥çœ‹æ”¯æŒå“ªäº›å­˜å‚¨å¼•æ“&lt;/h2&gt;&lt;p&gt;æƒ³äº†è§£ MySQL ä¸­æ”¯æŒçš„å¼•æ“çš„æƒ…å†µï¼Œå¯ä»¥ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤æŸ¥çœ‹ï¼š&lt;/p&gt;
&lt;figure class=&quot;highlight sql&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;show&lt;/span&gt; engines;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;</summary>
    
    
    
    <category term="MySQL" scheme="https://blog.zhuyizhuo.online/categories/MySQL/"/>
    
    <category term="Database" scheme="https://blog.zhuyizhuo.online/categories/Database/"/>
    
    
    <category term="MySQL" scheme="https://blog.zhuyizhuo.online/tags/MySQL/"/>
    
  </entry>
  
  <entry>
    <title>MySQL çš„éš”ç¦»çº§åˆ«ä¸äº‹åŠ¡</title>
    <link href="https://blog.zhuyizhuo.online/2021/02/17/database/mysql/mysql-isolation-level-and-transaction/"/>
    <id>https://blog.zhuyizhuo.online/2021/02/17/database/mysql/mysql-isolation-level-and-transaction/</id>
    <published>2021-02-16T16:00:00.000Z</published>
    <updated>2025-09-26T09:36:22.836Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><p>åœ¨è®²è§£ Mysql çš„éš”ç¦»çº§åˆ«ä¸äº‹åŠ¡ä¹‹å‰ï¼Œå…ˆè¦äº†è§£ä¸€ä¸‹æ¦‚å¿µï¼šä»€ä¹ˆæ˜¯ è„è¯»ã€å¹»è¯»ã€ä¸å¯é‡å¤è¯»ï¼Ÿ</p><p>å‡å¦‚æœ‰è¡¨ User ä¸­æ•°æ®å¦‚ä¸‹</p><table><thead><tr><th>id</th><th>name</th><th>age</th><th>sex</th></tr></thead><tbody><tr><td>1</td><td>Jack</td><td>25</td><td>ç”·</td></tr><tr><td>2</td><td>Rose</td><td>23</td><td>å¥³</td></tr></tbody></table><span id="more"></span><h2 id="è„è¯»-ä¸å¯é‡å¤è¯»-å¹»è¯»"><a href="#è„è¯»-ä¸å¯é‡å¤è¯»-å¹»è¯»" class="headerlink" title="è„è¯» ä¸å¯é‡å¤è¯» å¹»è¯»"></a>è„è¯» ä¸å¯é‡å¤è¯» å¹»è¯»</h2><h3 id="è„è¯»"><a href="#è„è¯»" class="headerlink" title="è„è¯»"></a>è„è¯»</h3><h4 id="äº§ç”ŸåŸå› "><a href="#äº§ç”ŸåŸå› " class="headerlink" title="äº§ç”ŸåŸå› "></a>äº§ç”ŸåŸå› </h4><p>è„è¯»åˆç§°æ— æ•ˆæ•°æ®çš„è¯»å‡ºï¼Œæ˜¯æŒ‡åœ¨æ•°æ®åº“è®¿é—®ä¸­ï¼Œäº‹åŠ¡ A å°†æŸä¸€å€¼ä¿®æ”¹ï¼Œç„¶åäº‹åŠ¡ B è¯»å–è¯¥å€¼ï¼Œæ­¤åäº‹åŠ¡ A å› ä¸ºæŸç§åŸå› æ’¤é”€å¯¹è¯¥å€¼çš„ä¿®æ”¹ï¼Œè¿™å°±å¯¼è‡´äº†äº‹åŠ¡ B æ‰€è¯»å–åˆ°çš„æ•°æ®æ˜¯æ— æ•ˆçš„ã€‚ ä¸€èˆ¬æ˜¯é’ˆå¯¹äº update æ“ä½œçš„ã€‚</p><table><thead><tr><th>æ—¶é—´é¡ºåº</th><th>äº‹åŠ¡A</th><th>äº‹åŠ¡B</th></tr></thead><tbody><tr><td>1</td><td>å¼€å§‹äº‹åŠ¡</td><td></td></tr><tr><td>2</td><td>Update user set age = 30 where id = 1</td><td></td></tr><tr><td>3</td><td></td><td>å¼€å§‹äº‹åŠ¡</td></tr><tr><td>4</td><td></td><td>select age from user where id = 1 æŸ¥è¯¢å‡ºå¹´é¾„ä¸º 30 (è„è¯»)</td></tr><tr><td>5</td><td>RollBack</td><td></td></tr><tr><td>6</td><td>ç»“æŸäº‹åŠ¡</td><td></td></tr><tr><td>7</td><td></td><td>æ­¤å¤„è¿›è¡Œä¸šåŠ¡æ“ä½œ ä¾‹å¦‚å°†å¹´é¾„åŠ ä¸€</td></tr><tr><td>8</td><td></td><td>Update user set age = 31 where id = 1</td></tr><tr><td>9</td><td></td><td>æäº¤äº‹åŠ¡</td></tr></tbody></table><blockquote><p>æŒ‰ç…§æ­£ç¡®é€»è¾‘ï¼Œä¸Šè¿°æ“ä½œæœ€ç»ˆå¹´é¾„åº”ä¸º 25+1 = 26</p></blockquote><h4 id="è§£å†³æ–¹æ¡ˆ"><a href="#è§£å†³æ–¹æ¡ˆ" class="headerlink" title="è§£å†³æ–¹æ¡ˆ"></a>è§£å†³æ–¹æ¡ˆ</h4><p>çŸ¥é“äº†è„è¯»äº§ç”Ÿçš„åŸå› ï¼Œå¦‚æœè¦é¿å…è„è¯»ï¼Œå¯ä»¥åœ¨æ“ä½œæ•°æ®çš„æ—¶å€™å¯¹æ•°æ®åŠ è¡Œé”ï¼Œç¦æ­¢å…¶å®ƒäº‹åŠ¡å¯¹æ•°æ®è¿›è¡Œè¯»å–å’Œä¿®æ”¹å³å¯</p><h3 id="ä¸å¯é‡å¤è¯»"><a href="#ä¸å¯é‡å¤è¯»" class="headerlink" title="ä¸å¯é‡å¤è¯»"></a>ä¸å¯é‡å¤è¯»</h3><p>å‰åå¤šæ¬¡è¯»å–ï¼Œæ•°æ®å†…å®¹ä¸ä¸€è‡´ã€‚é’ˆå¯¹äº update æ“ä½œã€‚</p><h4 id="äº§ç”ŸåŸå› -1"><a href="#äº§ç”ŸåŸå› -1" class="headerlink" title="äº§ç”ŸåŸå› "></a>äº§ç”ŸåŸå› </h4><p>äº‹åŠ¡Aå…ˆæ‰§è¡Œè¯»æ“ä½œï¼Œç”±äºæ•´ä¸ªäº‹åŠ¡Aæ¯”è¾ƒå¤§ï¼Œå‰åå¤šæ¬¡è¯»å–åŒä¸€æ¡æ•°æ®éœ€è¦ç»å†å¾ˆé•¿çš„æ—¶é—´ ï¼Œè€Œåœ¨äº‹åŠ¡Aä¸¤æ¬¡è¯»å–æ•°æ®ä¸­é—´çš„è¿‡ç¨‹ä¸­ï¼Œæœ‰äº‹åŠ¡Bå¯¹æ•°æ®æ‰§è¡Œæ›´æ”¹æ“ä½œï¼Œé€ æˆçš„äº‹åŠ¡Aä¸¤æ¬¡è¯»å–æ•°æ®ä¸ä¸€è‡´ï¼Œå³ä¸å¯é‡å¤è¯»ã€‚</p><table><thead><tr><th>æ—¶é—´é¡ºåº</th><th>äº‹åŠ¡A</th><th>äº‹åŠ¡B</th></tr></thead><tbody><tr><td>1</td><td>å¼€å§‹äº‹åŠ¡</td><td></td></tr><tr><td>2</td><td>select age from user where id = 1 (æŸ¥è¯¢å‡ºå¹´é¾„ä¸º25)</td><td></td></tr><tr><td>3</td><td></td><td>å¼€å§‹äº‹åŠ¡</td></tr><tr><td>4</td><td>å…¶å®ƒæ“ä½œ</td><td></td></tr><tr><td>5</td><td></td><td>update user set age = 23 where id = 1</td></tr><tr><td>6</td><td></td><td>æäº¤äº‹åŠ¡</td></tr><tr><td>7</td><td>select age from user where id = 1 (æŸ¥è¯¢å‡ºå¹´é¾„ä¸º23)</td><td></td></tr><tr><td>8</td><td>å…¶å®ƒæ“ä½œ</td><td></td></tr><tr><td>9</td><td>ç»“æŸäº‹åŠ¡</td><td></td></tr></tbody></table><blockquote><p>æŒ‰ç…§æ­£ç¡®é€»è¾‘ï¼Œäº‹åŠ¡ A å‰åä¸¤æ¬¡è¯»å–åˆ°çš„æ•°æ®åº”è¯¥ä¸€è‡´</p></blockquote><h4 id="è§£å†³æ–¹æ¡ˆ-1"><a href="#è§£å†³æ–¹æ¡ˆ-1" class="headerlink" title="è§£å†³æ–¹æ¡ˆ"></a>è§£å†³æ–¹æ¡ˆ</h4><p>å¯¹æ•°æ®åŠ è¡Œé”ï¼Œç¦æ­¢å…¶å®ƒäº‹åŠ¡ä¿®æ”¹è¯¥è¡Œæ•°æ®å³å¯ã€‚</p><h3 id="å¹»è¯»"><a href="#å¹»è¯»" class="headerlink" title="å¹»è¯»"></a>å¹»è¯»</h3><p>å¹»è¯»æ˜¯æŒ‡å½“äº‹åŠ¡ä¸æ˜¯ç‹¬ç«‹æ‰§è¡Œæ—¶å‘ç”Ÿçš„ä¸€ç§ç°è±¡ã€‚</p><h4 id="äº§ç”ŸåŸå› -2"><a href="#äº§ç”ŸåŸå› -2" class="headerlink" title="äº§ç”ŸåŸå› "></a>äº§ç”ŸåŸå› </h4><p>äº‹åŠ¡Aå…ˆè¯»å–ä¸æœç´¢æ¡ä»¶ç›¸åŒ¹é…çš„è‹¥å¹²è¡Œï¼Œç”±äºæ•´ä¸ªäº‹åŠ¡Aæ¯”è¾ƒå¤§ï¼Œå‰åå¤šæ¬¡è¯»å–åŒä¸€ç»„æ•°æ®éœ€è¦ç»å†å¾ˆé•¿çš„æ—¶é—´ï¼Œè€Œåœ¨äº‹åŠ¡Aä¸¤æ¬¡è¯»å–æ•°æ®ä¸­é—´çš„è¿‡ç¨‹ä¸­ï¼Œæœ‰äº‹åŠ¡Bå¯¹äº‹åŠ¡Açš„ç»“æœé›†æ‰§è¡Œæ–°å¢æˆ–è€…åˆ é™¤è¡Œçš„æ“ä½œï¼Œé€ æˆçš„äº‹åŠ¡Aä¸¤æ¬¡è¯»å–æ•°æ®æ€»é‡ä¸ä¸€è‡´ï¼Œä»¿ä½›äº§ç”Ÿäº†å¹»è§‰ä¸€æ ·ï¼Œå³å¹»è¯»ã€‚ä¸€èˆ¬æ˜¯é’ˆå¯¹ insert å’Œ delete æ“ä½œã€‚</p><table><thead><tr><th>æ—¶é—´é¡ºåº</th><th>äº‹åŠ¡A</th><th>äº‹åŠ¡B</th></tr></thead><tbody><tr><td>1</td><td>å¼€å§‹äº‹åŠ¡</td><td></td></tr><tr><td>2</td><td>select count(*) from user where id &lt; 5 (æŸ¥è¯¢ç»“æœä¸º2)</td><td></td></tr><tr><td>3</td><td></td><td>å¼€å§‹äº‹åŠ¡</td></tr><tr><td>4</td><td>å…¶å®ƒæ“ä½œ</td><td></td></tr><tr><td>5</td><td></td><td>delete from user where id = 2</td></tr><tr><td>6</td><td></td><td>æäº¤äº‹åŠ¡</td></tr><tr><td>7</td><td>select count(*) from user where id &lt; 5  (æŸ¥è¯¢ç»“æœä¸º1)</td><td></td></tr><tr><td>8</td><td>å…¶å®ƒæ“ä½œ</td><td></td></tr><tr><td>9</td><td>ç»“æŸäº‹åŠ¡</td><td></td></tr></tbody></table><blockquote><p>æŒ‰ç…§æ­£ç¡®é€»è¾‘ï¼Œäº‹åŠ¡ A å‰åä¸¤æ¬¡è¯»å–åˆ°çš„æ•°æ®æ€»é‡åº”è¯¥ä¸€è‡´</p></blockquote><h4 id="è§£å†³æ–¹æ¡ˆ-2"><a href="#è§£å†³æ–¹æ¡ˆ-2" class="headerlink" title="è§£å†³æ–¹æ¡ˆ"></a>è§£å†³æ–¹æ¡ˆ</h4><p>ä½¿ç”¨è¡¨çº§é”ï¼Œé”å®šæ•´å¼ è¡¨ï¼Œäº‹åŠ¡Aç»“æŸåæ‰é‡Šæ”¾è¯¥é”ï¼Œè¿™ä¸ªæ—¶å€™æ‰å…è®¸å…¶ä»–äº‹åŠ¡æ–°å¢æˆ–åˆ é™¤æ•°æ®ã€‚</p><h3 id="ä¸‰è€…åŒºåˆ«"><a href="#ä¸‰è€…åŒºåˆ«" class="headerlink" title="ä¸‰è€…åŒºåˆ«"></a>ä¸‰è€…åŒºåˆ«</h3><p>ä¸å¯é‡å¤è¯»å’Œè„è¯»çš„åŒºåˆ«æ˜¯ï¼šè„è¯»æ˜¯æŸä¸€äº‹åŠ¡è¯»å–äº†å¦ä¸€ä¸ªäº‹åŠ¡æœªæäº¤çš„è„æ•°æ®ï¼Œè€Œä¸å¯é‡å¤è¯»åˆ™æ˜¯è¯»å–äº†å‰ä¸€äº‹åŠ¡æäº¤çš„æ•°æ®ã€‚ </p><p>å¹»è¯»å’Œä¸å¯é‡å¤è¯»éƒ½æ˜¯è¯»å–äº†å¦ä¸€æ¡å·²ç»æäº¤çš„äº‹åŠ¡ï¼ˆè¿™ç‚¹å°±è„è¯»ä¸åŒï¼‰ï¼Œæ‰€ä¸åŒçš„æ˜¯ä¸å¯é‡å¤è¯»æŸ¥è¯¢çš„éƒ½æ˜¯åŒä¸€ä¸ªæ•°æ®é¡¹ï¼Œè€Œå¹»è¯»é’ˆå¯¹çš„æ˜¯ä¸€æ‰¹æ•°æ®æ•´ä½“ï¼ˆæ¯”å¦‚æ•°æ®çš„ä¸ªæ•°ï¼‰ã€‚</p><h2 id="Mysql-çš„éš”ç¦»çº§åˆ«ä¸äº‹åŠ¡"><a href="#Mysql-çš„éš”ç¦»çº§åˆ«ä¸äº‹åŠ¡" class="headerlink" title="Mysql çš„éš”ç¦»çº§åˆ«ä¸äº‹åŠ¡"></a>Mysql çš„éš”ç¦»çº§åˆ«ä¸äº‹åŠ¡</h2><h3 id="å…³äºéš”ç¦»çº§åˆ«çš„ç†è§£"><a href="#å…³äºéš”ç¦»çº§åˆ«çš„ç†è§£" class="headerlink" title="å…³äºéš”ç¦»çº§åˆ«çš„ç†è§£"></a>å…³äºéš”ç¦»çº§åˆ«çš„ç†è§£</h3><h4 id="1-read-uncommitted-è¯»æœªæäº¤"><a href="#1-read-uncommitted-è¯»æœªæäº¤" class="headerlink" title="1.read uncommitted è¯»æœªæäº¤"></a>1.read uncommitted è¯»æœªæäº¤</h4><p>å¯ä»¥çœ‹åˆ°æœªæäº¤çš„æ•°æ®ï¼ˆè„è¯»ï¼‰ã€‚</p><p>ä¸¾ä¸ªä¾‹å­ï¼šåˆ«äººè¯´çš„è¯ä½ éƒ½ç›¸ä¿¡äº†ï¼Œä½†æ˜¯å¯èƒ½ä»–åªæ˜¯è¯´è¯´ï¼Œå¹¶ä¸å®é™…åšã€‚</p><h4 id="2-read-committed-è¯»å·²æäº¤"><a href="#2-read-committed-è¯»å·²æäº¤" class="headerlink" title="2.read committed è¯»å·²æäº¤"></a>2.read committed è¯»å·²æäº¤</h4><p>è¯»å–æäº¤çš„æ•°æ®ã€‚ä½†æ˜¯ï¼Œå¯èƒ½å¤šæ¬¡è¯»å–çš„æ•°æ®ç»“æœä¸ä¸€è‡´ï¼ˆä¸å¯é‡å¤è¯»ï¼Œå¹»è¯»ï¼‰ã€‚</p><p>ç”¨è¯»å†™çš„è§‚ç‚¹å°±æ˜¯ï¼šè¯»å–çš„è¡Œæ•°æ®ï¼Œå¯ä»¥å†™ã€‚</p><h4 id="3-repeatable-read-å¯é‡å¤è¯»ï¼ˆMySQL-é»˜è®¤éš”ç¦»çº§åˆ«ï¼‰"><a href="#3-repeatable-read-å¯é‡å¤è¯»ï¼ˆMySQL-é»˜è®¤éš”ç¦»çº§åˆ«ï¼‰" class="headerlink" title="3.repeatable read å¯é‡å¤è¯»ï¼ˆMySQL é»˜è®¤éš”ç¦»çº§åˆ«ï¼‰"></a>3.repeatable read å¯é‡å¤è¯»ï¼ˆMySQL é»˜è®¤éš”ç¦»çº§åˆ«ï¼‰</h4><p>å¯ä»¥é‡å¤è¯»å–ï¼Œä½†æœ‰å¹»è¯»ã€‚</p><p>è¯»å†™è§‚ç‚¹ï¼šè¯»å–çš„æ•°æ®è¡Œä¸å¯å†™ï¼Œä½†æ˜¯å¯ä»¥å¾€è¡¨ä¸­æ–°å¢æ•°æ®ã€‚</p><p>åœ¨ MySQL innodb ä¸­ï¼Œé‡‡ç”¨é”å’Œå¤šç‰ˆæœ¬å¹¶å‘æ§åˆ¶ï¼ˆMVCCï¼‰æœºåˆ¶è§£å†³äº†å¹»è¯»é—®é¢˜ã€‚</p><h4 id="4-serializable-å¯ä¸²è¡ŒåŒ–"><a href="#4-serializable-å¯ä¸²è¡ŒåŒ–" class="headerlink" title="4.serializable å¯ä¸²è¡ŒåŒ–"></a>4.serializable å¯ä¸²è¡ŒåŒ–</h4><p>å¯è¯»ï¼Œä¸å¯å†™ã€‚åƒ Java ä¸­çš„é”ï¼Œå†™æ•°æ®å¿…é¡»ç­‰å¾…å¦ä¸€ä¸ªäº‹åŠ¡ç»“æŸã€‚</p><h3 id="å„éš”ç¦»çº§åˆ«æ˜¯å¦ä¼šäº§ç”Ÿè„è¯»ã€ä¸å¯é‡å¤è¯»ã€å¹»è¯»"><a href="#å„éš”ç¦»çº§åˆ«æ˜¯å¦ä¼šäº§ç”Ÿè„è¯»ã€ä¸å¯é‡å¤è¯»ã€å¹»è¯»" class="headerlink" title="å„éš”ç¦»çº§åˆ«æ˜¯å¦ä¼šäº§ç”Ÿè„è¯»ã€ä¸å¯é‡å¤è¯»ã€å¹»è¯»"></a>å„éš”ç¦»çº§åˆ«æ˜¯å¦ä¼šäº§ç”Ÿè„è¯»ã€ä¸å¯é‡å¤è¯»ã€å¹»è¯»</h3><table><thead><tr><th>éš”ç¦»çº§åˆ«</th><th>è„è¯»</th><th>ä¸å¯é‡å¤è¯»</th><th>å¹»è¯»</th></tr></thead><tbody><tr><td>è¯»æœªæäº¤ read uncommitted</td><td>âœ…</td><td>âœ…</td><td>âœ…</td></tr><tr><td>è¯»å·²æäº¤ read committed</td><td>âŒ</td><td>âœ…</td><td>âœ…</td></tr><tr><td>å¯é‡å¤è¯» repeatable read</td><td>âŒ</td><td>âŒ</td><td>âœ…</td></tr><tr><td>å¯ä¸²è¡ŒåŒ– Serializable</td><td>âŒ</td><td>âŒ</td><td>âŒ</td></tr></tbody></table><h3 id="äº‹åŠ¡çš„ç‰¹æ€§-ACID"><a href="#äº‹åŠ¡çš„ç‰¹æ€§-ACID" class="headerlink" title="äº‹åŠ¡çš„ç‰¹æ€§ ACID"></a>äº‹åŠ¡çš„ç‰¹æ€§ ACID</h3><p>äº‹åŠ¡åœ¨è‹±æ–‡ä¸­æ˜¯ transactionï¼Œå’Œç°å®ä¸–ç•Œä¸­çš„äº¤æ˜“å¾ˆç±»ä¼¼ï¼Œå®ƒæœ‰å¦‚ä¸‹å››ä¸ªç‰¹æ€§ï¼š</p><h4 id="A-Atomicity-åŸå­æ€§"><a href="#A-Atomicity-åŸå­æ€§" class="headerlink" title="A (Atomicity) åŸå­æ€§"></a>A (Atomicity) åŸå­æ€§</h4><p>åŸå­æ€§å¾ˆå®¹æ˜“ç†è§£ï¼Œä¹Ÿå°±æ˜¯è¯´äº‹åŠ¡é‡Œçš„æ‰€æœ‰æ“ä½œè¦ä¹ˆå…¨éƒ¨åšå®Œï¼Œè¦ä¹ˆéƒ½ä¸åšï¼Œäº‹åŠ¡æˆåŠŸçš„æ¡ä»¶æ˜¯äº‹åŠ¡é‡Œçš„æ‰€æœ‰æ“ä½œéƒ½æˆåŠŸï¼Œåªè¦æœ‰ä¸€ä¸ªæ“ä½œå¤±è´¥ï¼Œæ•´ä¸ªäº‹åŠ¡å°±å¤±è´¥ï¼Œéœ€è¦å›æ»šã€‚</p><p>æ¯”å¦‚é“¶è¡Œè½¬è´¦ï¼Œä»Aè´¦æˆ·è½¬100å…ƒè‡³Bè´¦æˆ·ï¼Œåˆ†ä¸ºä¸¤ä¸ªæ­¥éª¤ï¼š</p><p>1ï¼‰ä»Aè´¦æˆ·å–100å…ƒï¼›</p><p>2ï¼‰å­˜å…¥100å…ƒè‡³Bè´¦æˆ·ã€‚</p><p>è¿™ä¸¤æ­¥è¦ä¹ˆä¸€èµ·å®Œæˆï¼Œè¦ä¹ˆä¸€èµ·ä¸å®Œæˆï¼Œå¦‚æœåªå®Œæˆç¬¬ä¸€æ­¥ï¼Œç¬¬äºŒæ­¥å¤±è´¥ï¼Œé’±ä¼šè«åå…¶å¦™å°‘äº†100å…ƒã€‚</p><h4 id="C-Consistency-ä¸€è‡´æ€§"><a href="#C-Consistency-ä¸€è‡´æ€§" class="headerlink" title="C (Consistency) ä¸€è‡´æ€§"></a>C (Consistency) ä¸€è‡´æ€§</h4><p>ä¸€è‡´æ€§ä¹Ÿæ¯”è¾ƒå®¹æ˜“ç†è§£ï¼Œä¹Ÿå°±æ˜¯è¯´æ•°æ®åº“è¦ä¸€ç›´å¤„äºä¸€è‡´çš„çŠ¶æ€ï¼Œäº‹åŠ¡çš„è¿è¡Œä¸ä¼šæ”¹å˜æ•°æ®åº“åŸæœ¬çš„ä¸€è‡´æ€§çº¦æŸã€‚</p><p>ä¾‹å¦‚ç°æœ‰å®Œæ•´æ€§çº¦æŸa+b=10ï¼Œå¦‚æœä¸€ä¸ªäº‹åŠ¡æ”¹å˜äº†aï¼Œé‚£ä¹ˆå¿…é¡»å¾—æ”¹å˜bï¼Œä½¿å¾—äº‹åŠ¡ç»“æŸåä¾ç„¶æ»¡è¶³a+b=10ï¼Œå¦åˆ™äº‹åŠ¡å¤±è´¥ã€‚</p><h4 id="I-Isolation-ç‹¬ç«‹æ€§"><a href="#I-Isolation-ç‹¬ç«‹æ€§" class="headerlink" title="I (Isolation) ç‹¬ç«‹æ€§"></a>I (Isolation) ç‹¬ç«‹æ€§</h4><p>æ‰€è°“çš„ç‹¬ç«‹æ€§æ˜¯æŒ‡å¹¶å‘çš„äº‹åŠ¡ä¹‹é—´ä¸ä¼šäº’ç›¸å½±å“ï¼Œå¦‚æœä¸€ä¸ªäº‹åŠ¡è¦è®¿é—®çš„æ•°æ®æ­£åœ¨è¢«å¦å¤–ä¸€ä¸ªäº‹åŠ¡ä¿®æ”¹ï¼Œåªè¦å¦å¤–ä¸€ä¸ªäº‹åŠ¡æœªæäº¤ï¼Œå®ƒæ‰€è®¿é—®çš„æ•°æ®å°±ä¸å—æœªæäº¤äº‹åŠ¡çš„å½±å“ã€‚</p><p>æ¯”å¦‚ç°åœ¨æœ‰ä¸ªäº¤æ˜“æ˜¯ä»Aè´¦æˆ·è½¬100å…ƒè‡³Bè´¦æˆ·ï¼Œåœ¨è¿™ä¸ªäº¤æ˜“è¿˜æœªå®Œæˆçš„æƒ…å†µä¸‹ï¼Œå¦‚æœæ­¤æ—¶BæŸ¥è¯¢è‡ªå·±çš„è´¦æˆ·ï¼Œæ˜¯çœ‹ä¸åˆ°æ–°å¢åŠ çš„100å…ƒçš„ã€‚</p><h4 id="D-Durability-æŒä¹…æ€§"><a href="#D-Durability-æŒä¹…æ€§" class="headerlink" title="D (Durability) æŒä¹…æ€§"></a>D (Durability) æŒä¹…æ€§</h4><p>æŒä¹…æ€§æ˜¯æŒ‡ä¸€æ—¦äº‹åŠ¡æäº¤åï¼Œå®ƒæ‰€åšçš„ä¿®æ”¹å°†ä¼šæ°¸ä¹…çš„ä¿å­˜åœ¨æ•°æ®åº“ä¸Šï¼Œå³ä½¿å‡ºç°å®•æœºä¹Ÿä¸ä¼šä¸¢å¤±ã€‚</p><h3 id="æŸ¥çœ‹ä¸è®¾ç½®éš”ç¦»çº§åˆ«"><a href="#æŸ¥çœ‹ä¸è®¾ç½®éš”ç¦»çº§åˆ«" class="headerlink" title="æŸ¥çœ‹ä¸è®¾ç½®éš”ç¦»çº§åˆ«"></a>æŸ¥çœ‹ä¸è®¾ç½®éš”ç¦»çº§åˆ«</h3><p>1.æŸ¥çœ‹å½“å‰ä¼šè¯éš”ç¦»çº§åˆ«</p><p>select @@tx_isolation; æˆ–è€… show variables like â€˜%tx_isolation%â€™</p><p>2.æŸ¥çœ‹ç³»ç»Ÿå½“å‰éš”ç¦»çº§åˆ«</p><p>select @@global.tx_isolation;</p><p>3.è®¾ç½®å½“å‰ä¼šè¯éš”ç¦»çº§åˆ«</p><p>set session transaction isolation level read uncommitted;</p><p>set session transaction isolation level read committed;</p><p>set session transaction isolation level repeatable read;</p><p>set session transaction isolation level serializable;</p><p>4.è®¾ç½®ç³»ç»Ÿå½“å‰éš”ç¦»çº§åˆ«</p><p>set global transaction isolation level repeatable read;</p><p>5.å‘½ä»¤è¡Œï¼Œå¼€å§‹äº‹åŠ¡æ—¶</p><p>set autocommit=off æˆ–è€… start transaction / begin</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;åœ¨è®²è§£ Mysql çš„éš”ç¦»çº§åˆ«ä¸äº‹åŠ¡ä¹‹å‰ï¼Œå…ˆè¦äº†è§£ä¸€ä¸‹æ¦‚å¿µï¼šä»€ä¹ˆæ˜¯ è„è¯»ã€å¹»è¯»ã€ä¸å¯é‡å¤è¯»ï¼Ÿ&lt;/p&gt;
&lt;p&gt;å‡å¦‚æœ‰è¡¨ User ä¸­æ•°æ®å¦‚ä¸‹&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;id&lt;/th&gt;
&lt;th&gt;name&lt;/th&gt;
&lt;th&gt;age&lt;/th&gt;
&lt;th&gt;sex&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;&lt;tr&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;Jack&lt;/td&gt;
&lt;td&gt;25&lt;/td&gt;
&lt;td&gt;ç”·&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;2&lt;/td&gt;
&lt;td&gt;Rose&lt;/td&gt;
&lt;td&gt;23&lt;/td&gt;
&lt;td&gt;å¥³&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;</summary>
    
    
    
    <category term="MySQL" scheme="https://blog.zhuyizhuo.online/categories/MySQL/"/>
    
    <category term="Database" scheme="https://blog.zhuyizhuo.online/categories/Database/"/>
    
    
    <category term="MySQL" scheme="https://blog.zhuyizhuo.online/tags/MySQL/"/>
    
  </entry>
  
  <entry>
    <title>ç®—æ³•æ—¶é—´å¤æ‚åº¦çš„æ¨å¯¼</title>
    <link href="https://blog.zhuyizhuo.online/2021/01/10/algorithm/derivation-of-algorithm-time-complexity/"/>
    <id>https://blog.zhuyizhuo.online/2021/01/10/algorithm/derivation-of-algorithm-time-complexity/</id>
    <published>2021-01-10T12:16:31.000Z</published>
    <updated>2025-09-26T09:36:22.835Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><p>å¤§Oè¡¨ç¤ºæ³•æ˜¯æœ€å¸¸ç”¨çš„è¡¨ç¤ºç®—æ³•æ—¶é—´å¤æ‚åº¦çš„è¡¨ç¤ºæ³•ã€‚</p><p>æœ¬ç¯‡åšå®¢æˆ‘ä»¬å°†æ¨å¯¼å„ç§ç®—æ³•çš„å¤§Oè¡¨ç¤ºæ³•ã€‚</p><span id="more"></span><h2 id="ç¤ºä¾‹1ï¼šæŸ¥æ‰¾å‰nä¸ªæ•°å­—çš„æ€»å’Œã€‚"><a href="#ç¤ºä¾‹1ï¼šæŸ¥æ‰¾å‰nä¸ªæ•°å­—çš„æ€»å’Œã€‚" class="headerlink" title="ç¤ºä¾‹1ï¼šæŸ¥æ‰¾å‰nä¸ªæ•°å­—çš„æ€»å’Œã€‚"></a>ç¤ºä¾‹1ï¼šæŸ¥æ‰¾å‰nä¸ªæ•°å­—çš„æ€»å’Œã€‚</h2><p>åœ¨æ­¤ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬å¿…é¡»æ‰¾åˆ°å‰nä¸ªæ•°å­—çš„æ€»å’Œã€‚ä¾‹å¦‚ï¼Œå¦‚æœn = 4ï¼Œåˆ™è¾“å‡ºåº”ä¸º1 + 2 + 3 + 4 =10ã€‚å¦‚æœn = 5ï¼Œåˆ™è¾“å‡ºåº”ä¸º1 + 2 + 3 + 4 + 5 =15ã€‚è®©æˆ‘ä»¬å°è¯•å„ç§è§£å†³æ–¹æ¡ˆæ­¤ä»£ç ï¼Œç„¶åå°è¯•æ¯”è¾ƒæ‰€æœ‰è¿™äº›ä»£ç ã€‚</p><h3 id="Oï¼ˆ1ï¼‰è§£å†³æ–¹æ¡ˆ"><a href="#Oï¼ˆ1ï¼‰è§£å†³æ–¹æ¡ˆ" class="headerlink" title="Oï¼ˆ1ï¼‰è§£å†³æ–¹æ¡ˆ"></a>Oï¼ˆ1ï¼‰è§£å†³æ–¹æ¡ˆ</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">findSum</span><span class="params">(<span class="keyword">int</span> n)</span> </span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> n * (n+<span class="number">1</span>) / <span class="number">2</span>; <span class="comment">// ä¸€æ¡è¯­å¥æ‰§è¡Œéœ€è¦èŠ±è´¹æ’å®šçš„æ—¶é—´</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œåªæœ‰ä¸€æ¡è¯­å¥ï¼Œå¹¶ä¸”æˆ‘ä»¬çŸ¥é“ä¸€æ¡è¯­å¥æ‰§è¡Œéœ€è¦èŠ±è´¹æ’å®šçš„æ—¶é—´ã€‚åŸºæœ¬æ€æƒ³æ˜¯ï¼Œå¦‚æœè¯¥è¯­å¥èŠ±è´¹çš„æ—¶é—´æ’å®šï¼Œåˆ™æ‰€æœ‰è¾“å…¥å¤§å°æ‰€èŠ±è´¹çš„æ—¶é—´ç›¸åŒï¼Œæˆ‘ä»¬å°†å…¶è¡¨ç¤ºä¸º <strong>Oï¼ˆ1ï¼‰</strong>ã€‚</p><h3 id="Oï¼ˆnï¼‰è§£å†³æ–¹æ¡ˆ"><a href="#Oï¼ˆnï¼‰è§£å†³æ–¹æ¡ˆ" class="headerlink" title="Oï¼ˆnï¼‰è§£å†³æ–¹æ¡ˆ"></a>Oï¼ˆnï¼‰è§£å†³æ–¹æ¡ˆ</h3><p>åœ¨æ­¤è§£å†³æ–¹æ¡ˆä¸­ï¼Œæˆ‘ä»¬å°†è¿è¡Œä»1åˆ°nçš„å¾ªç¯ï¼Œå¹¶å°†è¿™äº›å€¼æ·»åŠ åˆ°åä¸ºâ€œ sumâ€çš„å˜é‡ä¸­ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">findSum</span><span class="params">(<span class="keyword">int</span> n)</span> </span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> sum = <span class="number">0</span>; <span class="comment">// -----------------&gt; éœ€è¦èŠ±è´¹æ’å®šçš„æ—¶é—´ å‡è®¾ä¸º &quot;c1&quot;</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; ++i) <span class="comment">// --&gt; åœ¨è¿™é‡Œï¼Œiçš„åˆ›å»ºå°†èŠ±è´¹ä¸€å®šçš„æ’å®šæ—¶é—´ï¼Œè€Œæ¯”è¾ƒå’Œå¢é‡å°†å‘ç”Ÿnæ¬¡ï¼ˆc2 * nï¼‰</span></span><br><span class="line">        sum = sum + i; <span class="comment">// -----------&gt; è¿™æ¡è¯­å¥å°†ä¼šè¢«æ‰§è¡Œ n æ¬¡ï¼Œå‡å¦‚æœ¬æ¡è¯­å¥èŠ±è´¹çš„å¸¸é‡æ—¶é—´ä¸º c3ï¼Œåˆ™æ€»æ—¶é—´ä¸º c3*n</span></span><br><span class="line">    <span class="keyword">return</span> sum; <span class="comment">// ------------------&gt; éœ€è¦èŠ±è´¹æ’å®šçš„æ—¶é—´ å‡è®¾ä¸º &quot;c4&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* æ€»æ—¶é—´èŠ±è´¹ = æ‰€æœ‰è¯­å¥èŠ±è´¹çš„æ—¶é—´æ€»å’Œ</span></span><br><span class="line"><span class="comment">* åœ¨æˆ‘ä»¬çš„è¿™ä¸ªä¾‹å­ä¸­ï¼Œæœ‰3æ¡è¯­å¥èŠ±è´¹çš„éƒ½æ˜¯å¸¸é‡æ—¶é—´ã€‚ ä¾‹å¦‚ï¼š &quot;sum = 0&quot;, &quot;i = 0&quot;, å’Œ &quot;return sum&quot;, æˆ‘ä»¬æŠŠæ‰€æœ‰çš„å¸¸é‡æ—¶é—´åŠ èµ·æ¥ï¼Œè®¾å…¶ä¸º c</span></span><br><span class="line"><span class="comment">* é™¤æ­¤ä¹‹å¤–, æˆ‘ä»¬æœ‰ä¸¤æ¡è¯­å¥å°†ä¼šæ‰§è¡Œ n æ¬¡ã€‚ä¾‹å¦‚ï¼š &quot;i &lt; n(in real n+1)&quot; and &quot;sum = sum  + i&quot; æ€»èŠ±è´¹çš„æ—¶é—´ä¸º c2*n + c3*n = c0*n</span></span><br><span class="line"><span class="comment">* æ‰€ä»¥æ€»çš„æ—¶é—´èŠ±è´¹ = c0*n + c</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ä»£ç çš„å¤§Oè¡¨ç¤ºæ³•æ˜¯Oï¼ˆc0 * nï¼‰+ Oï¼ˆcï¼‰ï¼Œå…¶ä¸­ c å’Œ c0 æ˜¯å¸¸æ•°ã€‚å› æ­¤ï¼Œæ€»æ—¶é—´å¤æ‚åº¦å¯ä»¥å†™æˆ <strong>Oï¼ˆnï¼‰</strong>ã€‚</p><h3 id="Oï¼ˆnÂ²ï¼‰è§£å†³æ–¹æ¡ˆ"><a href="#Oï¼ˆnÂ²ï¼‰è§£å†³æ–¹æ¡ˆ" class="headerlink" title="Oï¼ˆnÂ²ï¼‰è§£å†³æ–¹æ¡ˆ"></a>Oï¼ˆnÂ²ï¼‰è§£å†³æ–¹æ¡ˆ</h3><p>åœ¨æ­¤è§£å†³æ–¹æ¡ˆä¸­ï¼Œæˆ‘ä»¬å°†æ±‚å’Œå˜é‡â€œ iâ€çš„å€¼å¢åŠ ä¸€å€ï¼Œå³å¯¹äºi = 1ï¼Œæ±‚å’Œå˜é‡å°†å¢åŠ ä¸€æ¬¡ï¼Œå³sum =1ã€‚å¯¹äºi = 2ï¼Œæ±‚å’Œå˜é‡å°†è¢«é€’å¢ä¸¤æ¬¡ã€‚å› æ­¤ï¼Œè®©æˆ‘ä»¬çœ‹çœ‹è§£å†³æ–¹æ¡ˆã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">findSum</span><span class="params">(<span class="keyword">int</span> n)</span> </span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> sum = <span class="number">0</span>; <span class="comment">// ---------------------&gt; å¸¸é‡æ—¶é—´</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; ++i) </span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= i; ++j)</span><br><span class="line">            sum++; <span class="comment">// -------------------&gt; å°†ä¼šæ‰§è¡Œ [n * (n + 1) / 2]</span></span><br><span class="line">    <span class="keyword">return</span> sum; <span class="comment">// ----------------------&gt; å¸¸é‡æ—¶é—´</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* æ€»æ—¶é—´ = æ‰€æœ‰è¯­å¥èŠ±è´¹çš„æ—¶é—´æ€»å’Œ</span></span><br><span class="line"><span class="comment">* æœ€å¤šæ¬¡æ‰§è¡Œçš„è¯­å¥æ˜¯ &quot;sum++&quot; å°†ä¼šæ‰§è¡Œ n * (n + 1) / 2 æ¬¡</span></span><br><span class="line"><span class="comment">* æ‰€ä»¥ï¼Œæ€»çš„å¤æ‚åº¦æ˜¯: c1*nÂ² + c2*n + c3 [c1 æ˜¯ nÂ² çš„å¸¸æ•°é¡¹, c2 æ˜¯ n çš„å¸¸æ•°é¡¹, c3 æ˜¯å…¶ä»–è¯­å¥èŠ±è´¹çš„å¸¸é‡æ—¶é—´]</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ç®—æ³•çš„å¤§Oç¬¦å·æ˜¯Oï¼ˆc1 *nÂ²ï¼‰+ Oï¼ˆc2 * nï¼‰+ Oï¼ˆc3ï¼‰ã€‚</p><p>ç”±äºæˆ‘ä»¬åœ¨å¤§Oä¸­é‡‡ç”¨è¾ƒé«˜çš„å¢é•¿é¡ºåºã€‚å› æ­¤ï¼Œæˆ‘ä»¬çš„è¡¨è¾¾å¼å°†ç®€åŒ–ä¸º <strong>Oï¼ˆnÂ²ï¼‰</strong>ã€‚</p><p>å› æ­¤ï¼Œåˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬å·²ç»é’ˆå¯¹åŒä¸€é—®é¢˜çœ‹åˆ°äº†3ç§è§£å†³æ–¹æ¡ˆã€‚ç°åœ¨ï¼Œå½“ä½ æ‰¾åˆ°ç¬¬ä¸€ä¸ªâ€œ nâ€ä¸ªæ•°å­—çš„æ€»å’Œæ—¶ï¼Œä½ æ›´å–œæ¬¢ä½¿ç”¨å“ªç§ç®—æ³•ï¼Ÿ</p><p>æˆ‘ä»¬å¸Œæœ›ä½¿ç”¨Oï¼ˆ1ï¼‰è§£å†³æ–¹æ¡ˆï¼Œå› ä¸ºè¯¥ç®—æ³•æ‰€èŠ±è´¹çš„æ—¶é—´å°†æ˜¯æ’å®šçš„ï¼Œè€Œä¸è¾“å…¥å¤§å°æ— å…³ã€‚</p><h2 id="ç¤ºä¾‹2ï¼šæœç´¢ç®—æ³•"><a href="#ç¤ºä¾‹2ï¼šæœç´¢ç®—æ³•" class="headerlink" title="ç¤ºä¾‹2ï¼šæœç´¢ç®—æ³•"></a><strong>ç¤ºä¾‹2ï¼šæœç´¢ç®—æ³•</strong></h2><p>åœ¨åšå®¢çš„è¿™ä¸€éƒ¨åˆ†ä¸­ï¼Œæˆ‘ä»¬å°†æ‰¾åˆ°å„ç§æœç´¢ç®—æ³•ï¼ˆä¾‹å¦‚çº¿æ€§æœç´¢å’ŒäºŒåˆ†æŸ¥æ‰¾ï¼‰çš„æ—¶é—´å¤æ‚åº¦ã€‚</p><h3 id="çº¿æ€§æœå¯»"><a href="#çº¿æ€§æœå¯»" class="headerlink" title="çº¿æ€§æœå¯»"></a>çº¿æ€§æœå¯»</h3><p>åœ¨çº¿æ€§æœç´¢ä¸­ï¼Œæˆ‘ä»¬å°†æœ‰ä¸€ä¸ªæ•°ç»„ï¼Œå¹¶ä¸”è¿˜ç»™äº†ä¸€ä¸ªå…ƒç´ ã€‚æˆ‘ä»¬éœ€è¦åœ¨æ•°ç»„ä¸­æ‰¾åˆ°è¯¥å…ƒç´ çš„ç´¢å¼•ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæˆ‘ä»¬çš„æ•°ç»„æ˜¯[8ï¼Œ10ï¼Œ3ï¼Œ2ï¼Œ9]ï¼Œå¹¶ä¸”æˆ‘ä»¬æƒ³æ‰¾åˆ°ä½ç½®â€œ 3â€ï¼Œé‚£ä¹ˆæˆ‘ä»¬çš„è¾“å‡ºåº”è¯¥æ˜¯2ï¼ˆåŸºäº0çš„ç´¢å¼•ï¼‰ã€‚ä»¥ä¸‹æ˜¯ç›¸åŒçš„ä»£ç ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* @type of arr: integer array</span></span><br><span class="line"><span class="comment">* @type of n: integer(denoting size of arr)</span></span><br><span class="line"><span class="comment">* @type of k: integer(element to be searched)</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">linearSearch</span><span class="params">(<span class="keyword">int</span> arr[], <span class="keyword">int</span> n, <span class="keyword">int</span> k)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) </span><br><span class="line">        <span class="keyword">if</span>(arr[i] == k)</span><br><span class="line">            <span class="keyword">return</span> i;</span><br><span class="line">    <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* [è¯´æ˜]</span></span><br><span class="line"><span class="comment">* i = 0 ------------&gt; å°†ä¼šè¢«æ‰§è¡Œ1æ¬¡</span></span><br><span class="line"><span class="comment">* i &lt; n ------------&gt; å°†ä¼šè¢«æ‰§è¡Œ n+1 æ¬¡</span></span><br><span class="line"><span class="comment">* i++ --------------&gt; å°†ä¼šè¢«æ‰§è¡Œ n æ¬¡</span></span><br><span class="line"><span class="comment">* if(arr[i] == k) --&gt; å°†ä¼šè¢«æ‰§è¡Œ n æ¬¡</span></span><br><span class="line"><span class="comment">* return i ---------&gt; å°†ä¼šè¢«æ‰§è¡Œ1æ¬¡(å¦‚æœ &quot;k&quot; åœ¨æ•°ç»„ä¸­)</span></span><br><span class="line"><span class="comment">* return -1 --------&gt; å°†ä¼šè¢«æ‰§è¡Œ1æ¬¡(å¦‚æœ &quot;k&quot; ä¸å†æ•°ç»„ä¸­)</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure><p>çº¿æ€§æœç´¢åœ¨æœ€åæƒ…å†µä¸‹çš„æ—¶é—´å¤æ‚åº¦ä¸º <strong>Oï¼ˆnï¼‰</strong>ï¼Œå› ä¸ºåœ¨æœ€åæƒ…å†µä¸‹ï¼Œâ€œ <em>ifï¼ˆarr [i] == kï¼‰</em> â€è¯­å¥å°†æ‰§è¡Œâ€œ nâ€æ¬¡ã€‚</p><h3 id="äºŒåˆ†æŸ¥æ‰¾"><a href="#äºŒåˆ†æŸ¥æ‰¾" class="headerlink" title="äºŒåˆ†æŸ¥æ‰¾"></a>äºŒåˆ†æŸ¥æ‰¾</h3><p>åœ¨äºŒåˆ†æŸ¥æ‰¾ä¸­ï¼Œæˆ‘ä»¬å°†æ‹¥æœ‰ä¸€ä¸ªæ’åºçš„æ•°ç»„ï¼Œå¹¶å°†ç»™å‡ºä¸€ä¸ªå…ƒç´ ã€‚æˆ‘ä»¬å¿…é¡»æ‰¾åˆ°è¯¥å…ƒç´ åœ¨æ•°ç»„ä¸­çš„ä½ç½®ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬éµå¾ªä»¥ä¸‹æ­¥éª¤ï¼š</p><ol><li>é€šè¿‡æ‰¾åˆ°æ•°ç»„çš„ä¸­é—´å…ƒç´ ï¼Œå°†æ•´ä¸ªæ•°ç»„åˆ†ä¸ºä¸¤éƒ¨åˆ†ã€‚</li><li>æŸ¥æ‰¾ä¸­é—´å…ƒç´ æ˜¯å¦ç­‰äºè¦æœç´¢çš„å…ƒç´ â€œ kâ€ã€‚å¦‚æœç›¸ç­‰ï¼Œåˆ™è¿”å›è¯¥å€¼ã€‚</li><li>å¦‚æœä¸­é—´å…ƒç´ ä¸ç­‰äºå…ƒç´ â€œ kâ€ï¼Œåˆ™æŸ¥æ‰¾å…ƒç´ â€œ kâ€æ˜¯å¦å¤§äºæˆ–å°äºä¸­é—´å…ƒç´ ã€‚</li><li>å¦‚æœå…ƒç´ â€œ kâ€å¤§äºä¸­é—´å…ƒç´ ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°†åœ¨æ•°ç»„çš„[mid + 1è‡³n]éƒ¨åˆ†æ‰§è¡ŒäºŒåˆ†æŸ¥æ‰¾ï¼›å¦‚æœå…ƒç´ â€œ kâ€å°äºä¸­é—´å…ƒç´ ï¼Œåˆ™æˆ‘ä»¬å°†åœ¨æ•°ç»„çš„[0è‡³mid-1]éƒ¨åˆ†æ‰§è¡ŒäºŒåˆ†æŸ¥æ‰¾ã€‚</li><li>åŒæ ·ï¼Œæˆ‘ä»¬å°†ä»æ­¥éª¤2å¼€å§‹é‡å¤ã€‚</li></ol><p>è®©æˆ‘ä»¬ç¼–å†™ç›¸åŒçš„ä»£ç ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* @type of arr: integer array</span></span><br><span class="line"><span class="comment">* @type of left: integer(left most index of arr)</span></span><br><span class="line"><span class="comment">* @type of right: integer(right most index of arr)</span></span><br><span class="line"><span class="comment">* @type of k: integer(element to be searched)</span></span><br><span class="line"><span class="comment">* @return type: integer(index of element k(if found), otherwise return -1)</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">binarySearch</span><span class="params">(<span class="keyword">int</span> arr[], <span class="keyword">int</span> left, <span class="keyword">int</span> right, <span class="keyword">int</span> k)</span> </span></span><br><span class="line"><span class="function"></span>&#123; </span><br><span class="line">    <span class="keyword">while</span> (left &lt;= right) &#123; </span><br><span class="line">        <span class="comment">// æŸ¥æ‰¾ä¸­é—´å…ƒç´ </span></span><br><span class="line">        <span class="keyword">int</span> mid = left + (right - left) / <span class="number">2</span>; </span><br><span class="line">        <span class="comment">// åˆ¤æ–­ k æ˜¯å¦ç­‰äºä¸­é—´å…ƒç´ </span></span><br><span class="line">        <span class="keyword">if</span> (arr[mid] == k) </span><br><span class="line">            <span class="keyword">return</span> mid; <span class="comment">// å¦‚æœ k ç­‰äºä¸­é—´å…ƒç´ ï¼Œé‚£ä¹ˆå°±è¿”å›ä¸‹æ ‡</span></span><br><span class="line">        <span class="comment">// å¦‚æœ k å¤§äºä¸­é—´å…ƒç´ ,å¿½ç•¥æ•°ç»„çš„å·¦åŠéƒ¨åˆ†</span></span><br><span class="line">        <span class="keyword">if</span> (arr[mid] &lt; k) </span><br><span class="line">            left = mid + <span class="number">1</span>; <span class="comment">// æ›´æ–°å·¦ä¾§ï¼Œå³ä¾§å°†ä¿æŒä¸å˜</span></span><br><span class="line">        <span class="comment">// å¦‚æœ k å°äºä¸­é—´å…ƒç´ , å¿½ç•¥æ•°ç»„çš„å³åŠéƒ¨åˆ†</span></span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            right = mid - <span class="number">1</span>; <span class="comment">// æ›´æ–°å³ä¾§ï¼Œå·¦ä¾§å°†ä¿æŒä¸å˜</span></span><br><span class="line">    &#125; </span><br><span class="line">    <span class="comment">// å¦‚æœæ²¡æœ‰æ‰¾åˆ°ï¼Œåˆ™è¿”å› -1 </span></span><br><span class="line">    <span class="keyword">return</span> -<span class="number">1</span>; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>äºŒåˆ†æŸ¥æ‰¾ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦</strong></p><ul><li>ä¸ºäº†æ‰¾åˆ°å…ƒç´ â€œ kâ€ï¼Œå‡è®¾åœ¨â€œç¬¬iæ¬¡â€è¿­ä»£ä¹‹åï¼ŒäºŒåˆ†æŸ¥æ‰¾çš„è¿­ä»£åœæ­¢ï¼Œå³æ•°ç»„çš„å¤§å°å˜ä¸º1ã€‚æ­¤å¤–ï¼Œæ¯æ¬¡è¿­ä»£åï¼Œæˆ‘ä»¬å°†æ•°ç»„çš„å¤§å°å‡å°ä¸€åŠã€‚</li><li>å› æ­¤ï¼Œåœ¨ç¬¬ä¸€æ¬¡è¿­ä»£ä¸­ï¼Œæ•°ç»„çš„å¤§å°ä¸ºâ€œ nâ€ï¼Œåœ¨ç¬¬äºŒæ¬¡è¿­ä»£ä¸­ï¼Œæ•°ç»„çš„å¤§å°ä¸ºâ€œ n / 2â€ï¼Œåœ¨ç¬¬ä¸‰æ¬¡è¿­ä»£ä¸­ï¼Œæ•°ç»„çš„å¤§å°ä¸ºâ€œï¼ˆn / 2ï¼‰/ 2 = n / 2Â²â€ï¼Œåœ¨ç¬¬4æ¬¡è¿­ä»£ä¸­ï¼Œæ•°ç»„çš„å¤§å°ä¸ºâ€œï¼ˆï¼ˆï¼ˆn / 2ï¼‰/ 2ï¼‰/ 2 = n /2Â³â€ï¼Œä¾æ­¤ç±»æ¨ã€‚</li><li>å› æ­¤ï¼Œåœ¨ç¬¬ <strong>i</strong> æ¬¡è¿­ä»£ä¹‹åï¼Œæ•°ç»„çš„å¤§å°å°†ä¸ºn / 2 ^ iã€‚åŒæ ·ï¼Œåœ¨ç¬¬ <strong>i</strong> æ¬¡è¿­ä»£ä¹‹åï¼Œæ•°ç»„çš„é•¿åº¦å°†å˜ä¸º1ã€‚å› æ­¤ï¼Œä»¥ä¸‹å…³ç³»åº”æˆç«‹ï¼š</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">=&gt; n/2^i = 1</span><br><span class="line">=&gt; n = 2^i</span><br><span class="line">=&gt; log2 (n) = log2 (2^i)    [applying log2 both sides]</span><br><span class="line">=&gt; log2 (n) = i * log2 (2)  </span><br><span class="line">=&gt; i = log2 (n)             [as logn (n) = 1]</span><br></pre></td></tr></table></figure><p>å› æ­¤ï¼ŒäºŒåˆ†æŸ¥æ‰¾ç®—æ³•çš„æœ€åæƒ…å†µæ—¶é—´å¤æ‚åº¦æ˜¯ <strong>log2ï¼ˆnï¼‰</strong>ã€‚</p><h2 id="ç¤ºä¾‹3ï¼šæ’åºç®—æ³•"><a href="#ç¤ºä¾‹3ï¼šæ’åºç®—æ³•" class="headerlink" title="ç¤ºä¾‹3ï¼šæ’åºç®—æ³•"></a>ç¤ºä¾‹3ï¼šæ’åºç®—æ³•</h2><p>åœ¨åšå®¢çš„è¿™ä¸€éƒ¨åˆ†ä¸­ï¼Œæˆ‘ä»¬å°†å­¦ä¹ å„ç§æ’åºç®—æ³•çš„æ—¶é—´å¤æ‚åº¦ã€‚æ’åºç®—æ³•ç”¨äºæŒ‰å‡åºæˆ–é™åºå¯¹ç»™å®šæ•°ç»„è¿›è¡Œæ’åºã€‚å› æ­¤ï¼Œè®©æˆ‘ä»¬ä»é€‰æ‹©æ’åºå¼€å§‹ã€‚</p><h3 id="é€‰æ‹©æ’åº"><a href="#é€‰æ‹©æ’åº" class="headerlink" title="é€‰æ‹©æ’åº"></a>é€‰æ‹©æ’åº</h3><p>åœ¨é€‰æ‹©æ’åºä¸­ï¼Œåœ¨ç¬¬ä¸€éä¸­ï¼Œæˆ‘ä»¬æ‰¾åˆ°æ•°ç»„çš„æœ€å°å…ƒç´ å¹¶å°†å…¶æ”¾åœ¨ç¬¬ä¸€ä½ã€‚åœ¨ç¬¬äºŒéä¸­ï¼Œæˆ‘ä»¬æ‰¾åˆ°æ•°ç»„çš„ç¬¬äºŒä¸ªæœ€å°å…ƒç´ å¹¶å°†å…¶æ”¾åœ¨ç¬¬äºŒä½ï¼Œä¾æ­¤ç±»æ¨ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* @type of arr: integer array</span></span><br><span class="line"><span class="comment">* @type of n: integer(length of arr)</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">selectionSort</span><span class="params">(<span class="keyword">int</span> arr[], <span class="keyword">int</span> n)</span>  </span></span><br><span class="line"><span class="function"></span>&#123;  </span><br><span class="line">    <span class="comment">// move from index 0 to n-1  </span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n-<span class="number">1</span>; i++)  </span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// finding the minimum element  </span></span><br><span class="line">        <span class="keyword">int</span> minIndex = i;  </span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = i+<span class="number">1</span>; j &lt; n; j++)  </span><br><span class="line">            <span class="keyword">if</span> (arr[j] &lt; arr[minIndex])  </span><br><span class="line">                minIndex = j;  </span><br><span class="line">        <span class="comment">// Swap the found minimum element with the ith element  </span></span><br><span class="line">        swap(arr[minIndex], arr[i]);  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é€‰æ‹©æ’åºçš„æœ€åæƒ…å†µæ—¶é—´å¤æ‚åº¦æ˜¯<em><strong>Oï¼ˆnÂ²ï¼‰</strong></em>ã€‚</p><h3 id="å†’æ³¡æ’åº"><a href="#å†’æ³¡æ’åº" class="headerlink" title="å†’æ³¡æ’åº"></a>å†’æ³¡æ’åº</h3><p>åœ¨å†’æ³¡æ’åºä¸­ï¼Œæˆ‘ä»¬æ¯”è¾ƒç›¸é‚»å…ƒç´ å¹¶å°†æœ€å°å…ƒç´ æ”¾åœ¨æœ€å¤§å…ƒç´ ä¹‹å‰ã€‚ä¾‹å¦‚ï¼Œå¦‚æœä¸¤ä¸ªç›¸é‚»å…ƒç´ ä¸º[4ï¼Œ1]ï¼Œåˆ™æœ€ç»ˆè¾“å‡ºå°†ä¸º[1ï¼Œ4]ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* @type of arr: integer array</span></span><br><span class="line"><span class="comment">* @type of n: integer(length of arr)</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">bubbleSort</span><span class="params">(<span class="keyword">int</span> arr[], <span class="keyword">int</span> n)</span>  </span></span><br><span class="line"><span class="function"></span>&#123;  </span><br><span class="line">    <span class="comment">// move from index 0 to n-1</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n-<span class="number">1</span>; i++)        </span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; n-i-<span class="number">1</span>; j++)  </span><br><span class="line">            <span class="keyword">if</span> (arr[j] &gt; arr[j+<span class="number">1</span>])          <span class="comment">// comparing adjacent elements</span></span><br><span class="line">                swap(arr[j], arr[j+<span class="number">1</span>]);   <span class="comment">// swapping elements</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å†’æ³¡æ’åºçš„æœ€åæƒ…å†µæ—¶é—´å¤æ‚åº¦æ˜¯ <strong>Oï¼ˆnÂ²ï¼‰</strong>ã€‚</p><h3 id="æ’å…¥æ’åº"><a href="#æ’å…¥æ’åº" class="headerlink" title="æ’å…¥æ’åº"></a>æ’å…¥æ’åº</h3><p>åœ¨æ’å…¥æ’åºä¸­ï¼Œæˆ‘ä»¬ä»ç¬¬ä¸€ä¸ªå…ƒç´ å¼€å§‹ï¼Œç„¶åæ£€æŸ¥è¯¥å…ƒç´ æ˜¯å¦å°äºç¬¬0ä¸ªå…ƒç´ ã€‚å¦‚æœè¾ƒå°ï¼Œåˆ™å°†å…¶æ”¾åœ¨æ‰€éœ€ä½ç½®ï¼Œå¦åˆ™æ£€æŸ¥ç¬¬äºŒä¸ªå…ƒç´ ã€‚å¦‚æœç¬¬äºŒä¸ªå…ƒç´ å°äºç¬¬0ä¸ªå…ƒç´ æˆ–ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œåˆ™å°†ç¬¬äºŒä¸ªå…ƒç´ æ”¾åœ¨æ‰€éœ€çš„ä½ç½®ï¼Œä¾æ­¤ç±»æ¨ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* @type of arr: integer array</span></span><br><span class="line"><span class="comment">* @type of n: integer(length of arr)</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">insertionSort</span><span class="params">(<span class="keyword">int</span> arr[], <span class="keyword">int</span> n)</span>  </span></span><br><span class="line"><span class="function"></span>&#123;  </span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; n; i++) </span><br><span class="line">    &#123;  </span><br><span class="line">        <span class="keyword">int</span> key = arr[i];  <span class="comment">// select value to be inserted</span></span><br><span class="line">        <span class="keyword">int</span> j = i - <span class="number">1</span>;     <span class="comment">// position where number is to be inserted</span></span><br><span class="line">        <span class="comment">// check if previous no. is larger than value to be inserted</span></span><br><span class="line">        <span class="keyword">while</span> (j &gt;= <span class="number">0</span> &amp;&amp; arr[j] &gt; key) </span><br><span class="line">        &#123;  </span><br><span class="line">            arr[j + <span class="number">1</span>] = arr[j];  </span><br><span class="line">            j = j - <span class="number">1</span>;  </span><br><span class="line">        &#125;  </span><br><span class="line">        <span class="comment">// changing the value</span></span><br><span class="line">        arr[j + <span class="number">1</span>] = key;  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure><p>æ’å…¥æ’åºçš„æœ€åæƒ…å†µä¸‹æ—¶é—´å¤æ‚åº¦ä¸º <strong>Oï¼ˆnÂ²ï¼‰</strong>ã€‚</p><h3 id="åˆå¹¶æ’åº"><a href="#åˆå¹¶æ’åº" class="headerlink" title="åˆå¹¶æ’åº"></a>åˆå¹¶æ’åº</h3><p>åˆå¹¶æ’åºä½¿ç”¨åˆ†è€Œæ²»ä¹‹æŠ€æœ¯ï¼ˆä½ å°†åœ¨æœ¬æ•°æ®ç»“æ„ç³»åˆ—ä¸­äº†è§£æœ‰å…³åˆ†è€Œæ²»ä¹‹çš„æ›´å¤šä¿¡æ¯ï¼‰ã€‚åˆå¹¶æ’åºæ¶‰åŠä»¥ä¸‹æ­¥éª¤ï¼š</p><ul><li>é€šè¿‡æ‰¾åˆ°ä¸­é—´å…ƒç´ ï¼Œå°†æ•°ç»„åˆ†æˆä¸¤åŠã€‚</li><li>åœ¨ä¸ŠåŠéƒ¨åˆ†å’Œä¸‹åŠéƒ¨åˆ†è°ƒç”¨åˆå¹¶æ’åºåŠŸèƒ½ã€‚</li><li>ç°åœ¨ï¼Œé€šè¿‡è°ƒç”¨Mergeå‡½æ•°åˆå¹¶ä¸¤ä¸ªéƒ¨åˆ†ã€‚</li></ul><p>åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬å°†ä½¿ç”¨é€’å½’ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">merge</span><span class="params">(<span class="keyword">int</span>* arr, <span class="keyword">int</span> start, <span class="keyword">int</span> mid, <span class="keyword">int</span> end)</span> </span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">int</span> temp[end - start + <span class="number">1</span>];        <span class="comment">// creating temporary array</span></span><br><span class="line"><span class="keyword">int</span> i = start, j = mid+<span class="number">1</span>, k = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">while</span>(i &lt;= mid &amp;&amp; j &lt;= end)       <span class="comment">// traverse and add smaller of both elements in temp </span></span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">if</span>(arr[i] &lt;= arr[j]) </span><br><span class="line">&#123;</span><br><span class="line">temp[k] = arr[i];</span><br><span class="line">k += <span class="number">1</span>; i += <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> </span><br><span class="line">&#123;</span><br><span class="line">temp[k] = arr[j];</span><br><span class="line">k += <span class="number">1</span>; j += <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// add the elements left in the 1st interval</span></span><br><span class="line"><span class="keyword">while</span>(i &lt;= mid) </span><br><span class="line">&#123;</span><br><span class="line">temp[k] = arr[i];</span><br><span class="line">k += <span class="number">1</span>; i += <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// add the elements left in the 2nd interval</span></span><br><span class="line"><span class="keyword">while</span>(j &lt;= end) </span><br><span class="line">&#123;</span><br><span class="line">temp[k] = arr[j];</span><br><span class="line">k += <span class="number">1</span>; j += <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// updating the original array to have the sorted elements</span></span><br><span class="line"><span class="keyword">for</span>(i = start; i &lt;= end; i += <span class="number">1</span>) </span><br><span class="line">&#123;</span><br><span class="line">arr[i] = temp[i - start]</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* @type of arr: integer array</span></span><br><span class="line"><span class="comment">* @type of start: starting index of arr</span></span><br><span class="line"><span class="comment">* @type of end: eningd index of arr</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">mergeSort</span><span class="params">(<span class="keyword">int</span> *arr, <span class="keyword">int</span> start, <span class="keyword">int</span> end)</span> </span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="keyword">if</span>(start &lt; end) </span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">int</span> mid = (start + end) / <span class="number">2</span>; <span class="comment">// finding middle element</span></span><br><span class="line">mergeSort(arr, start, mid);  <span class="comment">// calling mergeSort for first half</span></span><br><span class="line">mergeSort(arr, mid+<span class="number">1</span>, end);  <span class="comment">// calling mergeSort for second half</span></span><br><span class="line">merge(arr, start, mid, end); <span class="comment">// calling merge function to merge the arrays</span></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åˆå¹¶æ’åºçš„æœ€åæƒ…å†µä¸‹çš„æ—¶é—´å¤æ‚åº¦ä¸º <strong>Oï¼ˆn logï¼ˆnï¼‰ï¼‰</strong>ã€‚</p><p>ä¸‹è¡¨æ˜¾ç¤ºäº†å„ç§æ’åºç®—æ³•çš„æœ€ä½³æƒ…å†µï¼Œå¹³å‡æƒ…å†µå’Œæœ€åæƒ…å†µçš„æ—¶é—´å¤æ‚åº¦ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">-----------------------------------------------------------------------------</span><br><span class="line">|Sorting Algorithm |    Best Case     |   Average Case   |    Worst Case    |</span><br><span class="line">|------------------|------------------|------------------|------------------|</span><br><span class="line">|Selection Sort    |       Î©(nÂ²)      |      Î¸(nÂ²)       |       O(nÂ²)      |</span><br><span class="line">|Bubble Sort       |       Î©(n)       |      Î¸(nÂ²)       |       O(nÂ²)      |</span><br><span class="line">|Insertion Sort    |       Î©(n)       |      Î¸(nÂ²)       |       O(nÂ²)      |</span><br><span class="line">|Merge Sort        |   Î©(n logn(n))   |   Î¸(n logn(n))   |   O(n logn(n))   |</span><br><span class="line">|Quick Sort        |   Î©(n logn(n))   |   Î¸(n logn(n))   |       O(nÂ²)      |</span><br><span class="line">|Heap Sort         |   Î©(n logn(n))   |   Î¸(n logn(n))   |   O(n logn(n))   |</span><br><span class="line">|Radix Sort        |      Î©(nk)       |      Î¸(nk)       |       O(nk)      |</span><br><span class="line">|Bucket Sort       |     Î©(n + k)     |     Î¸(n + k)     |       O(nÂ²)      |</span><br><span class="line">-----------------------------------------------------------------------------</span><br></pre></td></tr></table></figure><p>åœ¨æ­¤åšå®¢ä¸­ï¼Œæˆ‘ä»¬äº†è§£äº†ç®—æ³•çš„æ—¶é—´å’Œç©ºé—´å¤æ‚æ€§ã€‚æˆ‘ä»¬çœ‹åˆ°äº†å¦‚ä½•ä½¿ç”¨è¿™ä¸¤ä¸ªå› ç´ æ¥åˆ†æç®—æ³•çš„æ•ˆç‡ã€‚å› æ­¤ï¼ŒåŸºæœ¬ä¸Šï¼Œæ—¶é—´å’Œç©ºé—´ä¹‹é—´éœ€è¦æƒè¡¡ã€‚å¸Œæœ›æœ¬ç¯‡åšå®¢å¯¹ä½ æœ‰æ‰€å¸®åŠ©ã€‚</p><p>åŸæ–‡é“¾æ¥: <span class="exturl" data-url="aHR0cHM6Ly9hZnRlcmFjYWRlbXkuY29tL2Jsb2cvdGltZS1hbmQtc3BhY2UtY29tcGxleGl0eS1hbmFseXNpcy1vZi1hbGdvcml0aG0=">https://afteracademy.com/blog/time-and-space-complexity-analysis-of-algorithm<i class="fa fa-external-link-alt"></i></span></p>]]></content>
    
    
    <summary type="html">&lt;p&gt;å¤§Oè¡¨ç¤ºæ³•æ˜¯æœ€å¸¸ç”¨çš„è¡¨ç¤ºç®—æ³•æ—¶é—´å¤æ‚åº¦çš„è¡¨ç¤ºæ³•ã€‚&lt;/p&gt;
&lt;p&gt;æœ¬ç¯‡åšå®¢æˆ‘ä»¬å°†æ¨å¯¼å„ç§ç®—æ³•çš„å¤§Oè¡¨ç¤ºæ³•ã€‚&lt;/p&gt;</summary>
    
    
    
    <category term="Java" scheme="https://blog.zhuyizhuo.online/categories/Java/"/>
    
    <category term="ç®—æ³•" scheme="https://blog.zhuyizhuo.online/categories/%E7%AE%97%E6%B3%95/"/>
    
    
    <category term="Java" scheme="https://blog.zhuyizhuo.online/tags/Java/"/>
    
    <category term="ç®—æ³•" scheme="https://blog.zhuyizhuo.online/tags/%E7%AE%97%E6%B3%95/"/>
    
  </entry>
  
  <entry>
    <title>åŸç åç è¡¥ç ä¸ä½è¿ç®—</title>
    <link href="https://blog.zhuyizhuo.online/2021/01/09/java/bit-operation/"/>
    <id>https://blog.zhuyizhuo.online/2021/01/09/java/bit-operation/</id>
    <published>2021-01-09T12:57:48.000Z</published>
    <updated>2025-09-26T09:36:22.840Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h2 id="ä½è¿ç®—"><a href="#ä½è¿ç®—" class="headerlink" title="ä½è¿ç®—"></a>ä½è¿ç®—</h2><ul><li><p>æŒ‰ä½ä¸ï¼ˆ&amp;ï¼‰  éƒ½1åˆ™1</p><ul><li>å¯¹ä¸¤ä¸ªæ•°è¿›è¡Œæ“ä½œï¼Œç„¶åè¿”å›ä¸€ä¸ªæ–°çš„æ•°ï¼Œè¿™ä¸ªæ•°çš„æ¯ä¸ªä½éƒ½éœ€è¦ä¸¤ä¸ªè¾“å…¥æ•°çš„åŒä¸€ä½éƒ½ä¸º1æ—¶æ‰ä¸º1</li></ul></li><li><p>æŒ‰ä½æˆ–ï¼ˆ|ï¼‰  æœ‰1åˆ™1</p><ul><li>æ¯”è¾ƒä¸¤ä¸ªæ•°ï¼Œç„¶åè¿”å›ä¸€ä¸ªæ–°çš„æ•°ï¼Œè¿™ä¸ªæ•°çš„æ¯ä¸€ä½è®¾ç½®1çš„æ¡ä»¶æ˜¯ä¸¤ä¸ªè¾“å…¥æ•°çš„åŒä¸€ä½éƒ½ä¸ä¸º0(å³ä»»æ„ä¸€ä¸ªä¸º1ï¼Œæˆ–éƒ½ä¸º1)</li></ul></li><li><p>æŒ‰ä½å¼‚æˆ–ï¼ˆ^ï¼‰  ä¸åŒä¸º1 ç›¸åŒä¸º0 ä¸¤æ•°å¼‚æˆ– å¯çœ‹ä½œæ˜¯ä¸¤æ•°æ²¡æœ‰è¿›ä½çš„åŠ æ³•</p><ul><li>æ¯”è¾ƒä¸¤ä¸ªæ•°ï¼Œç„¶åè¿”å›ä¸€ä¸ªæ•°ï¼Œè¿™ä¸ªæ•°çš„æ¯ä¸ªä½è®¾ä¸º1çš„æ¡ä»¶æ˜¯ä¸¤ä¸ªè¾“å…¥æ•°çš„åŒä¸€ä½ä¸åŒï¼Œå¦‚æœç›¸åŒå°±è®¾ä¸º0</li><li>å¼‚æˆ–è¿ç®—æœ€é‡è¦çš„æ€§è´¨ï¼Œå°±æ˜¯ 0 å’Œä»»ä½•ä¸€ä¸ªæ•°å­—ï¼ˆyï¼‰å¼‚æˆ–çš„ç»“æœï¼Œéƒ½æ˜¯è¿™ä¸ªæ•°å­—æœ¬èº«ã€‚å³ï¼š0 ^ y = y</li><li>å¼‚æˆ–æ»¡è¶³äº¤æ¢å¾‹ x ^ y = y ^ x</li><li>ä¸¤ä¸ªç›¸åŒçš„æ•°å­—åšå¼‚æˆ–, ç»“æœä¸º 0</li><li>å–æœ€ä½ä½çš„1  n &amp; -n</li><li>å°†æœ€ä½ä½çš„1ç§»é™¤ n &amp; (n-1)</li></ul></li></ul><span id="more"></span><ul><li>æŒ‰ä½å–åï¼ˆ~ï¼‰<ul><li>å¯¹ä¸€ä¸ªæ“ä½œæ•°çš„æ¯ä¸€ä½éƒ½å–å</li></ul></li><li>æŒ‰ä½å·¦ç§»ï¼ˆ&lt;&lt;ï¼‰<ul><li>å°†æ“ä½œæ•°çš„æ‰€æœ‰ä½å‘å·¦ç§»åŠ¨æŒ‡å®šçš„ä½æ•°ã€‚</li></ul></li><li>æŒ‰ä½å³ç§»ï¼ˆ&gt;&gt;ï¼‰<ul><li>å°†æ“ä½œæ•°çš„æ‰€æœ‰ä½å‘åˆç§»åŠ¨æŒ‡å®šçš„ä½æ•°ã€‚</li></ul></li></ul><h2 id="åŸç åç è¡¥ç "><a href="#åŸç åç è¡¥ç " class="headerlink" title="åŸç åç è¡¥ç "></a>åŸç åç è¡¥ç </h2><p>åŸç è½¬æ¢ä¸ºåç ï¼šç¬¦å·ä½ä¸å˜ï¼Œæ•°å€¼ä½åˆ†åˆ«â€œæŒ‰ä½å–åâ€ </p><p>åç è½¬æ¢ä¸ºåŸç ä¹Ÿæ˜¯ä¸€æ ·ï¼šç¬¦å·ä½ä¸å˜ï¼Œæ•°å€¼ä½åˆ†åˆ«â€œæŒ‰ä½å–åâ€ </p><p>åŸç è½¬æ¢ä¸ºè¡¥ç ï¼šç¬¦å·ä½ä¸å˜ï¼Œæ•°å€¼ä½æŒ‰ä½å–å,æœ«ä½å†åŠ 1</p><p>è¡¥ç è½¬æ¢ä¸ºåŸç ï¼šç¬¦å·ä½ä¸å˜ï¼Œæ•°å€¼ä½æŒ‰ä½å–å,æœ«ä½å†åŠ 1ã€‚</p><p>å³è¡¥ç çš„è¡¥ç ç­‰äºåŸç </p><p>æ±‚è¡¥(å˜è¡¥)ï¼Œå³å·²çŸ¥[X]è¡¥ï¼Œæ±‚[-X]è¡¥ ã€‚</p><p>ç¬¦å·ä½å’Œæ•°å€¼ä½éƒ½å–åï¼Œæœ«ä½å†åŠ 1</p><p>è´Ÿæ•°éƒ¨åˆ†ï¼š</p><p>åŸç å’Œåç çš„ç›¸äº’è½¬æ¢ï¼šç¬¦å·ä½ä¸å˜ï¼Œæ•°å€¼ä½æŒ‰ä½å–å</p><p>åŸç å’Œè¡¥ç çš„ç›¸äº’è½¬æ¢ï¼šç¬¦å·ä½ä¸å˜ï¼Œæ•°å€¼ä½æŒ‰ä½å–å,æœ«ä½å†åŠ 1</p><p>å·²çŸ¥è¡¥ç ï¼Œæ±‚åŸç çš„è´Ÿæ•°çš„è¡¥ç ï¼šç¬¦å·ä½å’Œæ•°å€¼ä½éƒ½å–åï¼Œæœ«ä½å†åŠ 1</p>]]></content>
    
    
    <summary type="html">&lt;h2 id=&quot;ä½è¿ç®—&quot;&gt;&lt;a href=&quot;#ä½è¿ç®—&quot; class=&quot;headerlink&quot; title=&quot;ä½è¿ç®—&quot;&gt;&lt;/a&gt;ä½è¿ç®—&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;p&gt;æŒ‰ä½ä¸ï¼ˆ&amp;amp;ï¼‰  éƒ½1åˆ™1&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¯¹ä¸¤ä¸ªæ•°è¿›è¡Œæ“ä½œï¼Œç„¶åè¿”å›ä¸€ä¸ªæ–°çš„æ•°ï¼Œè¿™ä¸ªæ•°çš„æ¯ä¸ªä½éƒ½éœ€è¦ä¸¤ä¸ªè¾“å…¥æ•°çš„åŒä¸€ä½éƒ½ä¸º1æ—¶æ‰ä¸º1&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;æŒ‰ä½æˆ–ï¼ˆ|ï¼‰  æœ‰1åˆ™1&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ¯”è¾ƒä¸¤ä¸ªæ•°ï¼Œç„¶åè¿”å›ä¸€ä¸ªæ–°çš„æ•°ï¼Œè¿™ä¸ªæ•°çš„æ¯ä¸€ä½è®¾ç½®1çš„æ¡ä»¶æ˜¯ä¸¤ä¸ªè¾“å…¥æ•°çš„åŒä¸€ä½éƒ½ä¸ä¸º0(å³ä»»æ„ä¸€ä¸ªä¸º1ï¼Œæˆ–éƒ½ä¸º1)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;æŒ‰ä½å¼‚æˆ–ï¼ˆ^ï¼‰  ä¸åŒä¸º1 ç›¸åŒä¸º0 ä¸¤æ•°å¼‚æˆ– å¯çœ‹ä½œæ˜¯ä¸¤æ•°æ²¡æœ‰è¿›ä½çš„åŠ æ³•&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ¯”è¾ƒä¸¤ä¸ªæ•°ï¼Œç„¶åè¿”å›ä¸€ä¸ªæ•°ï¼Œè¿™ä¸ªæ•°çš„æ¯ä¸ªä½è®¾ä¸º1çš„æ¡ä»¶æ˜¯ä¸¤ä¸ªè¾“å…¥æ•°çš„åŒä¸€ä½ä¸åŒï¼Œå¦‚æœç›¸åŒå°±è®¾ä¸º0&lt;/li&gt;
&lt;li&gt;å¼‚æˆ–è¿ç®—æœ€é‡è¦çš„æ€§è´¨ï¼Œå°±æ˜¯ 0 å’Œä»»ä½•ä¸€ä¸ªæ•°å­—ï¼ˆyï¼‰å¼‚æˆ–çš„ç»“æœï¼Œéƒ½æ˜¯è¿™ä¸ªæ•°å­—æœ¬èº«ã€‚å³ï¼š0 ^ y = y&lt;/li&gt;
&lt;li&gt;å¼‚æˆ–æ»¡è¶³äº¤æ¢å¾‹ x ^ y = y ^ x&lt;/li&gt;
&lt;li&gt;ä¸¤ä¸ªç›¸åŒçš„æ•°å­—åšå¼‚æˆ–, ç»“æœä¸º 0&lt;/li&gt;
&lt;li&gt;å–æœ€ä½ä½çš„1  n &amp;amp; -n&lt;/li&gt;
&lt;li&gt;å°†æœ€ä½ä½çš„1ç§»é™¤ n &amp;amp; (n-1)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;</summary>
    
    
    
    <category term="Java" scheme="https://blog.zhuyizhuo.online/categories/Java/"/>
    
    <category term="ç¬”è®°" scheme="https://blog.zhuyizhuo.online/categories/%E7%AC%94%E8%AE%B0/"/>
    
    
    <category term="Java" scheme="https://blog.zhuyizhuo.online/tags/Java/"/>
    
  </entry>
  
  <entry>
    <title>ç®—æ³•çš„æ—¶é—´å’Œç©ºé—´å¤æ‚åº¦åˆ†æ</title>
    <link href="https://blog.zhuyizhuo.online/2021/01/07/algorithm/time-and-space-complexity-analysis-of-algorithm/"/>
    <id>https://blog.zhuyizhuo.online/2021/01/07/algorithm/time-and-space-complexity-analysis-of-algorithm/</id>
    <published>2021-01-07T13:45:21.000Z</published>
    <updated>2025-09-26T09:36:22.835Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="/assets/css/APlayer.min.css"><script src="/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="/assets/js/Meting.min.js"></script><h2 id="ä»€ä¹ˆæ˜¯ç®—æ³•ï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯ç®—æ³•ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯ç®—æ³•ï¼Ÿ"></a>ä»€ä¹ˆæ˜¯ç®—æ³•ï¼Ÿ</h2><p>åœ¨è®¡ç®—æœºç§‘å­¦ä¸­ï¼Œæ¯å½“æˆ‘ä»¬è¦è§£å†³ä¸€äº›è®¡ç®—é—®é¢˜æ—¶ï¼Œæˆ‘ä»¬éƒ½ä¼šå®šä¹‰ä¸€ç»„è§£å†³è¯¥é—®é¢˜éœ€è¦éµå¾ªçš„æ­¥éª¤ã€‚è¿™äº›æ­¥éª¤ç»Ÿç§°ä¸ºç®—æ³•ã€‚</p><h2 id="å¦‚ä½•åŒºåˆ†ç®—æ³•çš„å¥½åï¼Ÿ"><a href="#å¦‚ä½•åŒºåˆ†ç®—æ³•çš„å¥½åï¼Ÿ" class="headerlink" title="å¦‚ä½•åŒºåˆ†ç®—æ³•çš„å¥½åï¼Ÿ"></a>å¦‚ä½•åŒºåˆ†ç®—æ³•çš„å¥½åï¼Ÿ</h2><p>é’ˆå¯¹ç‰¹å®šé—®é¢˜å¯ä»¥æœ‰å¾ˆå¤šç®—æ³•ã€‚é‚£ä¹ˆï¼Œå¦‚ä½•åŒºåˆ†ç®—æ³•çš„å¥½åå‘¢ï¼Ÿ</p><p>è®©æˆ‘ä»¬äº†è§£ä¸€ä¸ªå¥½çš„ç®—æ³•çš„å±æ€§ï¼š</p><ul><li><strong>æ­£ç¡®æ€§ï¼š</strong>å¦‚æœç®—æ³•å¯¹äºæ¯ç»„è¾“å…¥éƒ½ä»¥æ­£ç¡®çš„è¾“å‡ºåœæ­¢è¿è¡Œï¼Œåˆ™è¯¥ç®—æ³•è¢«è®¤ä¸ºæ˜¯æ­£ç¡®çš„ã€‚å¦‚æœæ²¡æœ‰ä¸ºä»»ä½•ç‰¹å®šçš„è¾“å…¥é›†è·å¾—æ­£ç¡®çš„è¾“å‡ºï¼Œåˆ™ä½ çš„ç®—æ³•æ˜¯é”™è¯¯çš„ã€‚</li><li><strong>æœ‰é™æ€§ï¼š</strong>é€šå¸¸ï¼Œäººä»¬ä¼šå¿½ç•¥è¿™ä¸€ç‚¹ï¼Œä½†è¿™æ˜¯ç®—æ³•è¯„ä¼°ä¸­çš„é‡è¦å› ç´ ä¹‹ä¸€ã€‚è¯¥ç®—æ³•å¿…é¡»å§‹ç»ˆåœ¨æœ‰é™æ•°é‡çš„æ­¥éª¤åç»ˆæ­¢ã€‚ä¾‹å¦‚ï¼Œåœ¨é€’å½’å’Œå¾ªç¯çš„æƒ…å†µä¸‹ï¼Œä½ çš„ç®—æ³•åº”ç»ˆæ­¢ï¼Œå¦åˆ™æœ€ç»ˆå°†åˆ†åˆ«äº§ç”Ÿå †æ ˆæº¢å‡ºå’Œæ— é™å¾ªç¯çš„æƒ…å†µã€‚</li><li><strong>æ•ˆç‡ï¼š</strong>å§‹ç»ˆä½¿ç”¨é«˜æ•ˆç®—æ³•ã€‚æ•ˆç‡ä¸€è¯æ˜¯æŒ‡ï¼š<ol><li>è¯¥ç®—æ³•åº”æœ‰æ•ˆåœ°ä½¿ç”¨ç³»ç»Ÿå¯ç”¨çš„èµ„æºã€‚</li><li>è®¡ç®—æ—¶é—´ï¼ˆç”Ÿæˆå¯¹åº”äºç‰¹å®šè¾“å…¥çš„è¾“å‡ºæ‰€èŠ±è´¹çš„æ—¶é—´ï¼‰åº”å°½å¯èƒ½çŸ­ã€‚</li><li>ç®—æ³•ä½¿ç”¨çš„å†…å­˜ä¹Ÿåº”å°½å¯èƒ½å°‘ã€‚é€šå¸¸ï¼Œåœ¨è®¡ç®—æ—¶é—´å’Œå†…å­˜ä¹‹é—´éœ€è¦æƒè¡¡ã€‚å› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦ç¡®å®šæ—¶é—´æ˜¯å¦æ¯”ç©ºé—´é‡è¦ï¼Œåä¹‹äº¦ç„¶ï¼Œç„¶åç›¸åº”åœ°ç¼–å†™ç®—æ³•ã€‚</li></ol></li></ul><p>å› æ­¤ï¼Œæˆ‘ä»¬å·²ç»çœ‹åˆ°äº†å¯ç”¨äºè¯„ä¼°ç®—æ³•çš„ä¸‰ä¸ªå› ç´ ã€‚åœ¨è¿™ä¸‰ä¸ªå› ç´ ä¸­ï¼Œæœ€é‡è¦çš„å› ç´ æ˜¯ç®—æ³•çš„æ•ˆç‡ã€‚</p><span id="more"></span><h2 id="ç®—æ³•æ•ˆç‡"><a href="#ç®—æ³•æ•ˆç‡" class="headerlink" title="ç®—æ³•æ•ˆç‡"></a>ç®—æ³•æ•ˆç‡</h2><p>ç®—æ³•çš„æ•ˆç‡ä¸»è¦ç”±ä¸¤ä¸ªå› ç´ å®šä¹‰ï¼Œå³ç©ºé—´å’Œæ—¶é—´ã€‚ä¸€ç§å¥½çš„ç®—æ³•æ˜¯å ç”¨æ›´å°‘çš„æ—¶é—´å’Œæ›´å°‘çš„ç©ºé—´ï¼Œä½†æ˜¯ä¸å¯èƒ½ä¸€ç›´è¿™æ ·ã€‚åœ¨æ—¶é—´å’Œç©ºé—´ä¹‹é—´éœ€è¦æƒè¡¡ã€‚å¦‚æœè¦å‡å°‘æ—¶é—´ï¼Œåˆ™ç©ºé—´å¯èƒ½ä¼šå¢åŠ ã€‚åŒæ ·ï¼Œå¦‚æœè¦å‡å°‘ç©ºé—´ï¼Œåˆ™æ—¶é—´å¯èƒ½ä¼šå¢åŠ ã€‚å› æ­¤ï¼Œä½ å¿…é¡»åœ¨ç©ºé—´æˆ–æ—¶é—´ä¸Šå¦¥åã€‚è®©æˆ‘ä»¬è¿›ä¸€æ­¥äº†è§£ç®—æ³•çš„æ—¶ç©ºå¤æ‚åº¦ã€‚</p><h2 id="ç©ºé—´å¤æ‚åº¦"><a href="#ç©ºé—´å¤æ‚åº¦" class="headerlink" title="ç©ºé—´å¤æ‚åº¦"></a>ç©ºé—´å¤æ‚åº¦</h2><p>ç®—æ³•çš„ç©ºé—´å¤æ‚åº¦è¡¨ç¤ºå¯¹äºå„ç§è¾“å…¥å¤§å°ï¼Œç®—æ³•ç”¨äºå…¶å·¥ä½œæ‰€ä½¿ç”¨æˆ–éœ€è¦çš„æ€»ç©ºé—´ã€‚ä¾‹å¦‚ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">List list = <span class="keyword">new</span> ArrayList();</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">    list.add(i); </span><br></pre></td></tr></table></figure><p>åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬æ­£åœ¨å¾ªç¯å‘åˆ—è¡¨ä¸­åŠ å…¥æ•°æ®ã€‚å› æ­¤ï¼Œä¸Šè¿°ä»£ç çš„ç©ºé—´å¤æ‚åº¦çº¦ä¸ºâ€œ nâ€ï¼Œå³ï¼Œå¦‚æœnå¢åŠ ï¼Œåˆ™ç©ºé—´éœ€æ±‚ä¹Ÿå°†ç›¸åº”å¢åŠ ã€‚</p><p>å³ä½¿åœ¨åˆ›å»ºå˜é‡æ—¶ï¼Œä¹Ÿéœ€è¦ä¸€äº›ç©ºé—´æ¥è¿è¡Œç®—æ³•ã€‚ç®—æ³•æ‰€éœ€çš„æ‰€æœ‰ç©ºé—´ç»Ÿç§°ä¸ºç®—æ³•çš„ç©ºé—´å¤æ‚åº¦ã€‚</p><h2 id="æ—¶é—´å¤æ‚åº¦"><a href="#æ—¶é—´å¤æ‚åº¦" class="headerlink" title="æ—¶é—´å¤æ‚åº¦"></a>æ—¶é—´å¤æ‚åº¦</h2><p>æ—¶é—´å¤æ‚åº¦æ˜¯ç®—æ³•é’ˆå¯¹<strong>è¾“å…¥å¤§å°</strong>æ‰§è¡Œçš„ç”¨äºå®Œæˆå…¶ä»»åŠ¡çš„æ“ä½œæ•°ï¼ˆè€ƒè™‘åˆ°æ¯ä¸ªæ“ä½œèŠ±è´¹ç›¸åŒçš„æ—¶é—´é‡ï¼‰ã€‚ä»¥æœ€å°‘æ•°é‡çš„æ“ä½œæ‰§è¡Œä»»åŠ¡çš„ç®—æ³•è¢«è®¤ä¸ºæ˜¯æ•ˆç‡æœ€é«˜çš„ç®—æ³•ã€‚</p><blockquote><p>æ—¶é—´å¤æ‚åº¦æ˜¯æŒ‡æ‰§è¡Œè¿™ä¸ªç®—æ³•æ‰€éœ€è¦çš„è®¡ç®—å·¥ä½œé‡ï¼Œå…¶å¤æ‚åº¦åæ˜ äº†ç¨‹åºæ‰§è¡Œæ—¶é—´<strong>ã€Œéšè¾“å…¥è§„æ¨¡å¢é•¿è€Œå¢é•¿çš„é‡çº§ã€</strong>ï¼Œåœ¨å¾ˆå¤§ç¨‹åº¦ä¸Šèƒ½å¾ˆå¥½åœ°åæ˜ å‡ºç®—æ³•çš„ä¼˜åŠ£ä¸å¦ã€‚ä¸€ä¸ªç®—æ³•èŠ±è´¹çš„æ—¶é—´ä¸ç®—æ³•ä¸­è¯­å¥çš„<strong>ã€Œæ‰§è¡Œæ¬¡æ•°æˆæ­£æ¯”ã€</strong>ï¼Œæ‰§è¡Œæ¬¡æ•°è¶Šå¤šï¼ŒèŠ±è´¹çš„æ—¶é—´å°±è¶Šå¤šã€‚ä¸€ä¸ªç®—æ³•ä¸­çš„æ‰§è¡Œæ¬¡æ•°ç§°ä¸ºè¯­å¥é¢‘åº¦æˆ–æ—¶é—´é¢‘åº¦ï¼Œè®°ä¸ºT(n)ï¼Œå…¶ä¸­nç§°ä¸ºé—®é¢˜çš„è§„æ¨¡ï¼Œå½“nä¸æ–­å˜åŒ–æ—¶ï¼Œå®ƒæ‰€å‘ˆç°å‡ºæ¥çš„è§„å¾‹ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºæ—¶é—´å¤æ‚åº¦ã€‚æ¯”å¦‚ï¼šT(n) = 3n^2ä¸ T(n) = 5n^2*3nï¼Œè™½ç„¶ç®—æ³•çš„æ—¶é—´é¢‘åº¦ä¸ä¸€æ ·ï¼Œä½†ä»–ä»¬çš„æ—¶é—´å¤æ‚åº¦å´æ˜¯ä¸€æ ·çš„ï¼Œ<strong>ã€Œæ—¶é—´å¤æ‚åº¦åªå…³æ³¨æœ€é«˜æ•°é‡çº§ï¼Œä¸”ä¸ä¹‹ç³»æ•°ä¹Ÿæ²¡æœ‰å…³ç³»ã€</strong>ã€‚</p></blockquote><p>ç®—æ³•æ‰€èŠ±è´¹çš„æ—¶é—´è¿˜å–å†³äº<strong>ä½ æ‰€ä½¿ç”¨çš„ç³»ç»Ÿçš„è®¡ç®—é€Ÿåº¦</strong>ï¼Œä½†æ˜¯æˆ‘ä»¬å¿½ç•¥äº†è¿™äº›å¤–éƒ¨å› ç´ ï¼Œå¹¶ä¸”ä»…è€ƒè™‘ç›¸å¯¹äºè¾“å…¥å¤§å°ï¼Œæ‰§è¡Œç‰¹å®šè¯­å¥çš„æ¬¡æ•°ã€‚å‡è®¾æ‰§è¡Œä¸€æ¡è¯­å¥éœ€è¦çš„æ—¶é—´ä¸º1ç§’ï¼Œé‚£ä¹ˆæ‰§è¡Œnæ¡è¯­å¥è¦èŠ±è´¹çš„æ—¶é—´ä¸ºnç§’ã€‚</p><p>å‡è®¾ä½ é‡åˆ°ä¸€ä¸ªé—®é¢˜ï¼Œå¹¶ä¸”é’ˆå¯¹åŒä¸€é—®é¢˜ç¼–å†™äº†ä¸‰ç§ç®—æ³•ã€‚ç°åœ¨ï¼Œä½ éœ€è¦ä»è¿™ä¸‰ç§ç®—æ³•ä¸­é€‰æ‹©ä¸€ç§ã€‚ä½ ä¼šæ€ä¹ˆåšï¼Ÿ</p><ul><li>ä½ å¯ä»¥åšçš„ä¸€ä»¶äº‹å°±æ˜¯åœ¨ä¸‰å°ä¸åŒçš„è®¡ç®—æœºä¸Šè¿è¡Œæ‰€æœ‰ä¸‰ç§ç®—æ³•ï¼Œæä¾›ç›¸åŒçš„è¾“å…¥ï¼Œæ‰¾åˆ°æ‰€æœ‰ä¸‰ç§ç®—æ³•æ‰€èŠ±è´¹çš„æ—¶é—´ï¼Œç„¶åé€‰æ‹©èŠ±è´¹æœ€å°‘æ—¶é—´çš„ä¸€ç§ã€‚å¯ä»¥å— ä¸ï¼Œæ‰€æœ‰ç³»ç»Ÿéƒ½å¯èƒ½ä½¿ç”¨æŸäº›ä¸åŒçš„å¤„ç†å™¨ã€‚å› æ­¤ï¼Œå¤„ç†é€Ÿåº¦å¯èƒ½ä¼šæœ‰æ‰€ä¸åŒã€‚å› æ­¤ï¼Œæˆ‘ä»¬ä¸èƒ½ä½¿ç”¨è¿™ç§æ–¹æ³•æ¥æ‰¾åˆ°æœ€æœ‰æ•ˆçš„ç®—æ³•ã€‚</li><li>ä½ å¯ä»¥åšçš„å¦ä¸€ä»¶äº‹æ˜¯åœ¨åŒä¸€å°è®¡ç®—æœºä¸Šè¿è¡Œè¿™ä¸‰ç§ç®—æ³•ï¼Œå¹¶å°è¯•æ‰¾å‡ºç®—æ³•èŠ±è´¹çš„æ—¶é—´å¹¶é€‰æ‹©æœ€ä½³çš„æ—¶é—´ã€‚ä½†æ˜¯åœ¨è¿™é‡Œï¼Œä½ å¯èƒ½ä¼šå¾—åˆ°é”™è¯¯çš„ç»“æœï¼Œå› ä¸ºåœ¨æ‰§è¡Œç¨‹åºæ—¶ï¼Œè¿˜æœ‰å…¶ä»–ä¸ä½ çš„ç¨‹åºä¸€èµ·æ‰§è¡Œçš„äº‹æƒ…ï¼Œå› æ­¤ä½ å¯èƒ½ä¼šè·å¾—é”™è¯¯çš„æ—¶é—´ã€‚</li></ul><p><strong>æ³¨æ„ï¼š</strong>æ­¤å¤„è¦æ³¨æ„çš„ä¸€ä»¶äº‹æ˜¯ï¼Œæˆ‘ä»¬æ­£åœ¨æŸ¥æ‰¾åŒä¸€è¾“å…¥çš„ä¸åŒç®—æ³•æ‰€èŠ±è´¹çš„æ—¶é—´ï¼Œå› ä¸ºå¦‚æœæˆ‘ä»¬æ›´æ”¹è¾“å…¥ï¼Œé‚£ä¹ˆä¸æ•ˆç‡è¾ƒä½çš„ç®—æ³•ç›¸æ¯”ï¼Œæœ‰æ•ˆçš„ç®—æ³•å¯èƒ½ä¼šèŠ±è´¹æ›´å¤šçš„æ—¶é—´ï¼Œå› ä¸ºè¾“å…¥å¤§å°ä¸¤ç§ç®—æ³•éƒ½ä¸åŒã€‚</p><p>å› æ­¤ï¼Œæˆ‘ä»¬å·²ç»çœ‹åˆ°ï¼Œæ— æ³•é€šè¿‡è®¡ç®—åœ¨ç‰¹å®šç³»ç»Ÿä¸­æ‰§è¡Œç®—æ³•æ‰€èŠ±è´¹çš„æ—¶é—´æ¥åˆ¤æ–­ç®—æ³•ã€‚æˆ‘ä»¬éœ€è¦ä¸€äº›æ ‡å‡†çš„ç¬¦å·æ¥åˆ†æç®—æ³•ã€‚æˆ‘ä»¬ä½¿ç”¨<em><strong>æ¸è¿‘ç¬¦å·</strong></em>æ¥åˆ†æä»»ä½•ç®—æ³•ï¼Œå¹¶åœ¨æ­¤åŸºç¡€ä¸Šæ‰¾åˆ°æœ€æœ‰æ•ˆçš„ç®—æ³•ã€‚åœ¨è¿™é‡Œï¼Œä»¥æ¸è¿‘ç¬¦å·è¡¨ç¤ºï¼Œæˆ‘ä»¬ä¸è€ƒè™‘ç³»ç»Ÿé…ç½®ï¼Œè€Œæ˜¯è€ƒè™‘è¾“å…¥çš„<strong>å¢é•¿é¡ºåº</strong>ã€‚æˆ‘ä»¬å°è¯•æ‰¾å‡ºåœ¨å¢åŠ /å‡å°‘è¾“å…¥å¤§å°ä¹‹åç®—æ³•æ‰€èŠ±è´¹çš„æ—¶é—´æˆ–ç©ºé—´å°†å¦‚ä½•å¢åŠ /å‡å°‘ã€‚</p><p>æœ‰ä¸‰ç§æ¸è¿‘ç¬¦å·ç”¨äºè¡¨ç¤ºç®—æ³•çš„æ—¶é—´å¤æ‚åº¦ã€‚ä»–ä»¬æ˜¯ï¼š</p><ul><li><strong>Î˜è®°å·ï¼ˆthetaï¼‰</strong></li><li><strong>å¤§Oè¡¨ç¤ºæ³•</strong></li><li><strong>Î©è¡¨ç¤ºæ³•</strong></li></ul><p>åœ¨äº†è§£è¿™ä¸‰ç§æ¸è¿‘ç¬¦å·ä¹‹å‰ï¼Œæˆ‘ä»¬åº”è¯¥äº†è§£ç®—æ³•çš„æœ€ä½³ï¼Œå¹³å‡å’Œæœ€å·®æƒ…å†µã€‚</p><h3 id="æœ€ä½³æƒ…å†µï¼Œå¹³å‡æƒ…å†µå’Œæœ€åæƒ…å†µ"><a href="#æœ€ä½³æƒ…å†µï¼Œå¹³å‡æƒ…å†µå’Œæœ€åæƒ…å†µ" class="headerlink" title="æœ€ä½³æƒ…å†µï¼Œå¹³å‡æƒ…å†µå’Œæœ€åæƒ…å†µ"></a>æœ€ä½³æƒ…å†µï¼Œå¹³å‡æƒ…å†µå’Œæœ€åæƒ…å†µ</h3><p>å¯¹äºä¸åŒçš„è¾“å…¥ï¼Œç®—æ³•å¯ä»¥å…·æœ‰ä¸åŒçš„æ—¶é—´ã€‚æŸäº›è¾“å…¥å¯èƒ½éœ€è¦1ç§’ï¼Œå…¶ä»–è¾“å…¥å¯èƒ½éœ€è¦10ç§’ã€‚</p><blockquote><p><strong>ä¾‹å¦‚ï¼š</strong>æˆ‘ä»¬æœ‰ä¸€ä¸ªåä¸ºâ€œ <em>arrâ€çš„</em>æ•°ç»„å’Œä¸€ä¸ªæ•´æ•°â€œ <em>k</em> â€ã€‚æˆ‘ä»¬éœ€è¦æŸ¥æ‰¾æ•°ç»„â€œ <em>arr</em> â€ä¸­æ˜¯å¦å­˜åœ¨æ•´æ•°â€œ <em>k</em> â€ ï¼Ÿå¦‚æœæ•´æ•°å­˜åœ¨ï¼Œåˆ™è¿”å›1ï¼Œå…¶ä»–è¿”å›0ã€‚å°è¯•ä¸ºè¯¥é—®é¢˜åˆ›å»ºç®—æ³•ã€‚</p></blockquote><p>å¯ä»¥ä»ä¸Šè¿°é—®é¢˜ä¸­æå–ä»¥ä¸‹ä¿¡æ¯ï¼š</p><ul><li><strong>è¾“å…¥ï¼š</strong>è¿™é‡Œçš„è¾“å…¥æ˜¯ä¸€ä¸ªå¤§å°ä¸ºnçš„æ•´æ•°æ•°ç»„ï¼Œæˆ‘ä»¬éœ€è¦åœ¨è¯¥æ•°ç»„ä¸­æœç´¢ä¸€ä¸ªæ•´æ•°kã€‚</li><li><strong>è¾“å‡ºï¼š</strong>å¦‚æœåœ¨æ•°ç»„ä¸­æ‰¾åˆ°å…ƒç´ â€œ kâ€ï¼Œåˆ™è¿”å›1ï¼Œå¦åˆ™è¿”å›0ã€‚</li></ul><p>ç°åœ¨ï¼Œä¸Šè¿°é—®é¢˜çš„ä¸€ç§å¯èƒ½è§£å†³æ–¹æ¡ˆæ˜¯çº¿æ€§æœç´¢ï¼Œå³éå†æ•°ç»„çš„æ¯ä¸ªå…ƒç´ ï¼Œå¹¶å°†è¯¥å…ƒç´ ä¸â€œ kâ€è¿›è¡Œæ¯”è¾ƒã€‚å¦‚æœç­‰äºâ€œ kâ€ï¼Œåˆ™è¿”å›1ï¼Œå¦åˆ™ï¼Œç»§ç»­æ¯”è¾ƒæ•°ç»„ä¸­çš„æ›´å¤šå…ƒç´ ï¼Œå¦‚æœåˆ°è¾¾æ•°ç»„çš„æœ«å°¾å´æ²¡æœ‰æ‰¾åˆ°ä»»ä½•å…ƒç´ ï¼Œåˆ™è¿”å›0ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@param</span> arr integer æ•°ç»„</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@param</span> n æ•°ç»„é•¿åº¦</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@param</span> k è¦æŸ¥æ‰¾çš„å€¼</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">searchK</span><span class="params">(<span class="keyword">int</span> arr[], <span class="keyword">int</span> n, <span class="keyword">int</span> k)</span></span>&#123;</span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">          <span class="keyword">if</span> (arr[i] == k)</span><br><span class="line">              <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><p>åˆ†æä¸Šè¿°ä»£ç </p><ul><li>i = 0  æ‰§è¡Œä¸€æ¬¡</li><li>i &lt; n  æ‰§è¡Œ n+1 æ¬¡</li><li>i++    æ‰§è¡Œ n æ¬¡</li><li>if(arr[i] == k) æ‰§è¡Œ n æ¬¡(å¦‚æœâ€kâ€æ²¡åœ¨æ•°ç»„é‡Œ)</li><li>return 1  æ‰§è¡Œ 1 æ¬¡(å¦‚æœâ€kâ€åœ¨æ•°ç»„é‡Œ)</li><li>return 0  æ‰§è¡Œ 1 æ¬¡(å¦‚æœâ€kâ€æ²¡åœ¨æ•°ç»„é‡Œ)</li></ul><p>ä»£ç ä¸­çš„æ¯ä¸ªè¯­å¥éƒ½éœ€è¦å›ºå®šçš„æ—¶é—´ï¼Œæˆ‘ä»¬è®¾èŠ±è´¹çš„æ—¶é—´ä¸ºâ€œ Câ€ã€‚å› æ­¤ï¼Œæ— è®ºä½•æ—¶å£°æ˜ä¸€ä¸ªæ•´æ•°ï¼Œæ›´æ”¹æŸäº›æ•´æ•°æˆ–å…¶ä»–å˜é‡çš„å€¼éƒ½éœ€è¦èŠ±è´¹å›ºå®šæ—¶é—´ï¼Œè€Œæ¯”è¾ƒä¸¤ä¸ªå˜é‡ä¹Ÿéœ€è¦èŠ±è´¹å›ºå®šæ—¶é—´ã€‚å› æ­¤ï¼Œå¦‚æœä¸€æ¡è¯­å¥èŠ±è´¹çš„æ—¶é—´ä¸ºâ€œ Câ€ï¼Œè€Œæ‰§è¡Œäº†â€œ Nâ€æ¬¡ï¼Œåˆ™å®ƒå°†èŠ±è´¹C * Nçš„æ—¶é—´ã€‚ç°åœ¨ï¼Œè€ƒè™‘ä¸€ä¸‹æˆ‘ä»¬åˆšåˆšç¼–å†™çš„ä¸Šè¿°ç®—æ³•çš„ä»¥ä¸‹è¾“å…¥ï¼š</p><p><strong>æ³¨æ„ï¼š</strong>è¿™é‡Œæˆ‘ä»¬å‡è®¾æ¯ä¸ªè¯­å¥è¦èŠ±è´¹1ç§’çš„æ—¶é—´æ¥æ‰§è¡Œã€‚</p><ul><li>å¦‚æœè¾“å…¥æ•°ç»„ä¸º[1ã€2ã€3ã€4ã€5]ï¼Œå¹¶ä¸”ä½ æƒ³æŸ¥æ‰¾æ•°ç»„ä¸­æ˜¯å¦å­˜åœ¨â€œ 1â€ï¼Œåˆ™ä»£ç çš„ if æ¡ä»¶å°†æ‰§è¡Œ1æ¬¡ï¼Œå¹¶æ‰¾åˆ°å…ƒç´ 1åœ¨æ•°ç»„ä¸­ã€‚å› æ­¤ï¼Œæ­¤å¤„çš„ifæ¡ä»¶å°†èŠ±è´¹1ç§’ã€‚</li><li>å¦‚æœè¾“å…¥æ•°ç»„ä¸º[1ã€2ã€3ã€4ã€5]ï¼Œå¹¶ä¸”ä½ æƒ³æŸ¥æ‰¾æ•°ç»„ä¸­æ˜¯å¦å­˜åœ¨â€œ 3â€ï¼Œåˆ™ä»£ç çš„ if æ¡ä»¶å°†æ‰§è¡Œ3æ¬¡ï¼Œå¹¶æ‰¾åˆ°å…ƒç´ 3åœ¨æ•°ç»„ä¸­ã€‚å› æ­¤ï¼Œæ­¤å¤„çš„ifæ¡ä»¶å°†èŠ±è´¹3ç§’ã€‚</li><li>å¦‚æœè¾“å…¥æ•°ç»„ä¸º[1ã€2ã€3ã€4ã€5]ï¼Œå¹¶ä¸”ä½ æƒ³æŸ¥æ‰¾æ•°ç»„ä¸­æ˜¯å¦å­˜åœ¨â€œ 6â€ï¼Œåˆ™ä»£ç çš„ if æ¡ä»¶å°†æ‰§è¡Œ5æ¬¡ï¼Œå¹¶æ‰¾åˆ°æ•°ç»„ä¸­å…ƒç´ 6ä¸å­˜åœ¨ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ç®—æ³•å°†è¿”å›0ã€‚å› æ­¤ï¼Œæ­¤å¤„çš„ifæ¡ä»¶éœ€è¦5ç§’é’Ÿã€‚</li></ul><p>å¦‚ä½ æ‰€è§ï¼Œå¯¹äºç›¸åŒçš„è¾“å…¥æ•°ç»„ï¼Œå¯¹äºâ€œ kâ€çš„ä¸åŒå€¼ï¼Œæˆ‘ä»¬å…·æœ‰ä¸åŒçš„æ—¶é—´ã€‚å› æ­¤ï¼Œè¿™å¯ä»¥åˆ†ä¸ºä¸‰ç§æƒ…å†µï¼š</p><ul><li><strong>æœ€ä½³æƒ…å†µï¼š</strong>è¿™æ˜¯ç®—æ³•è¿è¡Œæ—¶é—´çš„ä¸‹é™ã€‚æˆ‘ä»¬å¿…é¡»çŸ¥é“å¯¼è‡´æœ€å°‘æ•°é‡çš„æ“ä½œæ‰§è¡Œçš„æƒ…å†µã€‚åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬çš„æ•°ç»„ä¸º[1ã€2ã€3ã€4ã€5]ï¼Œæˆ‘ä»¬æ­£åœ¨æŸ¥æ‰¾æ•°ç»„ä¸­æ˜¯å¦å­˜åœ¨â€œ 1â€ã€‚å› æ­¤ï¼Œåœ¨è¿™é‡Œï¼Œä»…éœ€è¿›è¡Œä¸€æ¬¡æ¯”è¾ƒï¼Œä½ å°±ä¼šçŸ¥é“ä½ çš„å…ƒç´ å­˜åœ¨äºæ•°ç»„ä¸­ã€‚å› æ­¤ï¼Œè¿™æ˜¯ç®—æ³•çš„æœ€ä½³æƒ…å†µã€‚</li><li><strong>å¹³å‡æƒ…å†µï¼š</strong>æˆ‘ä»¬è®¡ç®—æ‰€æœ‰å¯èƒ½è¾“å…¥çš„è¿è¡Œæ—¶é—´ï¼Œå°†æ‰€æœ‰è®¡ç®—å‡ºçš„å€¼ç›¸åŠ ï¼Œç„¶åå°†æ€»å’Œé™¤ä»¥è¾“å…¥æ€»æ•°ã€‚æˆ‘ä»¬å¿…é¡»çŸ¥é“ï¼ˆæˆ–é¢„æµ‹ï¼‰æ¡ˆä»¶çš„åˆ†å¸ƒã€‚</li><li><strong>æœ€åçš„æƒ…å†µï¼š</strong>è¿™æ˜¯ç®—æ³•è¿è¡Œæ—¶é—´çš„ä¸Šé™ã€‚æˆ‘ä»¬å¿…é¡»çŸ¥é“å¯¼è‡´æœ€å¤§æ•°é‡çš„æ“ä½œæ‰§è¡Œçš„æƒ…å†µã€‚åœ¨æˆ‘ä»¬çš„ç¤ºä¾‹ä¸­ï¼Œæœ€åçš„æƒ…å†µæ˜¯ç»™å®šçš„æ•°ç»„ä¸º[1ã€2ã€3ã€4ã€5]ï¼Œç„¶åå°è¯•æŸ¥æ‰¾æ•°ç»„ä¸­æ˜¯å¦å­˜åœ¨å…ƒç´ â€œ 6â€ã€‚æ­¤å¤„ï¼Œå¾ªç¯çš„ifæ¡ä»¶å°†æ‰§è¡Œ5æ¬¡ï¼Œç„¶åç®—æ³•å°†ç»™å‡ºâ€œ 0â€ä½œä¸ºè¾“å‡ºã€‚</li></ul><p>å› æ­¤ï¼Œæˆ‘ä»¬äº†è§£äº†ç®—æ³•çš„æœ€ä½³ï¼Œå¹³å‡å’Œæœ€å·®æƒ…å†µã€‚ç°åœ¨ï¼Œè®©æˆ‘ä»¬å›åˆ°æ¸è¿‘ç¬¦å·ä¸­ï¼Œæˆ‘ä»¬çœ‹åˆ°æˆ‘ä»¬ä½¿ç”¨ä¸‰ç§æ¸è¿›ç¬¦å·æ¥è¡¨ç¤ºç®—æ³•çš„å¤æ‚æ€§ï¼Œå³Î˜è¡¨ç¤ºæ³•ï¼ˆthetaï¼‰ï¼ŒÎ©è¡¨ç¤ºæ³•ï¼ŒBig Oè¡¨ç¤ºæ³•ã€‚</p><p><strong>æ³¨æ„ï¼š</strong>åœ¨æ¸è¿›åˆ†æä¸­ï¼Œæˆ‘ä»¬é€šå¸¸å¤„ç†è¾ƒå¤§çš„è¾“å…¥é‡ã€‚</p><h3 id="Î˜è®°å·ï¼ˆthetaï¼‰"><a href="#Î˜è®°å·ï¼ˆthetaï¼‰" class="headerlink" title="Î˜è®°å·ï¼ˆthetaï¼‰"></a>Î˜è®°å·ï¼ˆthetaï¼‰</h3><p>Î˜ç¬¦å·ç”¨äºæŸ¥æ‰¾ç®—æ³•çš„å¹³å‡ç•Œé™ï¼Œå³å®ƒå®šä¹‰äº†ä¸Šé™å’Œä¸‹é™ï¼Œä½ çš„ç®—æ³•å°†ä½äºè¿™äº›çº§åˆ«ä¹‹é—´ã€‚</p><h3 id="Î©è¡¨ç¤ºæ³•"><a href="#Î©è¡¨ç¤ºæ³•" class="headerlink" title="Î©è¡¨ç¤ºæ³•"></a>Î©è¡¨ç¤ºæ³•</h3><p>Î©è¡¨ç¤ºç®—æ³•çš„ä¸‹é™ï¼Œå³ç®—æ³•èŠ±è´¹çš„æ—¶é—´ä¸èƒ½ä½äºæ­¤æ—¶é—´ã€‚æ¢å¥è¯è¯´ï¼Œè¿™æ˜¯ç®—æ³•è¿”å›ç»“æœçš„æœ€å¿«æ—¶é—´ã€‚æä¾›æœ€ä½³æƒ…å†µè¾“å…¥æ—¶ï¼Œç®—æ³•èŠ±è´¹çš„æ—¶é—´ã€‚</p><h3 id="å¤§Oè¡¨ç¤ºæ³•"><a href="#å¤§Oè¡¨ç¤ºæ³•" class="headerlink" title="å¤§Oè¡¨ç¤ºæ³•"></a>å¤§Oè¡¨ç¤ºæ³•</h3><p>å¤§Oè¡¨ç¤ºæ³•å®šä¹‰äº†ä»»ä½•ç®—æ³•çš„ä¸Šé™ï¼Œå³ç®—æ³•æ‰€èŠ±è´¹çš„æ—¶é—´ä¸èƒ½è¶…è¿‡æ­¤æ—¶é—´ã€‚æ¢å¥è¯è¯´ï¼Œæˆ‘ä»¬å¯ä»¥è¯´å¤§Oè¡¨ç¤ºæ³•è¡¨ç¤ºç®—æ³•èŠ±è´¹çš„æœ€å¤§æ—¶é—´æˆ–ç®—æ³•çš„æœ€åæƒ…å†µä¸‹çš„æ—¶é—´å¤æ‚åº¦ã€‚å› æ­¤ï¼Œå¯¹äºç®—æ³•çš„æ—¶é—´å¤æ‚åº¦è€Œè¨€ï¼Œå¤§Oè¡¨ç¤ºæ³•æ˜¯æœ€å¸¸ç”¨çš„è¡¨ç¤ºæ³•ã€‚</p><blockquote><p>å¦‚æœä¸€ä¸ªé—®é¢˜çš„è§„æ¨¡æ˜¯nï¼Œè§£è¿™ä¸€é—®é¢˜çš„æŸä¸€ç®—æ³•æ‰€éœ€è¦çš„æ—¶é—´ä¸ºT(n)ã€‚T(n)ç§°ä¸ºè¿™ä¸€ç®—æ³•çš„â€œæ—¶é—´å¤æ‚åº¦â€ã€‚å½“è¾“å…¥é‡né€æ¸åŠ å¤§æ—¶ï¼Œæ—¶é—´å¤æ‚åº¦çš„æé™æƒ…å½¢ç§°ä¸ºç®—æ³•çš„â€œæ¸è¿‘æ—¶é—´å¤æ‚åº¦â€ã€‚ç©ºé—´å¤æ‚åº¦åŒç†ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œä»¤ f(n) = 2n^2âœ–ï¸3nï¼ŒO(f(n)) = O(2n^2 âœ–ï¸n)=O(n^2)ã€‚</p></blockquote><p>åŸæ–‡é“¾æ¥: <span class="exturl" data-url="aHR0cHM6Ly9hZnRlcmFjYWRlbXkuY29tL2Jsb2cvdGltZS1hbmQtc3BhY2UtY29tcGxleGl0eS1hbmFseXNpcy1vZi1hbGdvcml0aG0=">https://afteracademy.com/blog/time-and-space-complexity-analysis-of-algorithm<i class="fa fa-external-link-alt"></i></span></p>]]></content>
    
    
    <summary type="html">&lt;h2 id=&quot;ä»€ä¹ˆæ˜¯ç®—æ³•ï¼Ÿ&quot;&gt;&lt;a href=&quot;#ä»€ä¹ˆæ˜¯ç®—æ³•ï¼Ÿ&quot; class=&quot;headerlink&quot; title=&quot;ä»€ä¹ˆæ˜¯ç®—æ³•ï¼Ÿ&quot;&gt;&lt;/a&gt;ä»€ä¹ˆæ˜¯ç®—æ³•ï¼Ÿ&lt;/h2&gt;&lt;p&gt;åœ¨è®¡ç®—æœºç§‘å­¦ä¸­ï¼Œæ¯å½“æˆ‘ä»¬è¦è§£å†³ä¸€äº›è®¡ç®—é—®é¢˜æ—¶ï¼Œæˆ‘ä»¬éƒ½ä¼šå®šä¹‰ä¸€ç»„è§£å†³è¯¥é—®é¢˜éœ€è¦éµå¾ªçš„æ­¥éª¤ã€‚è¿™äº›æ­¥éª¤ç»Ÿç§°ä¸ºç®—æ³•ã€‚&lt;/p&gt;
&lt;h2 id=&quot;å¦‚ä½•åŒºåˆ†ç®—æ³•çš„å¥½åï¼Ÿ&quot;&gt;&lt;a href=&quot;#å¦‚ä½•åŒºåˆ†ç®—æ³•çš„å¥½åï¼Ÿ&quot; class=&quot;headerlink&quot; title=&quot;å¦‚ä½•åŒºåˆ†ç®—æ³•çš„å¥½åï¼Ÿ&quot;&gt;&lt;/a&gt;å¦‚ä½•åŒºåˆ†ç®—æ³•çš„å¥½åï¼Ÿ&lt;/h2&gt;&lt;p&gt;é’ˆå¯¹ç‰¹å®šé—®é¢˜å¯ä»¥æœ‰å¾ˆå¤šç®—æ³•ã€‚é‚£ä¹ˆï¼Œå¦‚ä½•åŒºåˆ†ç®—æ³•çš„å¥½åå‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;è®©æˆ‘ä»¬äº†è§£ä¸€ä¸ªå¥½çš„ç®—æ³•çš„å±æ€§ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;æ­£ç¡®æ€§ï¼š&lt;/strong&gt;å¦‚æœç®—æ³•å¯¹äºæ¯ç»„è¾“å…¥éƒ½ä»¥æ­£ç¡®çš„è¾“å‡ºåœæ­¢è¿è¡Œï¼Œåˆ™è¯¥ç®—æ³•è¢«è®¤ä¸ºæ˜¯æ­£ç¡®çš„ã€‚å¦‚æœæ²¡æœ‰ä¸ºä»»ä½•ç‰¹å®šçš„è¾“å…¥é›†è·å¾—æ­£ç¡®çš„è¾“å‡ºï¼Œåˆ™ä½ çš„ç®—æ³•æ˜¯é”™è¯¯çš„ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æœ‰é™æ€§ï¼š&lt;/strong&gt;é€šå¸¸ï¼Œäººä»¬ä¼šå¿½ç•¥è¿™ä¸€ç‚¹ï¼Œä½†è¿™æ˜¯ç®—æ³•è¯„ä¼°ä¸­çš„é‡è¦å› ç´ ä¹‹ä¸€ã€‚è¯¥ç®—æ³•å¿…é¡»å§‹ç»ˆåœ¨æœ‰é™æ•°é‡çš„æ­¥éª¤åç»ˆæ­¢ã€‚ä¾‹å¦‚ï¼Œåœ¨é€’å½’å’Œå¾ªç¯çš„æƒ…å†µä¸‹ï¼Œä½ çš„ç®—æ³•åº”ç»ˆæ­¢ï¼Œå¦åˆ™æœ€ç»ˆå°†åˆ†åˆ«äº§ç”Ÿå †æ ˆæº¢å‡ºå’Œæ— é™å¾ªç¯çš„æƒ…å†µã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ•ˆç‡ï¼š&lt;/strong&gt;å§‹ç»ˆä½¿ç”¨é«˜æ•ˆç®—æ³•ã€‚æ•ˆç‡ä¸€è¯æ˜¯æŒ‡ï¼š&lt;ol&gt;
&lt;li&gt;è¯¥ç®—æ³•åº”æœ‰æ•ˆåœ°ä½¿ç”¨ç³»ç»Ÿå¯ç”¨çš„èµ„æºã€‚&lt;/li&gt;
&lt;li&gt;è®¡ç®—æ—¶é—´ï¼ˆç”Ÿæˆå¯¹åº”äºç‰¹å®šè¾“å…¥çš„è¾“å‡ºæ‰€èŠ±è´¹çš„æ—¶é—´ï¼‰åº”å°½å¯èƒ½çŸ­ã€‚&lt;/li&gt;
&lt;li&gt;ç®—æ³•ä½¿ç”¨çš„å†…å­˜ä¹Ÿåº”å°½å¯èƒ½å°‘ã€‚é€šå¸¸ï¼Œåœ¨è®¡ç®—æ—¶é—´å’Œå†…å­˜ä¹‹é—´éœ€è¦æƒè¡¡ã€‚å› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦ç¡®å®šæ—¶é—´æ˜¯å¦æ¯”ç©ºé—´é‡è¦ï¼Œåä¹‹äº¦ç„¶ï¼Œç„¶åç›¸åº”åœ°ç¼–å†™ç®—æ³•ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å› æ­¤ï¼Œæˆ‘ä»¬å·²ç»çœ‹åˆ°äº†å¯ç”¨äºè¯„ä¼°ç®—æ³•çš„ä¸‰ä¸ªå› ç´ ã€‚åœ¨è¿™ä¸‰ä¸ªå› ç´ ä¸­ï¼Œæœ€é‡è¦çš„å› ç´ æ˜¯ç®—æ³•çš„æ•ˆç‡ã€‚&lt;/p&gt;</summary>
    
    
    
    <category term="Java" scheme="https://blog.zhuyizhuo.online/categories/Java/"/>
    
    <category term="ç®—æ³•" scheme="https://blog.zhuyizhuo.online/categories/%E7%AE%97%E6%B3%95/"/>
    
    
    <category term="Java" scheme="https://blog.zhuyizhuo.online/tags/Java/"/>
    
    <category term="ç®—æ³•" scheme="https://blog.zhuyizhuo.online/tags/%E7%AE%97%E6%B3%95/"/>
    
  </entry>
  
</feed>
